(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=i(a);fetch(a.href,u)}})();function ay(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Tc={exports:{}},Ds={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hm;function AE(){if(Hm)return Ds;Hm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,a,u){var d=null;if(u!==void 0&&(d=""+u),a.key!==void 0&&(d=""+a.key),"key"in a){u={};for(var p in a)p!=="key"&&(u[p]=a[p])}else u=a;return a=u.ref,{$$typeof:n,type:s,key:d,ref:a!==void 0?a:null,props:u}}return Ds.Fragment=e,Ds.jsx=i,Ds.jsxs=i,Ds}var Vm;function xE(){return Vm||(Vm=1,Tc.exports=AE()),Tc.exports}var S=xE(),Ec={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm;function IE(){if(Gm)return fe;Gm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.for("react.activity"),T=Symbol.iterator;function A(I){return I===null||typeof I!="object"?null:(I=T&&I[T]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,D={};function B(I,V,Y){this.props=I,this.context=V,this.refs=D,this.updater=Y||b}B.prototype.isReactComponent={},B.prototype.setState=function(I,V){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,V,"setState")},B.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function F(){}F.prototype=B.prototype;function z(I,V,Y){this.props=I,this.context=V,this.refs=D,this.updater=Y||b}var J=z.prototype=new F;J.constructor=z,U(J,B.prototype),J.isPureReactComponent=!0;var H=Array.isArray;function ee(){}var K={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Q(I,V,Y){var W=Y.ref;return{$$typeof:n,type:I,key:V,ref:W!==void 0?W:null,props:Y}}function ue(I,V){return Q(I.type,V,I.props)}function Ee(I){return typeof I=="object"&&I!==null&&I.$$typeof===n}function Ie(I){var V={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(Y){return V[Y]})}var Ue=/\/+/g;function Ne(I,V){return typeof I=="object"&&I!==null&&I.key!=null?Ie(""+I.key):V.toString(36)}function Je(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ee,ee):(I.status="pending",I.then(function(V){I.status==="pending"&&(I.status="fulfilled",I.value=V)},function(V){I.status==="pending"&&(I.status="rejected",I.reason=V)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function P(I,V,Y,W,le){var he=typeof I;(he==="undefined"||he==="boolean")&&(I=null);var Se=!1;if(I===null)Se=!0;else switch(he){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(I.$$typeof){case n:case e:Se=!0;break;case v:return Se=I._init,P(Se(I._payload),V,Y,W,le)}}if(Se)return le=le(I),Se=W===""?"."+Ne(I,0):W,H(le)?(Y="",Se!=null&&(Y=Se.replace(Ue,"$&/")+"/"),P(le,V,Y,"",function(Vo){return Vo})):le!=null&&(Ee(le)&&(le=ue(le,Y+(le.key==null||I&&I.key===le.key?"":(""+le.key).replace(Ue,"$&/")+"/")+Se)),V.push(le)),1;Se=0;var at=W===""?".":W+":";if(H(I))for(var qe=0;qe<I.length;qe++)W=I[qe],he=at+Ne(W,qe),Se+=P(W,V,Y,he,le);else if(qe=A(I),typeof qe=="function")for(I=qe.call(I),qe=0;!(W=I.next()).done;)W=W.value,he=at+Ne(W,qe++),Se+=P(W,V,Y,he,le);else if(he==="object"){if(typeof I.then=="function")return P(Je(I),V,Y,W,le);throw V=String(I),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Se}function X(I,V,Y){if(I==null)return I;var W=[],le=0;return P(I,W,"","",function(he){return V.call(Y,he,le++)}),W}function ne(I){if(I._status===-1){var V=I._result;V=V(),V.then(function(Y){(I._status===0||I._status===-1)&&(I._status=1,I._result=Y)},function(Y){(I._status===0||I._status===-1)&&(I._status=2,I._result=Y)}),I._status===-1&&(I._status=0,I._result=V)}if(I._status===1)return I._result.default;throw I._result}var Z=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},se={map:X,forEach:function(I,V,Y){X(I,function(){V.apply(this,arguments)},Y)},count:function(I){var V=0;return X(I,function(){V++}),V},toArray:function(I){return X(I,function(V){return V})||[]},only:function(I){if(!Ee(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return fe.Activity=E,fe.Children=se,fe.Component=B,fe.Fragment=i,fe.Profiler=a,fe.PureComponent=z,fe.StrictMode=s,fe.Suspense=y,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,fe.__COMPILER_RUNTIME={__proto__:null,c:function(I){return K.H.useMemoCache(I)}},fe.cache=function(I){return function(){return I.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(I,V,Y){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var W=U({},I.props),le=I.key;if(V!=null)for(he in V.key!==void 0&&(le=""+V.key),V)!de.call(V,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&V.ref===void 0||(W[he]=V[he]);var he=arguments.length-2;if(he===1)W.children=Y;else if(1<he){for(var Se=Array(he),at=0;at<he;at++)Se[at]=arguments[at+2];W.children=Se}return Q(I.type,le,W)},fe.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:u,_context:I},I},fe.createElement=function(I,V,Y){var W,le={},he=null;if(V!=null)for(W in V.key!==void 0&&(he=""+V.key),V)de.call(V,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(le[W]=V[W]);var Se=arguments.length-2;if(Se===1)le.children=Y;else if(1<Se){for(var at=Array(Se),qe=0;qe<Se;qe++)at[qe]=arguments[qe+2];le.children=at}if(I&&I.defaultProps)for(W in Se=I.defaultProps,Se)le[W]===void 0&&(le[W]=Se[W]);return Q(I,he,le)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(I){return{$$typeof:p,render:I}},fe.isValidElement=Ee,fe.lazy=function(I){return{$$typeof:v,_payload:{_status:-1,_result:I},_init:ne}},fe.memo=function(I,V){return{$$typeof:g,type:I,compare:V===void 0?null:V}},fe.startTransition=function(I){var V=K.T,Y={};K.T=Y;try{var W=I(),le=K.S;le!==null&&le(Y,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ee,Z)}catch(he){Z(he)}finally{V!==null&&Y.types!==null&&(V.types=Y.types),K.T=V}},fe.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},fe.use=function(I){return K.H.use(I)},fe.useActionState=function(I,V,Y){return K.H.useActionState(I,V,Y)},fe.useCallback=function(I,V){return K.H.useCallback(I,V)},fe.useContext=function(I){return K.H.useContext(I)},fe.useDebugValue=function(){},fe.useDeferredValue=function(I,V){return K.H.useDeferredValue(I,V)},fe.useEffect=function(I,V){return K.H.useEffect(I,V)},fe.useEffectEvent=function(I){return K.H.useEffectEvent(I)},fe.useId=function(){return K.H.useId()},fe.useImperativeHandle=function(I,V,Y){return K.H.useImperativeHandle(I,V,Y)},fe.useInsertionEffect=function(I,V){return K.H.useInsertionEffect(I,V)},fe.useLayoutEffect=function(I,V){return K.H.useLayoutEffect(I,V)},fe.useMemo=function(I,V){return K.H.useMemo(I,V)},fe.useOptimistic=function(I,V){return K.H.useOptimistic(I,V)},fe.useReducer=function(I,V,Y){return K.H.useReducer(I,V,Y)},fe.useRef=function(I){return K.H.useRef(I)},fe.useState=function(I){return K.H.useState(I)},fe.useSyncExternalStore=function(I,V,Y){return K.H.useSyncExternalStore(I,V,Y)},fe.useTransition=function(){return K.H.useTransition()},fe.version="19.2.4",fe}var Bm;function cd(){return Bm||(Bm=1,Ec.exports=IE()),Ec.exports}var ae=cd();const wE=ay(ae);var Sc={exports:{}},ks={},Cc={exports:{}},Ac={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function bE(){return qm||(qm=1,(function(n){function e(P,X){var ne=P.length;P.push(X);e:for(;0<ne;){var Z=ne-1>>>1,se=P[Z];if(0<a(se,X))P[Z]=X,P[ne]=se,ne=Z;else break e}}function i(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var X=P[0],ne=P.pop();if(ne!==X){P[0]=ne;e:for(var Z=0,se=P.length,I=se>>>1;Z<I;){var V=2*(Z+1)-1,Y=P[V],W=V+1,le=P[W];if(0>a(Y,ne))W<se&&0>a(le,Y)?(P[Z]=le,P[W]=ne,Z=W):(P[Z]=Y,P[V]=ne,Z=V);else if(W<se&&0>a(le,ne))P[Z]=le,P[W]=ne,Z=W;else break e}}return X}function a(P,X){var ne=P.sortIndex-X.sortIndex;return ne!==0?ne:P.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();n.unstable_now=function(){return d.now()-p}}var y=[],g=[],v=1,E=null,T=3,A=!1,b=!1,U=!1,D=!1,B=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function J(P){for(var X=i(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=P)s(g),X.sortIndex=X.expirationTime,e(y,X);else break;X=i(g)}}function H(P){if(U=!1,J(P),!b)if(i(y)!==null)b=!0,ee||(ee=!0,Ie());else{var X=i(g);X!==null&&Je(H,X.startTime-P)}}var ee=!1,K=-1,de=5,Q=-1;function ue(){return D?!0:!(n.unstable_now()-Q<de)}function Ee(){if(D=!1,ee){var P=n.unstable_now();Q=P;var X=!0;try{e:{b=!1,U&&(U=!1,F(K),K=-1),A=!0;var ne=T;try{t:{for(J(P),E=i(y);E!==null&&!(E.expirationTime>P&&ue());){var Z=E.callback;if(typeof Z=="function"){E.callback=null,T=E.priorityLevel;var se=Z(E.expirationTime<=P);if(P=n.unstable_now(),typeof se=="function"){E.callback=se,J(P),X=!0;break t}E===i(y)&&s(y),J(P)}else s(y);E=i(y)}if(E!==null)X=!0;else{var I=i(g);I!==null&&Je(H,I.startTime-P),X=!1}}break e}finally{E=null,T=ne,A=!1}X=void 0}}finally{X?Ie():ee=!1}}}var Ie;if(typeof z=="function")Ie=function(){z(Ee)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,Ne=Ue.port2;Ue.port1.onmessage=Ee,Ie=function(){Ne.postMessage(null)}}else Ie=function(){B(Ee,0)};function Je(P,X){K=B(function(){P(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(P){P.callback=null},n.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<P?Math.floor(1e3/P):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(P){switch(T){case 1:case 2:case 3:var X=3;break;default:X=T}var ne=T;T=X;try{return P()}finally{T=ne}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(P,X){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var ne=T;T=P;try{return X()}finally{T=ne}},n.unstable_scheduleCallback=function(P,X,ne){var Z=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Z+ne:Z):ne=Z,P){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=ne+se,P={id:v++,callback:X,priorityLevel:P,startTime:ne,expirationTime:se,sortIndex:-1},ne>Z?(P.sortIndex=ne,e(g,P),i(y)===null&&P===i(g)&&(U?(F(K),K=-1):U=!0,Je(H,ne-Z))):(P.sortIndex=se,e(y,P),b||A||(b=!0,ee||(ee=!0,Ie()))),P},n.unstable_shouldYield=ue,n.unstable_wrapCallback=function(P){var X=T;return function(){var ne=T;T=X;try{return P.apply(this,arguments)}finally{T=ne}}}})(Ac)),Ac}var zm;function RE(){return zm||(zm=1,Cc.exports=bE()),Cc.exports}var xc={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fm;function NE(){if(Fm)return st;Fm=1;var n=cd();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},a=Symbol.for("react.portal");function u(y,g,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:E==null?null:""+E,children:y,containerInfo:g,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,st.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,v)},st.flushSync=function(y){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=g,s.p=v,s.d.f()}},st.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},st.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},st.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,A=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:E,integrity:T,fetchPriority:A}):v==="script"&&s.d.X(y,{crossOrigin:E,integrity:T,fetchPriority:A,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},st.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},st.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,E=p(v,g.crossOrigin);s.d.L(y,v,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},st.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=p(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},st.requestFormReset=function(y){s.d.r(y)},st.unstable_batchedUpdates=function(y,g){return y(g)},st.useFormState=function(y,g,v){return d.H.useFormState(y,g,v)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.4",st}var Jm;function ME(){if(Jm)return xc.exports;Jm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),xc.exports=NE(),xc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function DE(){if(Ym)return ks;Ym=1;var n=RE(),e=cd(),i=ME();function s(t){var o="https://react.dev/errors/"+t;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)o+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var o=t,r=t;if(t.alternate)for(;o.return;)o=o.return;else{t=o;do o=t,(o.flags&4098)!==0&&(r=o.return),t=o.return;while(t)}return o.tag===3?r:null}function d(t){if(t.tag===13){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function p(t){if(t.tag===31){var o=t.memoizedState;if(o===null&&(t=t.alternate,t!==null&&(o=t.memoizedState)),o!==null)return o.dehydrated}return null}function y(t){if(u(t)!==t)throw Error(s(188))}function g(t){var o=t.alternate;if(!o){if(o=u(t),o===null)throw Error(s(188));return o!==t?null:t}for(var r=t,l=o;;){var h=r.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===r)return y(h),t;if(m===l)return y(h),o;m=m.sibling}throw Error(s(188))}if(r.return!==l.return)r=h,l=m;else{for(var _=!1,C=h.child;C;){if(C===r){_=!0,r=h,l=m;break}if(C===l){_=!0,l=h,r=m;break}C=C.sibling}if(!_){for(C=m.child;C;){if(C===r){_=!0,r=m,l=h;break}if(C===l){_=!0,l=m,r=h;break}C=C.sibling}if(!_)throw Error(s(189))}}if(r.alternate!==l)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?t:o}function v(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t;for(t=t.child;t!==null;){if(o=v(t),o!==null)return o;t=t.sibling}return null}var E=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),z=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Ie(t){return t===null||typeof t!="object"?null:(t=Ee&&t[Ee]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ue?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case B:return"Profiler";case D:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList";case Q:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case b:return"Portal";case z:return t.displayName||"Context";case F:return(t._context.displayName||"Context")+".Consumer";case J:var o=t.render;return t=t.displayName,t||(t=o.displayName||o.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K:return o=t.displayName||null,o!==null?o:Ne(t.type)||"Memo";case de:o=t._payload,t=t._init;try{return Ne(t(o))}catch{}}return null}var Je=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Z=[],se=-1;function I(t){return{current:t}}function V(t){0>se||(t.current=Z[se],Z[se]=null,se--)}function Y(t,o){se++,Z[se]=t.current,t.current=o}var W=I(null),le=I(null),he=I(null),Se=I(null);function at(t,o){switch(Y(he,o),Y(le,t),Y(W,null),o.nodeType){case 9:case 11:t=(t=o.documentElement)&&(t=t.namespaceURI)?am(t):0;break;default:if(t=o.tagName,o=o.namespaceURI)o=am(o),t=lm(o,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}V(W),Y(W,t)}function qe(){V(W),V(le),V(he)}function Vo(t){t.memoizedState!==null&&Y(Se,t);var o=W.current,r=lm(o,t.type);o!==r&&(Y(le,t),Y(W,r))}function js(t){le.current===t&&(V(W),V(le)),Se.current===t&&(V(Se),bs._currentValue=ne)}var nl,Pd;function hi(t){if(nl===void 0)try{throw Error()}catch(r){var o=r.stack.trim().match(/\n( *(at )?)/);nl=o&&o[1]||"",Pd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nl+t+Pd}var il=!1;function ol(t,o){if(!t||il)return"";il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(o){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(L){var k=L}Reflect.construct(t,[],q)}else{try{q.call()}catch(L){k=L}t.call(q.prototype)}}else{try{throw Error()}catch(L){k=L}(q=t())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(L){if(L&&k&&typeof L.stack=="string")return[L.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],C=m[1];if(_&&C){var x=_.split(`
`),M=C.split(`
`);for(h=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;h<M.length&&!M[h].includes("DetermineComponentFrameRoot");)h++;if(l===x.length||h===M.length)for(l=x.length-1,h=M.length-1;1<=l&&0<=h&&x[l]!==M[h];)h--;for(;1<=l&&0<=h;l--,h--)if(x[l]!==M[h]){if(l!==1||h!==1)do if(l--,h--,0>h||x[l]!==M[h]){var O=`
`+x[l].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=l&&0<=h);break}}}finally{il=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?hi(r):""}function t_(t,o){switch(t.tag){case 26:case 27:case 5:return hi(t.type);case 16:return hi("Lazy");case 13:return t.child!==o&&o!==null?hi("Suspense Fallback"):hi("Suspense");case 19:return hi("SuspenseList");case 0:case 15:return ol(t.type,!1);case 11:return ol(t.type.render,!1);case 1:return ol(t.type,!0);case 31:return hi("Activity");default:return""}}function Od(t){try{var o="",r=null;do o+=t_(t,r),r=t,t=t.return;while(t);return o}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var sl=Object.prototype.hasOwnProperty,rl=n.unstable_scheduleCallback,al=n.unstable_cancelCallback,n_=n.unstable_shouldYield,i_=n.unstable_requestPaint,Tt=n.unstable_now,o_=n.unstable_getCurrentPriorityLevel,Hd=n.unstable_ImmediatePriority,Vd=n.unstable_UserBlockingPriority,er=n.unstable_NormalPriority,s_=n.unstable_LowPriority,Gd=n.unstable_IdlePriority,r_=n.log,a_=n.unstable_setDisableYieldValue,Go=null,Et=null;function Nn(t){if(typeof r_=="function"&&a_(t),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(Go,t)}catch{}}var St=Math.clz32?Math.clz32:c_,l_=Math.log,u_=Math.LN2;function c_(t){return t>>>=0,t===0?32:31-(l_(t)/u_|0)|0}var tr=256,nr=262144,ir=4194304;function pi(t){var o=t&42;if(o!==0)return o;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function or(t,o,r){var l=t.pendingLanes;if(l===0)return 0;var h=0,m=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var C=l&134217727;return C!==0?(l=C&~m,l!==0?h=pi(l):(_&=C,_!==0?h=pi(_):r||(r=C&~t,r!==0&&(h=pi(r))))):(C=l&~m,C!==0?h=pi(C):_!==0?h=pi(_):r||(r=l&~t,r!==0&&(h=pi(r)))),h===0?0:o!==0&&o!==h&&(o&m)===0&&(m=h&-h,r=o&-o,m>=r||m===32&&(r&4194048)!==0)?o:h}function Bo(t,o){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&o)===0}function d_(t,o){switch(t){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bd(){var t=ir;return ir<<=1,(ir&62914560)===0&&(ir=4194304),t}function ll(t){for(var o=[],r=0;31>r;r++)o.push(t);return o}function qo(t,o){t.pendingLanes|=o,o!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function f_(t,o,r,l,h,m){var _=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var C=t.entanglements,x=t.expirationTimes,M=t.hiddenUpdates;for(r=_&~r;0<r;){var O=31-St(r),q=1<<O;C[O]=0,x[O]=-1;var k=M[O];if(k!==null)for(M[O]=null,O=0;O<k.length;O++){var L=k[O];L!==null&&(L.lane&=-536870913)}r&=~q}l!==0&&qd(t,l,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~o))}function qd(t,o,r){t.pendingLanes|=o,t.suspendedLanes&=~o;var l=31-St(o);t.entangledLanes|=o,t.entanglements[l]=t.entanglements[l]|1073741824|r&261930}function zd(t,o){var r=t.entangledLanes|=o;for(t=t.entanglements;r;){var l=31-St(r),h=1<<l;h&o|t[l]&o&&(t[l]|=o),r&=~h}}function Fd(t,o){var r=o&-o;return r=(r&42)!==0?1:ul(r),(r&(t.suspendedLanes|o))!==0?0:r}function ul(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function cl(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Jd(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Mm(t.type))}function Yd(t,o){var r=X.p;try{return X.p=t,o()}finally{X.p=r}}var Mn=Math.random().toString(36).slice(2),et="__reactFiber$"+Mn,ht="__reactProps$"+Mn,Hi="__reactContainer$"+Mn,dl="__reactEvents$"+Mn,h_="__reactListeners$"+Mn,p_="__reactHandles$"+Mn,Kd="__reactResources$"+Mn,zo="__reactMarker$"+Mn;function fl(t){delete t[et],delete t[ht],delete t[dl],delete t[h_],delete t[p_]}function Vi(t){var o=t[et];if(o)return o;for(var r=t.parentNode;r;){if(o=r[Hi]||r[et]){if(r=o.alternate,o.child!==null||r!==null&&r.child!==null)for(t=mm(t);t!==null;){if(r=t[et])return r;t=mm(t)}return o}t=r,r=t.parentNode}return null}function Gi(t){if(t=t[et]||t[Hi]){var o=t.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return t}return null}function Fo(t){var o=t.tag;if(o===5||o===26||o===27||o===6)return t.stateNode;throw Error(s(33))}function Bi(t){var o=t[Kd];return o||(o=t[Kd]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function We(t){t[zo]=!0}var Xd=new Set,$d={};function mi(t,o){qi(t,o),qi(t+"Capture",o)}function qi(t,o){for($d[t]=o,t=0;t<o.length;t++)Xd.add(o[t])}var m_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qd={},Wd={};function g_(t){return sl.call(Wd,t)?!0:sl.call(Qd,t)?!1:m_.test(t)?Wd[t]=!0:(Qd[t]=!0,!1)}function sr(t,o,r){if(g_(o))if(r===null)t.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(o);return;case"boolean":var l=o.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(o);return}}t.setAttribute(o,""+r)}}function rr(t,o,r){if(r===null)t.removeAttribute(o);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttribute(o,""+r)}}function on(t,o,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(o,r,""+l)}}function Nt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zd(t){var o=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function y_(t,o,r){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,o);if(!t.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,m=l.set;return Object.defineProperty(t,o,{configurable:!0,get:function(){return h.call(this)},set:function(_){r=""+_,m.call(this,_)}}),Object.defineProperty(t,o,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(_){r=""+_},stopTracking:function(){t._valueTracker=null,delete t[o]}}}}function hl(t){if(!t._valueTracker){var o=Zd(t)?"checked":"value";t._valueTracker=y_(t,o,""+t[o])}}function jd(t){if(!t)return!1;var o=t._valueTracker;if(!o)return!0;var r=o.getValue(),l="";return t&&(l=Zd(t)?t.checked?"true":"false":t.value),t=l,t!==r?(o.setValue(t),!0):!1}function ar(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var v_=/[\n"\\]/g;function Mt(t){return t.replace(v_,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function pl(t,o,r,l,h,m,_,C){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),o!=null?_==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+Nt(o)):t.value!==""+Nt(o)&&(t.value=""+Nt(o)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),o!=null?ml(t,_,Nt(o)):r!=null?ml(t,_,Nt(r)):l!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.name=""+Nt(C):t.removeAttribute("name")}function ef(t,o,r,l,h,m,_,C){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),o!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||o!=null)){hl(t);return}r=r!=null?""+Nt(r):"",o=o!=null?""+Nt(o):r,C||o===t.value||(t.value=o),t.defaultValue=o}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=C?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),hl(t)}function ml(t,o,r){o==="number"&&ar(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zi(t,o,r,l){if(t=t.options,o){o={};for(var h=0;h<r.length;h++)o["$"+r[h]]=!0;for(r=0;r<t.length;r++)h=o.hasOwnProperty("$"+t[r].value),t[r].selected!==h&&(t[r].selected=h),h&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Nt(r),o=null,h=0;h<t.length;h++){if(t[h].value===r){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}o!==null||t[h].disabled||(o=t[h])}o!==null&&(o.selected=!0)}}function tf(t,o,r){if(o!=null&&(o=""+Nt(o),o!==t.value&&(t.value=o),r==null)){t.defaultValue!==o&&(t.defaultValue=o);return}t.defaultValue=r!=null?""+Nt(r):""}function nf(t,o,r,l){if(o==null){if(l!=null){if(r!=null)throw Error(s(92));if(Je(l)){if(1<l.length)throw Error(s(93));l=l[0]}r=l}r==null&&(r=""),o=r}r=Nt(o),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l),hl(t)}function Fi(t,o){if(o){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=o;return}}t.textContent=o}var __=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function of(t,o,r){var l=o.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="":l?t.setProperty(o,r):typeof r!="number"||r===0||__.has(o)?o==="float"?t.cssFloat=r:t[o]=(""+r).trim():t[o]=r+"px"}function sf(t,o,r){if(o!=null&&typeof o!="object")throw Error(s(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||o!=null&&o.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in o)l=o[h],o.hasOwnProperty(h)&&r[h]!==l&&of(t,h,l)}else for(var m in o)o.hasOwnProperty(m)&&of(t,m,o[m])}function gl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),E_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function lr(t){return E_.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function sn(){}var yl=null;function vl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ji=null,Yi=null;function rf(t){var o=Gi(t);if(o&&(t=o.stateNode)){var r=t[ht]||null;e:switch(t=o.stateNode,o.type){case"input":if(pl(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),o=r.name,r.type==="radio"&&o!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Mt(""+o)+'"][type="radio"]'),o=0;o<r.length;o++){var l=r[o];if(l!==t&&l.form===t.form){var h=l[ht]||null;if(!h)throw Error(s(90));pl(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(o=0;o<r.length;o++)l=r[o],l.form===t.form&&jd(l)}break e;case"textarea":tf(t,r.value,r.defaultValue);break e;case"select":o=r.value,o!=null&&zi(t,!!r.multiple,o,!1)}}}var _l=!1;function af(t,o,r){if(_l)return t(o,r);_l=!0;try{var l=t(o);return l}finally{if(_l=!1,(Ji!==null||Yi!==null)&&($r(),Ji&&(o=Ji,t=Yi,Yi=Ji=null,rf(o),t)))for(o=0;o<t.length;o++)rf(t[o])}}function Jo(t,o){var r=t.stateNode;if(r===null)return null;var l=r[ht]||null;if(l===null)return null;r=l[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(s(231,o,typeof r));return r}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tl=!1;if(rn)try{var Yo={};Object.defineProperty(Yo,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Yo,Yo),window.removeEventListener("test",Yo,Yo)}catch{Tl=!1}var Dn=null,El=null,ur=null;function lf(){if(ur)return ur;var t,o=El,r=o.length,l,h="value"in Dn?Dn.value:Dn.textContent,m=h.length;for(t=0;t<r&&o[t]===h[t];t++);var _=r-t;for(l=1;l<=_&&o[r-l]===h[m-l];l++);return ur=h.slice(t,1<l?1-l:void 0)}function cr(t){var o=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&o===13&&(t=13)):t=o,t===10&&(t=13),32<=t||t===13?t:0}function dr(){return!0}function uf(){return!1}function pt(t){function o(r,l,h,m,_){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var C in t)t.hasOwnProperty(C)&&(r=t[C],this[C]=r?r(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?dr:uf,this.isPropagationStopped=uf,this}return E(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dr)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dr)},persist:function(){},isPersistent:dr}),o}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fr=pt(gi),Ko=E({},gi,{view:0,detail:0}),S_=pt(Ko),Sl,Cl,Xo,hr=E({},Ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(Sl=t.screenX-Xo.screenX,Cl=t.screenY-Xo.screenY):Cl=Sl=0,Xo=t),Sl)},movementY:function(t){return"movementY"in t?t.movementY:Cl}}),cf=pt(hr),C_=E({},hr,{dataTransfer:0}),A_=pt(C_),x_=E({},Ko,{relatedTarget:0}),Al=pt(x_),I_=E({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),w_=pt(I_),b_=E({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),R_=pt(b_),N_=E({},gi,{data:0}),df=pt(N_),M_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},D_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},k_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U_(t){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(t):(t=k_[t])?!!o[t]:!1}function xl(){return U_}var L_=E({},Ko,{key:function(t){if(t.key){var o=M_[t.key]||t.key;if(o!=="Unidentified")return o}return t.type==="keypress"?(t=cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?D_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(t){return t.type==="keypress"?cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P_=pt(L_),O_=E({},hr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=pt(O_),H_=E({},Ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),V_=pt(H_),G_=E({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),B_=pt(G_),q_=E({},hr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),z_=pt(q_),F_=E({},gi,{newState:0,oldState:0}),J_=pt(F_),Y_=[9,13,27,32],Il=rn&&"CompositionEvent"in window,$o=null;rn&&"documentMode"in document&&($o=document.documentMode);var K_=rn&&"TextEvent"in window&&!$o,hf=rn&&(!Il||$o&&8<$o&&11>=$o),pf=" ",mf=!1;function gf(t,o){switch(t){case"keyup":return Y_.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ki=!1;function X_(t,o){switch(t){case"compositionend":return yf(o);case"keypress":return o.which!==32?null:(mf=!0,pf);case"textInput":return t=o.data,t===pf&&mf?null:t;default:return null}}function $_(t,o){if(Ki)return t==="compositionend"||!Il&&gf(t,o)?(t=lf(),ur=El=Dn=null,Ki=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return hf&&o.locale!=="ko"?null:o.data;default:return null}}var Q_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vf(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o==="input"?!!Q_[t.type]:o==="textarea"}function _f(t,o,r,l){Ji?Yi?Yi.push(l):Yi=[l]:Ji=l,o=na(o,"onChange"),0<o.length&&(r=new fr("onChange","change",null,r,l),t.push({event:r,listeners:o}))}var Qo=null,Wo=null;function W_(t){tm(t,0)}function pr(t){var o=Fo(t);if(jd(o))return t}function Tf(t,o){if(t==="change")return o}var Ef=!1;if(rn){var wl;if(rn){var bl="oninput"in document;if(!bl){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),bl=typeof Sf.oninput=="function"}wl=bl}else wl=!1;Ef=wl&&(!document.documentMode||9<document.documentMode)}function Cf(){Qo&&(Qo.detachEvent("onpropertychange",Af),Wo=Qo=null)}function Af(t){if(t.propertyName==="value"&&pr(Wo)){var o=[];_f(o,Wo,t,vl(t)),af(W_,o)}}function Z_(t,o,r){t==="focusin"?(Cf(),Qo=o,Wo=r,Qo.attachEvent("onpropertychange",Af)):t==="focusout"&&Cf()}function j_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pr(Wo)}function eT(t,o){if(t==="click")return pr(o)}function tT(t,o){if(t==="input"||t==="change")return pr(o)}function nT(t,o){return t===o&&(t!==0||1/t===1/o)||t!==t&&o!==o}var Ct=typeof Object.is=="function"?Object.is:nT;function Zo(t,o){if(Ct(t,o))return!0;if(typeof t!="object"||t===null||typeof o!="object"||o===null)return!1;var r=Object.keys(t),l=Object.keys(o);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!sl.call(o,h)||!Ct(t[h],o[h]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,o){var r=xf(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=o&&l>=o)return{node:r,offset:o-t};t=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xf(r)}}function wf(t,o){return t&&o?t===o?!0:t&&t.nodeType===3?!1:o&&o.nodeType===3?wf(t,o.parentNode):"contains"in t?t.contains(o):t.compareDocumentPosition?!!(t.compareDocumentPosition(o)&16):!1:!1}function bf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var o=ar(t.document);o instanceof t.HTMLIFrameElement;){try{var r=typeof o.contentWindow.location.href=="string"}catch{r=!1}if(r)t=o.contentWindow;else break;o=ar(t.document)}return o}function Rl(t){var o=t&&t.nodeName&&t.nodeName.toLowerCase();return o&&(o==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||o==="textarea"||t.contentEditable==="true")}var iT=rn&&"documentMode"in document&&11>=document.documentMode,Xi=null,Nl=null,jo=null,Ml=!1;function Rf(t,o,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ml||Xi==null||Xi!==ar(l)||(l=Xi,"selectionStart"in l&&Rl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),jo&&Zo(jo,l)||(jo=l,l=na(Nl,"onSelect"),0<l.length&&(o=new fr("onSelect","select",null,o,r),t.push({event:o,listeners:l}),o.target=Xi)))}function yi(t,o){var r={};return r[t.toLowerCase()]=o.toLowerCase(),r["Webkit"+t]="webkit"+o,r["Moz"+t]="moz"+o,r}var $i={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionrun:yi("Transition","TransitionRun"),transitionstart:yi("Transition","TransitionStart"),transitioncancel:yi("Transition","TransitionCancel"),transitionend:yi("Transition","TransitionEnd")},Dl={},Nf={};rn&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function vi(t){if(Dl[t])return Dl[t];if(!$i[t])return t;var o=$i[t],r;for(r in o)if(o.hasOwnProperty(r)&&r in Nf)return Dl[t]=o[r];return t}var Mf=vi("animationend"),Df=vi("animationiteration"),kf=vi("animationstart"),oT=vi("transitionrun"),sT=vi("transitionstart"),rT=vi("transitioncancel"),Uf=vi("transitionend"),Lf=new Map,kl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kl.push("scrollEnd");function qt(t,o){Lf.set(t,o),mi(o,[t])}var mr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Dt=[],Qi=0,Ul=0;function gr(){for(var t=Qi,o=Ul=Qi=0;o<t;){var r=Dt[o];Dt[o++]=null;var l=Dt[o];Dt[o++]=null;var h=Dt[o];Dt[o++]=null;var m=Dt[o];if(Dt[o++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}m!==0&&Pf(r,h,m)}}function yr(t,o,r,l){Dt[Qi++]=t,Dt[Qi++]=o,Dt[Qi++]=r,Dt[Qi++]=l,Ul|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ll(t,o,r,l){return yr(t,o,r,l),vr(t)}function _i(t,o){return yr(t,null,null,o),vr(t)}function Pf(t,o,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var h=!1,m=t.return;m!==null;)m.childLanes|=r,l=m.alternate,l!==null&&(l.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&o!==null&&(h=31-St(r),t=m.hiddenUpdates,l=t[h],l===null?t[h]=[o]:l.push(o),o.lane=r|536870912),m):null}function vr(t){if(50<Es)throw Es=0,Fu=null,Error(s(185));for(var o=t.return;o!==null;)t=o,o=t.return;return t.tag===3?t.stateNode:null}var Wi={};function aT(t,o,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(t,o,r,l){return new aT(t,o,r,l)}function Pl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function an(t,o){var r=t.alternate;return r===null?(r=At(t.tag,o,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=o,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,o=t.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Of(t,o){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=o,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,o=r.dependencies,t.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t}function _r(t,o,r,l,h,m){var _=0;if(l=t,typeof t=="function")Pl(t)&&(_=1);else if(typeof t=="string")_=fE(t,r,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Q:return t=At(31,r,o,h),t.elementType=Q,t.lanes=m,t;case U:return Ti(r.children,h,m,o);case D:_=8,h|=24;break;case B:return t=At(12,r,o,h|2),t.elementType=B,t.lanes=m,t;case H:return t=At(13,r,o,h),t.elementType=H,t.lanes=m,t;case ee:return t=At(19,r,o,h),t.elementType=ee,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case z:_=10;break e;case F:_=9;break e;case J:_=11;break e;case K:_=14;break e;case de:_=16,l=null;break e}_=29,r=Error(s(130,t===null?"null":typeof t,"")),l=null}return o=At(_,r,o,h),o.elementType=t,o.type=l,o.lanes=m,o}function Ti(t,o,r,l){return t=At(7,t,l,o),t.lanes=r,t}function Ol(t,o,r){return t=At(6,t,null,o),t.lanes=r,t}function Hf(t){var o=At(18,null,null,0);return o.stateNode=t,o}function Hl(t,o,r){return o=At(4,t.children!==null?t.children:[],t.key,o),o.lanes=r,o.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},o}var Vf=new WeakMap;function kt(t,o){if(typeof t=="object"&&t!==null){var r=Vf.get(t);return r!==void 0?r:(o={value:t,source:o,stack:Od(o)},Vf.set(t,o),o)}return{value:t,source:o,stack:Od(o)}}var Zi=[],ji=0,Tr=null,es=0,Ut=[],Lt=0,kn=null,Wt=1,Zt="";function ln(t,o){Zi[ji++]=es,Zi[ji++]=Tr,Tr=t,es=o}function Gf(t,o,r){Ut[Lt++]=Wt,Ut[Lt++]=Zt,Ut[Lt++]=kn,kn=t;var l=Wt;t=Zt;var h=32-St(l)-1;l&=~(1<<h),r+=1;var m=32-St(o)+h;if(30<m){var _=h-h%5;m=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Wt=1<<32-St(o)+h|r<<h|l,Zt=m+t}else Wt=1<<m|r<<h|l,Zt=t}function Vl(t){t.return!==null&&(ln(t,1),Gf(t,1,0))}function Gl(t){for(;t===Tr;)Tr=Zi[--ji],Zi[ji]=null,es=Zi[--ji],Zi[ji]=null;for(;t===kn;)kn=Ut[--Lt],Ut[Lt]=null,Zt=Ut[--Lt],Ut[Lt]=null,Wt=Ut[--Lt],Ut[Lt]=null}function Bf(t,o){Ut[Lt++]=Wt,Ut[Lt++]=Zt,Ut[Lt++]=kn,Wt=o.id,Zt=o.overflow,kn=t}var tt=null,Oe=null,Te=!1,Un=null,Pt=!1,Bl=Error(s(519));function Ln(t){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ts(kt(o,t)),Bl}function qf(t){var o=t.stateNode,r=t.type,l=t.memoizedProps;switch(o[et]=t,o[ht]=l,r){case"dialog":ye("cancel",o),ye("close",o);break;case"iframe":case"object":case"embed":ye("load",o);break;case"video":case"audio":for(r=0;r<Cs.length;r++)ye(Cs[r],o);break;case"source":ye("error",o);break;case"img":case"image":case"link":ye("error",o),ye("load",o);break;case"details":ye("toggle",o);break;case"input":ye("invalid",o),ef(o,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ye("invalid",o);break;case"textarea":ye("invalid",o),nf(o,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||o.textContent===""+r||l.suppressHydrationWarning===!0||sm(o.textContent,r)?(l.popover!=null&&(ye("beforetoggle",o),ye("toggle",o)),l.onScroll!=null&&ye("scroll",o),l.onScrollEnd!=null&&ye("scrollend",o),l.onClick!=null&&(o.onclick=sn),o=!0):o=!1,o||Ln(t,!0)}function zf(t){for(tt=t.return;tt;)switch(tt.tag){case 5:case 31:case 13:Pt=!1;return;case 27:case 3:Pt=!0;return;default:tt=tt.return}}function eo(t){if(t!==tt)return!1;if(!Te)return zf(t),Te=!0,!1;var o=t.tag,r;if((r=o!==3&&o!==27)&&((r=o===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||sc(t.type,t.memoizedProps)),r=!r),r&&Oe&&Ln(t),zf(t),o===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Oe=pm(t)}else if(o===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));Oe=pm(t)}else o===27?(o=Oe,$n(t.type)?(t=cc,cc=null,Oe=t):Oe=o):Oe=tt?Ht(t.stateNode.nextSibling):null;return!0}function Ei(){Oe=tt=null,Te=!1}function ql(){var t=Un;return t!==null&&(vt===null?vt=t:vt.push.apply(vt,t),Un=null),t}function ts(t){Un===null?Un=[t]:Un.push(t)}var zl=I(null),Si=null,un=null;function Pn(t,o,r){Y(zl,o._currentValue),o._currentValue=r}function cn(t){t._currentValue=zl.current,V(zl)}function Fl(t,o,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&o)!==o?(t.childLanes|=o,l!==null&&(l.childLanes|=o)):l!==null&&(l.childLanes&o)!==o&&(l.childLanes|=o),t===r)break;t=t.return}}function Jl(t,o,r,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var _=h.child;m=m.firstContext;e:for(;m!==null;){var C=m;m=h;for(var x=0;x<o.length;x++)if(C.context===o[x]){m.lanes|=r,C=m.alternate,C!==null&&(C.lanes|=r),Fl(m.return,r,t),l||(_=null);break e}m=C.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=r,m=_.alternate,m!==null&&(m.lanes|=r),Fl(_,r,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function to(t,o,r,l){t=null;for(var h=o,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=h.type;Ct(h.pendingProps.value,_.value)||(t!==null?t.push(C):t=[C])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bs):t=[bs])}h=h.return}t!==null&&Jl(o,t,r,l),o.flags|=262144}function Er(t){for(t=t.firstContext;t!==null;){if(!Ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ci(t){Si=t,un=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return Ff(Si,t)}function Sr(t,o){return Si===null&&Ci(t),Ff(t,o)}function Ff(t,o){var r=o._currentValue;if(o={context:o,memoizedValue:r,next:null},un===null){if(t===null)throw Error(s(308));un=o,t.dependencies={lanes:0,firstContext:o},t.flags|=524288}else un=un.next=o;return r}var lT=typeof AbortController<"u"?AbortController:function(){var t=[],o=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){o.aborted=!0,t.forEach(function(r){return r()})}},uT=n.unstable_scheduleCallback,cT=n.unstable_NormalPriority,Ye={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yl(){return{controller:new lT,data:new Map,refCount:0}}function ns(t){t.refCount--,t.refCount===0&&uT(cT,function(){t.controller.abort()})}var is=null,Kl=0,no=0,io=null;function dT(t,o){if(is===null){var r=is=[];Kl=0,no=Qu(),io={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Kl++,o.then(Jf,Jf),o}function Jf(){if(--Kl===0&&is!==null){io!==null&&(io.status="fulfilled");var t=is;is=null,no=0,io=null;for(var o=0;o<t.length;o++)(0,t[o])()}}function fT(t,o){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return t.then(function(){l.status="fulfilled",l.value=o;for(var h=0;h<r.length;h++)(0,r[h])(o)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Yf=P.S;P.S=function(t,o){Rp=Tt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&dT(t,o),Yf!==null&&Yf(t,o)};var Ai=I(null);function Xl(){var t=Ai.current;return t!==null?t:Le.pooledCache}function Cr(t,o){o===null?Y(Ai,Ai.current):Y(Ai,o.pool)}function Kf(){var t=Xl();return t===null?null:{parent:Ye._currentValue,pool:t}}var oo=Error(s(460)),$l=Error(s(474)),Ar=Error(s(542)),xr={then:function(){}};function Xf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $f(t,o,r){switch(r=t[r],r===void 0?t.push(o):r!==o&&(o.then(sn,sn),o=r),o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Wf(t),t;default:if(typeof o.status=="string")o.then(sn,sn);else{if(t=Le,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=o,t.status="pending",t.then(function(l){if(o.status==="pending"){var h=o;h.status="fulfilled",h.value=l}},function(l){if(o.status==="pending"){var h=o;h.status="rejected",h.reason=l}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw t=o.reason,Wf(t),t}throw Ii=o,oo}}function xi(t){try{var o=t._init;return o(t._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ii=r,oo):r}}var Ii=null;function Qf(){if(Ii===null)throw Error(s(459));var t=Ii;return Ii=null,t}function Wf(t){if(t===oo||t===Ar)throw Error(s(483))}var so=null,os=0;function Ir(t){var o=os;return os+=1,so===null&&(so=[]),$f(so,t,o)}function ss(t,o){o=o.props.ref,t.ref=o!==void 0?o:null}function wr(t,o){throw o.$$typeof===T?Error(s(525)):(t=Object.prototype.toString.call(o),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":t)))}function Zf(t){function o(R,w){if(t){var N=R.deletions;N===null?(R.deletions=[w],R.flags|=16):N.push(w)}}function r(R,w){if(!t)return null;for(;w!==null;)o(R,w),w=w.sibling;return null}function l(R){for(var w=new Map;R!==null;)R.key!==null?w.set(R.key,R):w.set(R.index,R),R=R.sibling;return w}function h(R,w){return R=an(R,w),R.index=0,R.sibling=null,R}function m(R,w,N){return R.index=N,t?(N=R.alternate,N!==null?(N=N.index,N<w?(R.flags|=67108866,w):N):(R.flags|=67108866,w)):(R.flags|=1048576,w)}function _(R){return t&&R.alternate===null&&(R.flags|=67108866),R}function C(R,w,N,G){return w===null||w.tag!==6?(w=Ol(N,R.mode,G),w.return=R,w):(w=h(w,N),w.return=R,w)}function x(R,w,N,G){var ie=N.type;return ie===U?O(R,w,N.props.children,G,N.key):w!==null&&(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&xi(ie)===w.type)?(w=h(w,N.props),ss(w,N),w.return=R,w):(w=_r(N.type,N.key,N.props,null,R.mode,G),ss(w,N),w.return=R,w)}function M(R,w,N,G){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=Hl(N,R.mode,G),w.return=R,w):(w=h(w,N.children||[]),w.return=R,w)}function O(R,w,N,G,ie){return w===null||w.tag!==7?(w=Ti(N,R.mode,G,ie),w.return=R,w):(w=h(w,N),w.return=R,w)}function q(R,w,N){if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return w=Ol(""+w,R.mode,N),w.return=R,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case A:return N=_r(w.type,w.key,w.props,null,R.mode,N),ss(N,w),N.return=R,N;case b:return w=Hl(w,R.mode,N),w.return=R,w;case de:return w=xi(w),q(R,w,N)}if(Je(w)||Ie(w))return w=Ti(w,R.mode,N,null),w.return=R,w;if(typeof w.then=="function")return q(R,Ir(w),N);if(w.$$typeof===z)return q(R,Sr(R,w),N);wr(R,w)}return null}function k(R,w,N,G){var ie=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return ie!==null?null:C(R,w,""+N,G);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return N.key===ie?x(R,w,N,G):null;case b:return N.key===ie?M(R,w,N,G):null;case de:return N=xi(N),k(R,w,N,G)}if(Je(N)||Ie(N))return ie!==null?null:O(R,w,N,G,null);if(typeof N.then=="function")return k(R,w,Ir(N),G);if(N.$$typeof===z)return k(R,w,Sr(R,N),G);wr(R,N)}return null}function L(R,w,N,G,ie){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return R=R.get(N)||null,C(w,R,""+G,ie);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case A:return R=R.get(G.key===null?N:G.key)||null,x(w,R,G,ie);case b:return R=R.get(G.key===null?N:G.key)||null,M(w,R,G,ie);case de:return G=xi(G),L(R,w,N,G,ie)}if(Je(G)||Ie(G))return R=R.get(N)||null,O(w,R,G,ie,null);if(typeof G.then=="function")return L(R,w,N,Ir(G),ie);if(G.$$typeof===z)return L(R,w,N,Sr(w,G),ie);wr(w,G)}return null}function j(R,w,N,G){for(var ie=null,Ce=null,te=w,me=w=0,_e=null;te!==null&&me<N.length;me++){te.index>me?(_e=te,te=null):_e=te.sibling;var Ae=k(R,te,N[me],G);if(Ae===null){te===null&&(te=_e);break}t&&te&&Ae.alternate===null&&o(R,te),w=m(Ae,w,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae,te=_e}if(me===N.length)return r(R,te),Te&&ln(R,me),ie;if(te===null){for(;me<N.length;me++)te=q(R,N[me],G),te!==null&&(w=m(te,w,me),Ce===null?ie=te:Ce.sibling=te,Ce=te);return Te&&ln(R,me),ie}for(te=l(te);me<N.length;me++)_e=L(te,R,me,N[me],G),_e!==null&&(t&&_e.alternate!==null&&te.delete(_e.key===null?me:_e.key),w=m(_e,w,me),Ce===null?ie=_e:Ce.sibling=_e,Ce=_e);return t&&te.forEach(function(ei){return o(R,ei)}),Te&&ln(R,me),ie}function oe(R,w,N,G){if(N==null)throw Error(s(151));for(var ie=null,Ce=null,te=w,me=w=0,_e=null,Ae=N.next();te!==null&&!Ae.done;me++,Ae=N.next()){te.index>me?(_e=te,te=null):_e=te.sibling;var ei=k(R,te,Ae.value,G);if(ei===null){te===null&&(te=_e);break}t&&te&&ei.alternate===null&&o(R,te),w=m(ei,w,me),Ce===null?ie=ei:Ce.sibling=ei,Ce=ei,te=_e}if(Ae.done)return r(R,te),Te&&ln(R,me),ie;if(te===null){for(;!Ae.done;me++,Ae=N.next())Ae=q(R,Ae.value,G),Ae!==null&&(w=m(Ae,w,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae);return Te&&ln(R,me),ie}for(te=l(te);!Ae.done;me++,Ae=N.next())Ae=L(te,R,me,Ae.value,G),Ae!==null&&(t&&Ae.alternate!==null&&te.delete(Ae.key===null?me:Ae.key),w=m(Ae,w,me),Ce===null?ie=Ae:Ce.sibling=Ae,Ce=Ae);return t&&te.forEach(function(CE){return o(R,CE)}),Te&&ln(R,me),ie}function ke(R,w,N,G){if(typeof N=="object"&&N!==null&&N.type===U&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case A:e:{for(var ie=N.key;w!==null;){if(w.key===ie){if(ie=N.type,ie===U){if(w.tag===7){r(R,w.sibling),G=h(w,N.props.children),G.return=R,R=G;break e}}else if(w.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===de&&xi(ie)===w.type){r(R,w.sibling),G=h(w,N.props),ss(G,N),G.return=R,R=G;break e}r(R,w);break}else o(R,w);w=w.sibling}N.type===U?(G=Ti(N.props.children,R.mode,G,N.key),G.return=R,R=G):(G=_r(N.type,N.key,N.props,null,R.mode,G),ss(G,N),G.return=R,R=G)}return _(R);case b:e:{for(ie=N.key;w!==null;){if(w.key===ie)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){r(R,w.sibling),G=h(w,N.children||[]),G.return=R,R=G;break e}else{r(R,w);break}else o(R,w);w=w.sibling}G=Hl(N,R.mode,G),G.return=R,R=G}return _(R);case de:return N=xi(N),ke(R,w,N,G)}if(Je(N))return j(R,w,N,G);if(Ie(N)){if(ie=Ie(N),typeof ie!="function")throw Error(s(150));return N=ie.call(N),oe(R,w,N,G)}if(typeof N.then=="function")return ke(R,w,Ir(N),G);if(N.$$typeof===z)return ke(R,w,Sr(R,N),G);wr(R,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,w!==null&&w.tag===6?(r(R,w.sibling),G=h(w,N),G.return=R,R=G):(r(R,w),G=Ol(N,R.mode,G),G.return=R,R=G),_(R)):r(R,w)}return function(R,w,N,G){try{os=0;var ie=ke(R,w,N,G);return so=null,ie}catch(te){if(te===oo||te===Ar)throw te;var Ce=At(29,te,null,R.mode);return Ce.lanes=G,Ce.return=R,Ce}finally{}}}var wi=Zf(!0),jf=Zf(!1),On=!1;function Ql(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wl(t,o){t=t.updateQueue,o.updateQueue===t&&(o.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vn(t,o,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(we&2)!==0){var h=l.pending;return h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o,o=vr(t),Pf(t,null,r),o}return yr(t,l,o,r),vr(t)}function rs(t,o,r){if(o=o.updateQueue,o!==null&&(o=o.shared,(r&4194048)!==0)){var l=o.lanes;l&=t.pendingLanes,r|=l,o.lanes=r,zd(t,r)}}function Zl(t,o){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var _={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?h=m=_:m=m.next=_,r=r.next}while(r!==null);m===null?h=m=o:m=m.next=o}else h=m=o;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=o:t.next=o,r.lastBaseUpdate=o}var jl=!1;function as(){if(jl){var t=io;if(t!==null)throw t}}function ls(t,o,r,l){jl=!1;var h=t.updateQueue;On=!1;var m=h.firstBaseUpdate,_=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var x=C,M=x.next;x.next=null,_===null?m=M:_.next=M,_=x;var O=t.alternate;O!==null&&(O=O.updateQueue,C=O.lastBaseUpdate,C!==_&&(C===null?O.firstBaseUpdate=M:C.next=M,O.lastBaseUpdate=x))}if(m!==null){var q=h.baseState;_=0,O=M=x=null,C=m;do{var k=C.lane&-536870913,L=k!==C.lane;if(L?(ve&k)===k:(l&k)===k){k!==0&&k===no&&(jl=!0),O!==null&&(O=O.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var j=t,oe=C;k=o;var ke=r;switch(oe.tag){case 1:if(j=oe.payload,typeof j=="function"){q=j.call(ke,q,k);break e}q=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=oe.payload,k=typeof j=="function"?j.call(ke,q,k):j,k==null)break e;q=E({},q,k);break e;case 2:On=!0}}k=C.callback,k!==null&&(t.flags|=64,L&&(t.flags|=8192),L=h.callbacks,L===null?h.callbacks=[k]:L.push(k))}else L={lane:k,tag:C.tag,payload:C.payload,callback:C.callback,next:null},O===null?(M=O=L,x=q):O=O.next=L,_|=k;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;L=C,C=L.next,L.next=null,h.lastBaseUpdate=L,h.shared.pending=null}}while(!0);O===null&&(x=q),h.baseState=x,h.firstBaseUpdate=M,h.lastBaseUpdate=O,m===null&&(h.shared.lanes=0),Fn|=_,t.lanes=_,t.memoizedState=q}}function eh(t,o){if(typeof t!="function")throw Error(s(191,t));t.call(o)}function th(t,o){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)eh(r[t],o)}var ro=I(null),br=I(0);function nh(t,o){t=_n,Y(br,t),Y(ro,o),_n=t|o.baseLanes}function eu(){Y(br,_n),Y(ro,ro.current)}function tu(){_n=br.current,V(ro),V(br)}var xt=I(null),Ot=null;function Gn(t){var o=t.alternate;Y(ze,ze.current&1),Y(xt,t),Ot===null&&(o===null||ro.current!==null||o.memoizedState!==null)&&(Ot=t)}function nu(t){Y(ze,ze.current),Y(xt,t),Ot===null&&(Ot=t)}function ih(t){t.tag===22?(Y(ze,ze.current),Y(xt,t),Ot===null&&(Ot=t)):Bn()}function Bn(){Y(ze,ze.current),Y(xt,xt.current)}function It(t){V(xt),Ot===t&&(Ot=null),V(ze)}var ze=I(0);function Rr(t){for(var o=t;o!==null;){if(o.tag===13){var r=o.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||lc(r)||uc(r)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var dn=0,pe=null,Me=null,Ke=null,Nr=!1,ao=!1,bi=!1,Mr=0,us=0,lo=null,hT=0;function Ge(){throw Error(s(321))}function iu(t,o){if(o===null)return!1;for(var r=0;r<o.length&&r<t.length;r++)if(!Ct(t[r],o[r]))return!1;return!0}function ou(t,o,r,l,h,m){return dn=m,pe=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,P.H=t===null||t.memoizedState===null?Gh:_u,bi=!1,m=r(l,h),bi=!1,ao&&(m=sh(o,r,l,h)),oh(t),m}function oh(t){P.H=fs;var o=Me!==null&&Me.next!==null;if(dn=0,Ke=Me=pe=null,Nr=!1,us=0,lo=null,o)throw Error(s(300));t===null||Xe||(t=t.dependencies,t!==null&&Er(t)&&(Xe=!0))}function sh(t,o,r,l){pe=t;var h=0;do{if(ao&&(lo=null),us=0,ao=!1,25<=h)throw Error(s(301));if(h+=1,Ke=Me=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}P.H=Bh,m=o(r,l)}while(ao);return m}function pT(){var t=P.H,o=t.useState()[0];return o=typeof o.then=="function"?cs(o):o,t=t.useState()[0],(Me!==null?Me.memoizedState:null)!==t&&(pe.flags|=1024),o}function su(){var t=Mr!==0;return Mr=0,t}function ru(t,o,r){o.updateQueue=t.updateQueue,o.flags&=-2053,t.lanes&=~r}function au(t){if(Nr){for(t=t.memoizedState;t!==null;){var o=t.queue;o!==null&&(o.pending=null),t=t.next}Nr=!1}dn=0,Ke=Me=pe=null,ao=!1,us=Mr=0,lo=null}function lt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?pe.memoizedState=Ke=t:Ke=Ke.next=t,Ke}function Fe(){if(Me===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Me.next;var o=Ke===null?pe.memoizedState:Ke.next;if(o!==null)Ke=o,Me=t;else{if(t===null)throw pe.alternate===null?Error(s(467)):Error(s(310));Me=t,t={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ke===null?pe.memoizedState=Ke=t:Ke=Ke.next=t}return Ke}function Dr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cs(t){var o=us;return us+=1,lo===null&&(lo=[]),t=$f(lo,t,o),o=pe,(Ke===null?o.memoizedState:Ke.next)===null&&(o=o.alternate,P.H=o===null||o.memoizedState===null?Gh:_u),t}function kr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cs(t);if(t.$$typeof===z)return nt(t)}throw Error(s(438,String(t)))}function lu(t){var o=null,r=pe.updateQueue;if(r!==null&&(o=r.memoCache),o==null){var l=pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(o={data:l.data.map(function(h){return h.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),r===null&&(r=Dr(),pe.updateQueue=r),r.memoCache=o,r=o.data[o.index],r===void 0)for(r=o.data[o.index]=Array(t),l=0;l<t;l++)r[l]=ue;return o.index++,r}function fn(t,o){return typeof o=="function"?o(t):o}function Ur(t){var o=Fe();return uu(o,Me,t)}function uu(t,o,r){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=r;var h=t.baseQueue,m=l.pending;if(m!==null){if(h!==null){var _=h.next;h.next=m.next,m.next=_}o.baseQueue=h=m,l.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{o=h.next;var C=_=null,x=null,M=o,O=!1;do{var q=M.lane&-536870913;if(q!==M.lane?(ve&q)===q:(dn&q)===q){var k=M.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),q===no&&(O=!0);else if((dn&k)===k){M=M.next,k===no&&(O=!0);continue}else q={lane:0,revertLane:M.revertLane,gesture:null,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(C=x=q,_=m):x=x.next=q,pe.lanes|=k,Fn|=k;q=M.action,bi&&r(m,q),m=M.hasEagerState?M.eagerState:r(m,q)}else k={lane:q,revertLane:M.revertLane,gesture:M.gesture,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null},x===null?(C=x=k,_=m):x=x.next=k,pe.lanes|=q,Fn|=q;M=M.next}while(M!==null&&M!==o);if(x===null?_=m:x.next=C,!Ct(m,t.memoizedState)&&(Xe=!0,O&&(r=io,r!==null)))throw r;t.memoizedState=m,t.baseState=_,t.baseQueue=x,l.lastRenderedState=m}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function cu(t){var o=Fe(),r=o.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=t;var l=r.dispatch,h=r.pending,m=o.memoizedState;if(h!==null){r.pending=null;var _=h=h.next;do m=t(m,_.action),_=_.next;while(_!==h);Ct(m,o.memoizedState)||(Xe=!0),o.memoizedState=m,o.baseQueue===null&&(o.baseState=m),r.lastRenderedState=m}return[m,l]}function rh(t,o,r){var l=pe,h=Fe(),m=Te;if(m){if(r===void 0)throw Error(s(407));r=r()}else r=o();var _=!Ct((Me||h).memoizedState,r);if(_&&(h.memoizedState=r,Xe=!0),h=h.queue,hu(uh.bind(null,l,h,t),[t]),h.getSnapshot!==o||_||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,uo(9,{destroy:void 0},lh.bind(null,l,h,r,o),null),Le===null)throw Error(s(349));m||(dn&127)!==0||ah(l,o,r)}return r}function ah(t,o,r){t.flags|=16384,t={getSnapshot:o,value:r},o=pe.updateQueue,o===null?(o=Dr(),pe.updateQueue=o,o.stores=[t]):(r=o.stores,r===null?o.stores=[t]:r.push(t))}function lh(t,o,r,l){o.value=r,o.getSnapshot=l,ch(o)&&dh(t)}function uh(t,o,r){return r(function(){ch(o)&&dh(t)})}function ch(t){var o=t.getSnapshot;t=t.value;try{var r=o();return!Ct(t,r)}catch{return!0}}function dh(t){var o=_i(t,2);o!==null&&_t(o,t,2)}function du(t){var o=lt();if(typeof t=="function"){var r=t;if(t=r(),bi){Nn(!0);try{r()}finally{Nn(!1)}}}return o.memoizedState=o.baseState=t,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:t},o}function fh(t,o,r,l){return t.baseState=r,uu(t,Me,typeof l=="function"?l:fn)}function mT(t,o,r,l,h){if(Or(t))throw Error(s(485));if(t=o.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};P.T!==null?r(!0):m.isTransition=!1,l(m),r=o.pending,r===null?(m.next=o.pending=m,hh(o,m)):(m.next=r.next,o.pending=r.next=m)}}function hh(t,o){var r=o.action,l=o.payload,h=t.state;if(o.isTransition){var m=P.T,_={};P.T=_;try{var C=r(h,l),x=P.S;x!==null&&x(_,C),ph(t,o,C)}catch(M){fu(t,o,M)}finally{m!==null&&_.types!==null&&(m.types=_.types),P.T=m}}else try{m=r(h,l),ph(t,o,m)}catch(M){fu(t,o,M)}}function ph(t,o,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){mh(t,o,l)},function(l){return fu(t,o,l)}):mh(t,o,r)}function mh(t,o,r){o.status="fulfilled",o.value=r,gh(o),t.state=r,o=t.pending,o!==null&&(r=o.next,r===o?t.pending=null:(r=r.next,o.next=r,hh(t,r)))}function fu(t,o,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do o.status="rejected",o.reason=r,gh(o),o=o.next;while(o!==l)}t.action=null}function gh(t){t=t.listeners;for(var o=0;o<t.length;o++)(0,t[o])()}function yh(t,o){return o}function vh(t,o){if(Te){var r=Le.formState;if(r!==null){e:{var l=pe;if(Te){if(Oe){t:{for(var h=Oe,m=Pt;h.nodeType!==8;){if(!m){h=null;break t}if(h=Ht(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Oe=Ht(h.nextSibling),l=h.data==="F!";break e}}Ln(l)}l=!1}l&&(o=r[0])}}return r=lt(),r.memoizedState=r.baseState=o,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yh,lastRenderedState:o},r.queue=l,r=Oh.bind(null,pe,l),l.dispatch=r,l=du(!1),m=vu.bind(null,pe,!1,l.queue),l=lt(),h={state:o,dispatch:null,action:t,pending:null},l.queue=h,r=mT.bind(null,pe,h,m,r),h.dispatch=r,l.memoizedState=t,[o,r,!1]}function _h(t){var o=Fe();return Th(o,Me,t)}function Th(t,o,r){if(o=uu(t,o,yh)[0],t=Ur(fn)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var l=cs(o)}catch(_){throw _===oo?Ar:_}else l=o;o=Fe();var h=o.queue,m=h.dispatch;return r!==o.memoizedState&&(pe.flags|=2048,uo(9,{destroy:void 0},gT.bind(null,h,r),null)),[l,m,t]}function gT(t,o){t.action=o}function Eh(t){var o=Fe(),r=Me;if(r!==null)return Th(o,r,t);Fe(),o=o.memoizedState,r=Fe();var l=r.queue.dispatch;return r.memoizedState=t,[o,l,!1]}function uo(t,o,r,l){return t={tag:t,create:r,deps:l,inst:o,next:null},o=pe.updateQueue,o===null&&(o=Dr(),pe.updateQueue=o),r=o.lastEffect,r===null?o.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,o.lastEffect=t),t}function Sh(){return Fe().memoizedState}function Lr(t,o,r,l){var h=lt();pe.flags|=t,h.memoizedState=uo(1|o,{destroy:void 0},r,l===void 0?null:l)}function Pr(t,o,r,l){var h=Fe();l=l===void 0?null:l;var m=h.memoizedState.inst;Me!==null&&l!==null&&iu(l,Me.memoizedState.deps)?h.memoizedState=uo(o,m,r,l):(pe.flags|=t,h.memoizedState=uo(1|o,m,r,l))}function Ch(t,o){Lr(8390656,8,t,o)}function hu(t,o){Pr(2048,8,t,o)}function yT(t){pe.flags|=4;var o=pe.updateQueue;if(o===null)o=Dr(),pe.updateQueue=o,o.events=[t];else{var r=o.events;r===null?o.events=[t]:r.push(t)}}function Ah(t){var o=Fe().memoizedState;return yT({ref:o,nextImpl:t}),function(){if((we&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function xh(t,o){return Pr(4,2,t,o)}function Ih(t,o){return Pr(4,4,t,o)}function wh(t,o){if(typeof o=="function"){t=t();var r=o(t);return function(){typeof r=="function"?r():o(null)}}if(o!=null)return t=t(),o.current=t,function(){o.current=null}}function bh(t,o,r){r=r!=null?r.concat([t]):null,Pr(4,4,wh.bind(null,o,t),r)}function pu(){}function Rh(t,o){var r=Fe();o=o===void 0?null:o;var l=r.memoizedState;return o!==null&&iu(o,l[1])?l[0]:(r.memoizedState=[t,o],t)}function Nh(t,o){var r=Fe();o=o===void 0?null:o;var l=r.memoizedState;if(o!==null&&iu(o,l[1]))return l[0];if(l=t(),bi){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,o],l}function mu(t,o,r){return r===void 0||(dn&1073741824)!==0&&(ve&261930)===0?t.memoizedState=o:(t.memoizedState=r,t=Mp(),pe.lanes|=t,Fn|=t,r)}function Mh(t,o,r,l){return Ct(r,o)?r:ro.current!==null?(t=mu(t,r,l),Ct(t,o)||(Xe=!0),t):(dn&42)===0||(dn&1073741824)!==0&&(ve&261930)===0?(Xe=!0,t.memoizedState=r):(t=Mp(),pe.lanes|=t,Fn|=t,o)}function Dh(t,o,r,l,h){var m=X.p;X.p=m!==0&&8>m?m:8;var _=P.T,C={};P.T=C,vu(t,!1,o,r);try{var x=h(),M=P.S;if(M!==null&&M(C,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=fT(x,l);ds(t,o,O,Rt(t))}else ds(t,o,l,Rt(t))}catch(q){ds(t,o,{then:function(){},status:"rejected",reason:q},Rt())}finally{X.p=m,_!==null&&C.types!==null&&(_.types=C.types),P.T=_}}function vT(){}function gu(t,o,r,l){if(t.tag!==5)throw Error(s(476));var h=kh(t).queue;Dh(t,h,o,ne,r===null?vT:function(){return Uh(t),r(l)})}function kh(t){var o=t.memoizedState;if(o!==null)return o;o={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:ne},next:null};var r={};return o.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:r},next:null},t.memoizedState=o,t=t.alternate,t!==null&&(t.memoizedState=o),o}function Uh(t){var o=kh(t);o.next===null&&(o=t.alternate.memoizedState),ds(t,o.next.queue,{},Rt())}function yu(){return nt(bs)}function Lh(){return Fe().memoizedState}function Ph(){return Fe().memoizedState}function _T(t){for(var o=t.return;o!==null;){switch(o.tag){case 24:case 3:var r=Rt();t=Hn(r);var l=Vn(o,t,r);l!==null&&(_t(l,o,r),rs(l,o,r)),o={cache:Yl()},t.payload=o;return}o=o.return}}function TT(t,o,r){var l=Rt();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Or(t)?Hh(o,r):(r=Ll(t,o,r,l),r!==null&&(_t(r,t,l),Vh(r,o,l)))}function Oh(t,o,r){var l=Rt();ds(t,o,r,l)}function ds(t,o,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Or(t))Hh(o,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=o.lastRenderedReducer,m!==null))try{var _=o.lastRenderedState,C=m(_,r);if(h.hasEagerState=!0,h.eagerState=C,Ct(C,_))return yr(t,o,h,0),Le===null&&gr(),!1}catch{}finally{}if(r=Ll(t,o,h,l),r!==null)return _t(r,t,l),Vh(r,o,l),!0}return!1}function vu(t,o,r,l){if(l={lane:2,revertLane:Qu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Or(t)){if(o)throw Error(s(479))}else o=Ll(t,r,l,2),o!==null&&_t(o,t,2)}function Or(t){var o=t.alternate;return t===pe||o!==null&&o===pe}function Hh(t,o){ao=Nr=!0;var r=t.pending;r===null?o.next=o:(o.next=r.next,r.next=o),t.pending=o}function Vh(t,o,r){if((r&4194048)!==0){var l=o.lanes;l&=t.pendingLanes,r|=l,o.lanes=r,zd(t,r)}}var fs={readContext:nt,use:kr,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useLayoutEffect:Ge,useInsertionEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useSyncExternalStore:Ge,useId:Ge,useHostTransitionStatus:Ge,useFormState:Ge,useActionState:Ge,useOptimistic:Ge,useMemoCache:Ge,useCacheRefresh:Ge};fs.useEffectEvent=Ge;var Gh={readContext:nt,use:kr,useCallback:function(t,o){return lt().memoizedState=[t,o===void 0?null:o],t},useContext:nt,useEffect:Ch,useImperativeHandle:function(t,o,r){r=r!=null?r.concat([t]):null,Lr(4194308,4,wh.bind(null,o,t),r)},useLayoutEffect:function(t,o){return Lr(4194308,4,t,o)},useInsertionEffect:function(t,o){Lr(4,2,t,o)},useMemo:function(t,o){var r=lt();o=o===void 0?null:o;var l=t();if(bi){Nn(!0);try{t()}finally{Nn(!1)}}return r.memoizedState=[l,o],l},useReducer:function(t,o,r){var l=lt();if(r!==void 0){var h=r(o);if(bi){Nn(!0);try{r(o)}finally{Nn(!1)}}}else h=o;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=TT.bind(null,pe,t),[l.memoizedState,t]},useRef:function(t){var o=lt();return t={current:t},o.memoizedState=t},useState:function(t){t=du(t);var o=t.queue,r=Oh.bind(null,pe,o);return o.dispatch=r,[t.memoizedState,r]},useDebugValue:pu,useDeferredValue:function(t,o){var r=lt();return mu(r,t,o)},useTransition:function(){var t=du(!1);return t=Dh.bind(null,pe,t.queue,!0,!1),lt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,o,r){var l=pe,h=lt();if(Te){if(r===void 0)throw Error(s(407));r=r()}else{if(r=o(),Le===null)throw Error(s(349));(ve&127)!==0||ah(l,o,r)}h.memoizedState=r;var m={value:r,getSnapshot:o};return h.queue=m,Ch(uh.bind(null,l,m,t),[t]),l.flags|=2048,uo(9,{destroy:void 0},lh.bind(null,l,m,r,o),null),r},useId:function(){var t=lt(),o=Le.identifierPrefix;if(Te){var r=Zt,l=Wt;r=(l&~(1<<32-St(l)-1)).toString(32)+r,o="_"+o+"R_"+r,r=Mr++,0<r&&(o+="H"+r.toString(32)),o+="_"}else r=hT++,o="_"+o+"r_"+r.toString(32)+"_";return t.memoizedState=o},useHostTransitionStatus:yu,useFormState:vh,useActionState:vh,useOptimistic:function(t){var o=lt();o.memoizedState=o.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=r,o=vu.bind(null,pe,!0,r),r.dispatch=o,[t,o]},useMemoCache:lu,useCacheRefresh:function(){return lt().memoizedState=_T.bind(null,pe)},useEffectEvent:function(t){var o=lt(),r={impl:t};return o.memoizedState=r,function(){if((we&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}},_u={readContext:nt,use:kr,useCallback:Rh,useContext:nt,useEffect:hu,useImperativeHandle:bh,useInsertionEffect:xh,useLayoutEffect:Ih,useMemo:Nh,useReducer:Ur,useRef:Sh,useState:function(){return Ur(fn)},useDebugValue:pu,useDeferredValue:function(t,o){var r=Fe();return Mh(r,Me.memoizedState,t,o)},useTransition:function(){var t=Ur(fn)[0],o=Fe().memoizedState;return[typeof t=="boolean"?t:cs(t),o]},useSyncExternalStore:rh,useId:Lh,useHostTransitionStatus:yu,useFormState:_h,useActionState:_h,useOptimistic:function(t,o){var r=Fe();return fh(r,Me,t,o)},useMemoCache:lu,useCacheRefresh:Ph};_u.useEffectEvent=Ah;var Bh={readContext:nt,use:kr,useCallback:Rh,useContext:nt,useEffect:hu,useImperativeHandle:bh,useInsertionEffect:xh,useLayoutEffect:Ih,useMemo:Nh,useReducer:cu,useRef:Sh,useState:function(){return cu(fn)},useDebugValue:pu,useDeferredValue:function(t,o){var r=Fe();return Me===null?mu(r,t,o):Mh(r,Me.memoizedState,t,o)},useTransition:function(){var t=cu(fn)[0],o=Fe().memoizedState;return[typeof t=="boolean"?t:cs(t),o]},useSyncExternalStore:rh,useId:Lh,useHostTransitionStatus:yu,useFormState:Eh,useActionState:Eh,useOptimistic:function(t,o){var r=Fe();return Me!==null?fh(r,Me,t,o):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:lu,useCacheRefresh:Ph};Bh.useEffectEvent=Ah;function Tu(t,o,r,l){o=t.memoizedState,r=r(l,o),r=r==null?o:E({},o,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Eu={enqueueSetState:function(t,o,r){t=t._reactInternals;var l=Rt(),h=Hn(l);h.payload=o,r!=null&&(h.callback=r),o=Vn(t,h,l),o!==null&&(_t(o,t,l),rs(o,t,l))},enqueueReplaceState:function(t,o,r){t=t._reactInternals;var l=Rt(),h=Hn(l);h.tag=1,h.payload=o,r!=null&&(h.callback=r),o=Vn(t,h,l),o!==null&&(_t(o,t,l),rs(o,t,l))},enqueueForceUpdate:function(t,o){t=t._reactInternals;var r=Rt(),l=Hn(r);l.tag=2,o!=null&&(l.callback=o),o=Vn(t,l,r),o!==null&&(_t(o,t,r),rs(o,t,r))}};function qh(t,o,r,l,h,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):o.prototype&&o.prototype.isPureReactComponent?!Zo(r,l)||!Zo(h,m):!0}function zh(t,o,r,l){t=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(r,l),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(r,l),o.state!==t&&Eu.enqueueReplaceState(o,o.state,null)}function Ri(t,o){var r=o;if("ref"in o){r={};for(var l in o)l!=="ref"&&(r[l]=o[l])}if(t=t.defaultProps){r===o&&(r=E({},r));for(var h in t)r[h]===void 0&&(r[h]=t[h])}return r}function Fh(t){mr(t)}function Jh(t){console.error(t)}function Yh(t){mr(t)}function Hr(t,o){try{var r=t.onUncaughtError;r(o.value,{componentStack:o.stack})}catch(l){setTimeout(function(){throw l})}}function Kh(t,o,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Su(t,o,r){return r=Hn(r),r.tag=3,r.payload={element:null},r.callback=function(){Hr(t,o)},r}function Xh(t){return t=Hn(t),t.tag=3,t}function $h(t,o,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var m=l.value;t.payload=function(){return h(m)},t.callback=function(){Kh(o,r,l)}}var _=r.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Kh(o,r,l),typeof h!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var C=l.stack;this.componentDidCatch(l.value,{componentStack:C!==null?C:""})})}function ET(t,o,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(o=r.alternate,o!==null&&to(o,r,h,!0),r=xt.current,r!==null){switch(r.tag){case 31:case 13:return Ot===null?Qr():r.alternate===null&&Be===0&&(Be=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===xr?r.flags|=16384:(o=r.updateQueue,o===null?r.updateQueue=new Set([l]):o.add(l),Ku(t,l,h)),!1;case 22:return r.flags|=65536,l===xr?r.flags|=16384:(o=r.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=o):(r=o.retryQueue,r===null?o.retryQueue=new Set([l]):r.add(l)),Ku(t,l,h)),!1}throw Error(s(435,r.tag))}return Ku(t,l,h),Qr(),!1}if(Te)return o=xt.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=h,l!==Bl&&(t=Error(s(422),{cause:l}),ts(kt(t,r)))):(l!==Bl&&(o=Error(s(423),{cause:l}),ts(kt(o,r))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kt(l,r),h=Su(t.stateNode,l,h),Zl(t,h),Be!==4&&(Be=2)),!1;var m=Error(s(520),{cause:l});if(m=kt(m,r),Ts===null?Ts=[m]:Ts.push(m),Be!==4&&(Be=2),o===null)return!0;l=kt(l,r),r=o;do{switch(r.tag){case 3:return r.flags|=65536,t=h&-h,r.lanes|=t,t=Su(r.stateNode,l,t),Zl(r,t),!1;case 1:if(o=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Jn===null||!Jn.has(m))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Xh(h),$h(h,t,r,l),Zl(r,h),!1}r=r.return}while(r!==null);return!1}var Cu=Error(s(461)),Xe=!1;function it(t,o,r,l){o.child=t===null?jf(o,null,r,l):wi(o,t.child,r,l)}function Qh(t,o,r,l,h){r=r.render;var m=o.ref;if("ref"in l){var _={};for(var C in l)C!=="ref"&&(_[C]=l[C])}else _=l;return Ci(o),l=ou(t,o,r,_,m,h),C=su(),t!==null&&!Xe?(ru(t,o,h),hn(t,o,h)):(Te&&C&&Vl(o),o.flags|=1,it(t,o,l,h),o.child)}function Wh(t,o,r,l,h){if(t===null){var m=r.type;return typeof m=="function"&&!Pl(m)&&m.defaultProps===void 0&&r.compare===null?(o.tag=15,o.type=m,Zh(t,o,m,l,h)):(t=_r(r.type,null,l,o,o.mode,h),t.ref=o.ref,t.return=o,o.child=t)}if(m=t.child,!Mu(t,h)){var _=m.memoizedProps;if(r=r.compare,r=r!==null?r:Zo,r(_,l)&&t.ref===o.ref)return hn(t,o,h)}return o.flags|=1,t=an(m,l),t.ref=o.ref,t.return=o,o.child=t}function Zh(t,o,r,l,h){if(t!==null){var m=t.memoizedProps;if(Zo(m,l)&&t.ref===o.ref)if(Xe=!1,o.pendingProps=l=m,Mu(t,h))(t.flags&131072)!==0&&(Xe=!0);else return o.lanes=t.lanes,hn(t,o,h)}return Au(t,o,r,l,h)}function jh(t,o,r,l){var h=l.children,m=t!==null?t.memoizedState:null;if(t===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((o.flags&128)!==0){if(m=m!==null?m.baseLanes|r:r,t!==null){for(l=o.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~m}else l=0,o.child=null;return ep(t,o,m,r,l)}if((r&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cr(o,m!==null?m.cachePool:null),m!==null?nh(o,m):eu(),ih(o);else return l=o.lanes=536870912,ep(t,o,m!==null?m.baseLanes|r:r,r,l)}else m!==null?(Cr(o,m.cachePool),nh(o,m),Bn(),o.memoizedState=null):(t!==null&&Cr(o,null),eu(),Bn());return it(t,o,h,r),o.child}function hs(t,o){return t!==null&&t.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function ep(t,o,r,l,h){var m=Xl();return m=m===null?null:{parent:Ye._currentValue,pool:m},o.memoizedState={baseLanes:r,cachePool:m},t!==null&&Cr(o,null),eu(),ih(o),t!==null&&to(t,o,l,!0),o.childLanes=h,null}function Vr(t,o){return o=Br({mode:o.mode,children:o.children},t.mode),o.ref=t.ref,t.child=o,o.return=t,o}function tp(t,o,r){return wi(o,t.child,null,r),t=Vr(o,o.pendingProps),t.flags|=2,It(o),o.memoizedState=null,t}function ST(t,o,r){var l=o.pendingProps,h=(o.flags&128)!==0;if(o.flags&=-129,t===null){if(Te){if(l.mode==="hidden")return t=Vr(o,l),o.lanes=536870912,hs(null,t);if(nu(o),(t=Oe)?(t=hm(t,Pt),t=t!==null&&t.data==="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:kn!==null?{id:Wt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},r=Hf(t),r.return=o,o.child=r,tt=o,Oe=null)):t=null,t===null)throw Ln(o);return o.lanes=536870912,null}return Vr(o,l)}var m=t.memoizedState;if(m!==null){var _=m.dehydrated;if(nu(o),h)if(o.flags&256)o.flags&=-257,o=tp(t,o,r);else if(o.memoizedState!==null)o.child=t.child,o.flags|=128,o=null;else throw Error(s(558));else if(Xe||to(t,o,r,!1),h=(r&t.childLanes)!==0,Xe||h){if(l=Le,l!==null&&(_=Fd(l,r),_!==0&&_!==m.retryLane))throw m.retryLane=_,_i(t,_),_t(l,t,_),Cu;Qr(),o=tp(t,o,r)}else t=m.treeContext,Oe=Ht(_.nextSibling),tt=o,Te=!0,Un=null,Pt=!1,t!==null&&Bf(o,t),o=Vr(o,l),o.flags|=4096;return o}return t=an(t.child,{mode:l.mode,children:l.children}),t.ref=o.ref,o.child=t,t.return=o,t}function Gr(t,o){var r=o.ref;if(r===null)t!==null&&t.ref!==null&&(o.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(t===null||t.ref!==r)&&(o.flags|=4194816)}}function Au(t,o,r,l,h){return Ci(o),r=ou(t,o,r,l,void 0,h),l=su(),t!==null&&!Xe?(ru(t,o,h),hn(t,o,h)):(Te&&l&&Vl(o),o.flags|=1,it(t,o,r,h),o.child)}function np(t,o,r,l,h,m){return Ci(o),o.updateQueue=null,r=sh(o,l,r,h),oh(t),l=su(),t!==null&&!Xe?(ru(t,o,m),hn(t,o,m)):(Te&&l&&Vl(o),o.flags|=1,it(t,o,r,m),o.child)}function ip(t,o,r,l,h){if(Ci(o),o.stateNode===null){var m=Wi,_=r.contextType;typeof _=="object"&&_!==null&&(m=nt(_)),m=new r(l,m),o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Eu,o.stateNode=m,m._reactInternals=o,m=o.stateNode,m.props=l,m.state=o.memoizedState,m.refs={},Ql(o),_=r.contextType,m.context=typeof _=="object"&&_!==null?nt(_):Wi,m.state=o.memoizedState,_=r.getDerivedStateFromProps,typeof _=="function"&&(Tu(o,r,_,l),m.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Eu.enqueueReplaceState(m,m.state,null),ls(o,l,m,h),as(),m.state=o.memoizedState),typeof m.componentDidMount=="function"&&(o.flags|=4194308),l=!0}else if(t===null){m=o.stateNode;var C=o.memoizedProps,x=Ri(r,C);m.props=x;var M=m.context,O=r.contextType;_=Wi,typeof O=="object"&&O!==null&&(_=nt(O));var q=r.getDerivedStateFromProps;O=typeof q=="function"||typeof m.getSnapshotBeforeUpdate=="function",C=o.pendingProps!==C,O||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(C||M!==_)&&zh(o,m,l,_),On=!1;var k=o.memoizedState;m.state=k,ls(o,l,m,h),as(),M=o.memoizedState,C||k!==M||On?(typeof q=="function"&&(Tu(o,r,q,l),M=o.memoizedState),(x=On||qh(o,r,x,l,k,M,_))?(O||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(o.flags|=4194308)):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=l,o.memoizedState=M),m.props=l,m.state=M,m.context=_,l=x):(typeof m.componentDidMount=="function"&&(o.flags|=4194308),l=!1)}else{m=o.stateNode,Wl(t,o),_=o.memoizedProps,O=Ri(r,_),m.props=O,q=o.pendingProps,k=m.context,M=r.contextType,x=Wi,typeof M=="object"&&M!==null&&(x=nt(M)),C=r.getDerivedStateFromProps,(M=typeof C=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==q||k!==x)&&zh(o,m,l,x),On=!1,k=o.memoizedState,m.state=k,ls(o,l,m,h),as();var L=o.memoizedState;_!==q||k!==L||On||t!==null&&t.dependencies!==null&&Er(t.dependencies)?(typeof C=="function"&&(Tu(o,r,C,l),L=o.memoizedState),(O=On||qh(o,r,O,l,k,L,x)||t!==null&&t.dependencies!==null&&Er(t.dependencies))?(M||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,L,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,L,x)),typeof m.componentDidUpdate=="function"&&(o.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(o.flags|=1024),o.memoizedProps=l,o.memoizedState=L),m.props=l,m.state=L,m.context=x,l=O):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(o.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(o.flags|=1024),l=!1)}return m=l,Gr(t,o),l=(o.flags&128)!==0,m||l?(m=o.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:m.render(),o.flags|=1,t!==null&&l?(o.child=wi(o,t.child,null,h),o.child=wi(o,null,r,h)):it(t,o,r,h),o.memoizedState=m.state,t=o.child):t=hn(t,o,h),t}function op(t,o,r,l){return Ei(),o.flags|=256,it(t,o,r,l),o.child}var xu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Iu(t){return{baseLanes:t,cachePool:Kf()}}function wu(t,o,r){return t=t!==null?t.childLanes&~r:0,o&&(t|=bt),t}function sp(t,o,r){var l=o.pendingProps,h=!1,m=(o.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(ze.current&2)!==0),_&&(h=!0,o.flags&=-129),_=(o.flags&32)!==0,o.flags&=-33,t===null){if(Te){if(h?Gn(o):Bn(),(t=Oe)?(t=hm(t,Pt),t=t!==null&&t.data!=="&"?t:null,t!==null&&(o.memoizedState={dehydrated:t,treeContext:kn!==null?{id:Wt,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},r=Hf(t),r.return=o,o.child=r,tt=o,Oe=null)):t=null,t===null)throw Ln(o);return uc(t)?o.lanes=32:o.lanes=536870912,null}var C=l.children;return l=l.fallback,h?(Bn(),h=o.mode,C=Br({mode:"hidden",children:C},h),l=Ti(l,h,r,null),C.return=o,l.return=o,C.sibling=l,o.child=C,l=o.child,l.memoizedState=Iu(r),l.childLanes=wu(t,_,r),o.memoizedState=xu,hs(null,l)):(Gn(o),bu(o,C))}var x=t.memoizedState;if(x!==null&&(C=x.dehydrated,C!==null)){if(m)o.flags&256?(Gn(o),o.flags&=-257,o=Ru(t,o,r)):o.memoizedState!==null?(Bn(),o.child=t.child,o.flags|=128,o=null):(Bn(),C=l.fallback,h=o.mode,l=Br({mode:"visible",children:l.children},h),C=Ti(C,h,r,null),C.flags|=2,l.return=o,C.return=o,l.sibling=C,o.child=l,wi(o,t.child,null,r),l=o.child,l.memoizedState=Iu(r),l.childLanes=wu(t,_,r),o.memoizedState=xu,o=hs(null,l));else if(Gn(o),uc(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var M=_.dgst;_=M,l=Error(s(419)),l.stack="",l.digest=_,ts({value:l,source:null,stack:null}),o=Ru(t,o,r)}else if(Xe||to(t,o,r,!1),_=(r&t.childLanes)!==0,Xe||_){if(_=Le,_!==null&&(l=Fd(_,r),l!==0&&l!==x.retryLane))throw x.retryLane=l,_i(t,l),_t(_,t,l),Cu;lc(C)||Qr(),o=Ru(t,o,r)}else lc(C)?(o.flags|=192,o.child=t.child,o=null):(t=x.treeContext,Oe=Ht(C.nextSibling),tt=o,Te=!0,Un=null,Pt=!1,t!==null&&Bf(o,t),o=bu(o,l.children),o.flags|=4096);return o}return h?(Bn(),C=l.fallback,h=o.mode,x=t.child,M=x.sibling,l=an(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,M!==null?C=an(M,C):(C=Ti(C,h,r,null),C.flags|=2),C.return=o,l.return=o,l.sibling=C,o.child=l,hs(null,l),l=o.child,C=t.child.memoizedState,C===null?C=Iu(r):(h=C.cachePool,h!==null?(x=Ye._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Kf(),C={baseLanes:C.baseLanes|r,cachePool:h}),l.memoizedState=C,l.childLanes=wu(t,_,r),o.memoizedState=xu,hs(t.child,l)):(Gn(o),r=t.child,t=r.sibling,r=an(r,{mode:"visible",children:l.children}),r.return=o,r.sibling=null,t!==null&&(_=o.deletions,_===null?(o.deletions=[t],o.flags|=16):_.push(t)),o.child=r,o.memoizedState=null,r)}function bu(t,o){return o=Br({mode:"visible",children:o},t.mode),o.return=t,t.child=o}function Br(t,o){return t=At(22,t,null,o),t.lanes=0,t}function Ru(t,o,r){return wi(o,t.child,null,r),t=bu(o,o.pendingProps.children),t.flags|=2,o.memoizedState=null,t}function rp(t,o,r){t.lanes|=o;var l=t.alternate;l!==null&&(l.lanes|=o),Fl(t.return,o,r)}function Nu(t,o,r,l,h,m){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:m}:(_.isBackwards=o,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=r,_.tailMode=h,_.treeForkCount=m)}function ap(t,o,r){var l=o.pendingProps,h=l.revealOrder,m=l.tail;l=l.children;var _=ze.current,C=(_&2)!==0;if(C?(_=_&1|2,o.flags|=128):_&=1,Y(ze,_),it(t,o,l,r),l=Te?es:0,!C&&t!==null&&(t.flags&128)!==0)e:for(t=o.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,r,o);else if(t.tag===19)rp(t,r,o);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===o)break e;for(;t.sibling===null;){if(t.return===null||t.return===o)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(r=o.child,h=null;r!==null;)t=r.alternate,t!==null&&Rr(t)===null&&(h=r),r=r.sibling;r=h,r===null?(h=o.child,o.child=null):(h=r.sibling,r.sibling=null),Nu(o,!1,h,r,m,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=o.child,o.child=null;h!==null;){if(t=h.alternate,t!==null&&Rr(t)===null){o.child=h;break}t=h.sibling,h.sibling=r,r=h,h=t}Nu(o,!0,r,null,m,l);break;case"together":Nu(o,!1,null,null,void 0,l);break;default:o.memoizedState=null}return o.child}function hn(t,o,r){if(t!==null&&(o.dependencies=t.dependencies),Fn|=o.lanes,(r&o.childLanes)===0)if(t!==null){if(to(t,o,r,!1),(r&o.childLanes)===0)return null}else return null;if(t!==null&&o.child!==t.child)throw Error(s(153));if(o.child!==null){for(t=o.child,r=an(t,t.pendingProps),o.child=r,r.return=o;t.sibling!==null;)t=t.sibling,r=r.sibling=an(t,t.pendingProps),r.return=o;r.sibling=null}return o.child}function Mu(t,o){return(t.lanes&o)!==0?!0:(t=t.dependencies,!!(t!==null&&Er(t)))}function CT(t,o,r){switch(o.tag){case 3:at(o,o.stateNode.containerInfo),Pn(o,Ye,t.memoizedState.cache),Ei();break;case 27:case 5:Vo(o);break;case 4:at(o,o.stateNode.containerInfo);break;case 10:Pn(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,nu(o),null;break;case 13:var l=o.memoizedState;if(l!==null)return l.dehydrated!==null?(Gn(o),o.flags|=128,null):(r&o.child.childLanes)!==0?sp(t,o,r):(Gn(o),t=hn(t,o,r),t!==null?t.sibling:null);Gn(o);break;case 19:var h=(t.flags&128)!==0;if(l=(r&o.childLanes)!==0,l||(to(t,o,r,!1),l=(r&o.childLanes)!==0),h){if(l)return ap(t,o,r);o.flags|=128}if(h=o.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Y(ze,ze.current),l)break;return null;case 22:return o.lanes=0,jh(t,o,r,o.pendingProps);case 24:Pn(o,Ye,t.memoizedState.cache)}return hn(t,o,r)}function lp(t,o,r){if(t!==null)if(t.memoizedProps!==o.pendingProps)Xe=!0;else{if(!Mu(t,r)&&(o.flags&128)===0)return Xe=!1,CT(t,o,r);Xe=(t.flags&131072)!==0}else Xe=!1,Te&&(o.flags&1048576)!==0&&Gf(o,es,o.index);switch(o.lanes=0,o.tag){case 16:e:{var l=o.pendingProps;if(t=xi(o.elementType),o.type=t,typeof t=="function")Pl(t)?(l=Ri(t,l),o.tag=1,o=ip(null,o,t,l,r)):(o.tag=0,o=Au(null,o,t,l,r));else{if(t!=null){var h=t.$$typeof;if(h===J){o.tag=11,o=Qh(null,o,t,l,r);break e}else if(h===K){o.tag=14,o=Wh(null,o,t,l,r);break e}}throw o=Ne(t)||t,Error(s(306,o,""))}}return o;case 0:return Au(t,o,o.type,o.pendingProps,r);case 1:return l=o.type,h=Ri(l,o.pendingProps),ip(t,o,l,h,r);case 3:e:{if(at(o,o.stateNode.containerInfo),t===null)throw Error(s(387));l=o.pendingProps;var m=o.memoizedState;h=m.element,Wl(t,o),ls(o,l,null,r);var _=o.memoizedState;if(l=_.cache,Pn(o,Ye,l),l!==m.cache&&Jl(o,[Ye],r,!0),as(),l=_.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:_.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=op(t,o,l,r);break e}else if(l!==h){h=kt(Error(s(424)),o),ts(h),o=op(t,o,l,r);break e}else{switch(t=o.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Oe=Ht(t.firstChild),tt=o,Te=!0,Un=null,Pt=!0,r=jf(o,null,l,r),o.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ei(),l===h){o=hn(t,o,r);break e}it(t,o,l,r)}o=o.child}return o;case 26:return Gr(t,o),t===null?(r=_m(o.type,null,o.pendingProps,null))?o.memoizedState=r:Te||(r=o.type,t=o.pendingProps,l=ia(he.current).createElement(r),l[et]=o,l[ht]=t,ot(l,r,t),We(l),o.stateNode=l):o.memoizedState=_m(o.type,t.memoizedProps,o.pendingProps,t.memoizedState),null;case 27:return Vo(o),t===null&&Te&&(l=o.stateNode=gm(o.type,o.pendingProps,he.current),tt=o,Pt=!0,h=Oe,$n(o.type)?(cc=h,Oe=Ht(l.firstChild)):Oe=h),it(t,o,o.pendingProps.children,r),Gr(t,o),t===null&&(o.flags|=4194304),o.child;case 5:return t===null&&Te&&((h=l=Oe)&&(l=jT(l,o.type,o.pendingProps,Pt),l!==null?(o.stateNode=l,tt=o,Oe=Ht(l.firstChild),Pt=!1,h=!0):h=!1),h||Ln(o)),Vo(o),h=o.type,m=o.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,sc(h,m)?l=null:_!==null&&sc(h,_)&&(o.flags|=32),o.memoizedState!==null&&(h=ou(t,o,pT,null,null,r),bs._currentValue=h),Gr(t,o),it(t,o,l,r),o.child;case 6:return t===null&&Te&&((t=r=Oe)&&(r=eE(r,o.pendingProps,Pt),r!==null?(o.stateNode=r,tt=o,Oe=null,t=!0):t=!1),t||Ln(o)),null;case 13:return sp(t,o,r);case 4:return at(o,o.stateNode.containerInfo),l=o.pendingProps,t===null?o.child=wi(o,null,l,r):it(t,o,l,r),o.child;case 11:return Qh(t,o,o.type,o.pendingProps,r);case 7:return it(t,o,o.pendingProps,r),o.child;case 8:return it(t,o,o.pendingProps.children,r),o.child;case 12:return it(t,o,o.pendingProps.children,r),o.child;case 10:return l=o.pendingProps,Pn(o,o.type,l.value),it(t,o,l.children,r),o.child;case 9:return h=o.type._context,l=o.pendingProps.children,Ci(o),h=nt(h),l=l(h),o.flags|=1,it(t,o,l,r),o.child;case 14:return Wh(t,o,o.type,o.pendingProps,r);case 15:return Zh(t,o,o.type,o.pendingProps,r);case 19:return ap(t,o,r);case 31:return ST(t,o,r);case 22:return jh(t,o,r,o.pendingProps);case 24:return Ci(o),l=nt(Ye),t===null?(h=Xl(),h===null&&(h=Le,m=Yl(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=r),h=m),o.memoizedState={parent:l,cache:h},Ql(o),Pn(o,Ye,h)):((t.lanes&r)!==0&&(Wl(t,o),ls(o,null,null,r),as()),h=t.memoizedState,m=o.memoizedState,h.parent!==l?(h={parent:l,cache:l},o.memoizedState=h,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=h),Pn(o,Ye,l)):(l=m.cache,Pn(o,Ye,l),l!==h.cache&&Jl(o,[Ye],r,!0))),it(t,o,o.pendingProps.children,r),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function pn(t){t.flags|=4}function Du(t,o,r,l,h){if((o=(t.mode&32)!==0)&&(o=!1),o){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Lp())t.flags|=8192;else throw Ii=xr,$l}else t.flags&=-16777217}function up(t,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Am(o))if(Lp())t.flags|=8192;else throw Ii=xr,$l}function qr(t,o){o!==null&&(t.flags|=4),t.flags&16384&&(o=t.tag!==22?Bd():536870912,t.lanes|=o,po|=o)}function ps(t,o){if(!Te)switch(t.tailMode){case"hidden":o=t.tail;for(var r=null;o!==null;)o.alternate!==null&&(r=o),o=o.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?o||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function He(t){var o=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(o)for(var h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=r,o}function AT(t,o,r){var l=o.pendingProps;switch(Gl(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(o),null;case 1:return He(o),null;case 3:return r=o.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),cn(Ye),qe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(eo(o)?pn(o):t===null||t.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,ql())),He(o),null;case 26:var h=o.type,m=o.memoizedState;return t===null?(pn(o),m!==null?(He(o),up(o,m)):(He(o),Du(o,h,null,l,r))):m?m!==t.memoizedState?(pn(o),He(o),up(o,m)):(He(o),o.flags&=-16777217):(t=t.memoizedProps,t!==l&&pn(o),He(o),Du(o,h,t,l,r)),null;case 27:if(js(o),r=he.current,h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==l&&pn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return He(o),null}t=W.current,eo(o)?qf(o):(t=gm(h,l,r),o.stateNode=t,pn(o))}return He(o),null;case 5:if(js(o),h=o.type,t!==null&&o.stateNode!=null)t.memoizedProps!==l&&pn(o);else{if(!l){if(o.stateNode===null)throw Error(s(166));return He(o),null}if(m=W.current,eo(o))qf(o);else{var _=ia(he.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}m[et]=o,m[ht]=l;e:for(_=o.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===o)break e;for(;_.sibling===null;){if(_.return===null||_.return===o)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}o.stateNode=m;e:switch(ot(m,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&pn(o)}}return He(o),Du(o,o.type,t===null?null:t.memoizedProps,o.pendingProps,r),null;case 6:if(t&&o.stateNode!=null)t.memoizedProps!==l&&pn(o);else{if(typeof l!="string"&&o.stateNode===null)throw Error(s(166));if(t=he.current,eo(o)){if(t=o.stateNode,r=o.memoizedProps,l=null,h=tt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[et]=o,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||sm(t.nodeValue,r)),t||Ln(o,!0)}else t=ia(t).createTextNode(l),t[et]=o,o.stateNode=t}return He(o),null;case 31:if(r=o.memoizedState,t===null||t.memoizedState!==null){if(l=eo(o),r!==null){if(t===null){if(!l)throw Error(s(318));if(t=o.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[et]=o}else Ei(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),t=!1}else r=ql(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=r),t=!0;if(!t)return o.flags&256?(It(o),o):(It(o),null);if((o.flags&128)!==0)throw Error(s(558))}return He(o),null;case 13:if(l=o.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=eo(o),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=o.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[et]=o}else Ei(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;He(o),h=!1}else h=ql(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return o.flags&256?(It(o),o):(It(o),null)}return It(o),(o.flags&128)!==0?(o.lanes=r,o):(r=l!==null,t=t!==null&&t.memoizedState!==null,r&&(l=o.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==h&&(l.flags|=2048)),r!==t&&r&&(o.child.flags|=8192),qr(o,o.updateQueue),He(o),null);case 4:return qe(),t===null&&ec(o.stateNode.containerInfo),He(o),null;case 10:return cn(o.type),He(o),null;case 19:if(V(ze),l=o.memoizedState,l===null)return He(o),null;if(h=(o.flags&128)!==0,m=l.rendering,m===null)if(h)ps(l,!1);else{if(Be!==0||t!==null&&(t.flags&128)!==0)for(t=o.child;t!==null;){if(m=Rr(t),m!==null){for(o.flags|=128,ps(l,!1),t=m.updateQueue,o.updateQueue=t,qr(o,t),o.subtreeFlags=0,t=r,r=o.child;r!==null;)Of(r,t),r=r.sibling;return Y(ze,ze.current&1|2),Te&&ln(o,l.treeForkCount),o.child}t=t.sibling}l.tail!==null&&Tt()>Kr&&(o.flags|=128,h=!0,ps(l,!1),o.lanes=4194304)}else{if(!h)if(t=Rr(m),t!==null){if(o.flags|=128,h=!0,t=t.updateQueue,o.updateQueue=t,qr(o,t),ps(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Te)return He(o),null}else 2*Tt()-l.renderingStartTime>Kr&&r!==536870912&&(o.flags|=128,h=!0,ps(l,!1),o.lanes=4194304);l.isBackwards?(m.sibling=o.child,o.child=m):(t=l.last,t!==null?t.sibling=m:o.child=m,l.last=m)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Tt(),t.sibling=null,r=ze.current,Y(ze,h?r&1|2:r&1),Te&&ln(o,l.treeForkCount),t):(He(o),null);case 22:case 23:return It(o),tu(),l=o.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(o.flags|=8192):l&&(o.flags|=8192),l?(r&536870912)!==0&&(o.flags&128)===0&&(He(o),o.subtreeFlags&6&&(o.flags|=8192)):He(o),r=o.updateQueue,r!==null&&qr(o,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(l=o.memoizedState.cachePool.pool),l!==r&&(o.flags|=2048),t!==null&&V(Ai),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),o.memoizedState.cache!==r&&(o.flags|=2048),cn(Ye),He(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function xT(t,o){switch(Gl(o),o.tag){case 1:return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 3:return cn(Ye),qe(),t=o.flags,(t&65536)!==0&&(t&128)===0?(o.flags=t&-65537|128,o):null;case 26:case 27:case 5:return js(o),null;case 31:if(o.memoizedState!==null){if(It(o),o.alternate===null)throw Error(s(340));Ei()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 13:if(It(o),t=o.memoizedState,t!==null&&t.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Ei()}return t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 19:return V(ze),null;case 4:return qe(),null;case 10:return cn(o.type),null;case 22:case 23:return It(o),tu(),t!==null&&V(Ai),t=o.flags,t&65536?(o.flags=t&-65537|128,o):null;case 24:return cn(Ye),null;case 25:return null;default:return null}}function cp(t,o){switch(Gl(o),o.tag){case 3:cn(Ye),qe();break;case 26:case 27:case 5:js(o);break;case 4:qe();break;case 31:o.memoizedState!==null&&It(o);break;case 13:It(o);break;case 19:V(ze);break;case 10:cn(o.type);break;case 22:case 23:It(o),tu(),t!==null&&V(Ai);break;case 24:cn(Ye)}}function ms(t,o){try{var r=o.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&t)===t){l=void 0;var m=r.create,_=r.inst;l=m(),_.destroy=l}r=r.next}while(r!==h)}}catch(C){Re(o,o.return,C)}}function qn(t,o,r){try{var l=o.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var m=h.next;l=m;do{if((l.tag&t)===t){var _=l.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,h=o;var x=r,M=C;try{M()}catch(O){Re(h,x,O)}}}l=l.next}while(l!==m)}}catch(O){Re(o,o.return,O)}}function dp(t){var o=t.updateQueue;if(o!==null){var r=t.stateNode;try{th(o,r)}catch(l){Re(t,t.return,l)}}}function fp(t,o,r){r.props=Ri(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Re(t,o,l)}}function gs(t,o){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(h){Re(t,o,h)}}function jt(t,o){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Re(t,o,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Re(t,o,h)}else r.current=null}function hp(t){var o=t.type,r=t.memoizedProps,l=t.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Re(t,t.return,h)}}function ku(t,o,r){try{var l=t.stateNode;KT(l,t.type,r,o),l[ht]=o}catch(h){Re(t,t.return,h)}}function pp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$n(t.type)||t.tag===4}function Uu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$n(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lu(t,o,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,o?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,o):(o=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.appendChild(t),r=r._reactRootContainer,r!=null||o.onclick!==null||(o.onclick=sn));else if(l!==4&&(l===27&&$n(t.type)&&(r=t.stateNode,o=null),t=t.child,t!==null))for(Lu(t,o,r),t=t.sibling;t!==null;)Lu(t,o,r),t=t.sibling}function zr(t,o,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,o?r.insertBefore(t,o):r.appendChild(t);else if(l!==4&&(l===27&&$n(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(zr(t,o,r),t=t.sibling;t!==null;)zr(t,o,r),t=t.sibling}function mp(t){var o=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,h=o.attributes;h.length;)o.removeAttributeNode(h[0]);ot(o,l,r),o[et]=t,o[ht]=r}catch(m){Re(t,t.return,m)}}var mn=!1,$e=!1,Pu=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function IT(t,o){if(t=t.containerInfo,ic=ca,t=bf(t),Rl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var _=0,C=-1,x=-1,M=0,O=0,q=t,k=null;t:for(;;){for(var L;q!==r||h!==0&&q.nodeType!==3||(C=_+h),q!==m||l!==0&&q.nodeType!==3||(x=_+l),q.nodeType===3&&(_+=q.nodeValue.length),(L=q.firstChild)!==null;)k=q,q=L;for(;;){if(q===t)break t;if(k===r&&++M===h&&(C=_),k===m&&++O===l&&(x=_),(L=q.nextSibling)!==null)break;q=k,k=q.parentNode}q=L}r=C===-1||x===-1?null:{start:C,end:x}}else r=null}r=r||{start:0,end:0}}else r=null;for(oc={focusedElem:t,selectionRange:r},ca=!1,Ze=o;Ze!==null;)if(o=Ze,t=o.child,(o.subtreeFlags&1028)!==0&&t!==null)t.return=o,Ze=t;else for(;Ze!==null;){switch(o=Ze,m=o.alternate,t=o.flags,o.tag){case 0:if((t&4)!==0&&(t=o.updateQueue,t=t!==null?t.events:null,t!==null))for(r=0;r<t.length;r++)h=t[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=o,h=m.memoizedProps,m=m.memoizedState,l=r.stateNode;try{var j=Ri(r.type,h);t=l.getSnapshotBeforeUpdate(j,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(oe){Re(r,r.return,oe)}}break;case 3:if((t&1024)!==0){if(t=o.stateNode.containerInfo,r=t.nodeType,r===9)ac(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ac(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=o.sibling,t!==null){t.return=o.return,Ze=t;break}Ze=o.return}}function yp(t,o,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:yn(t,r),l&4&&ms(5,r);break;case 1:if(yn(t,r),l&4)if(t=r.stateNode,o===null)try{t.componentDidMount()}catch(_){Re(r,r.return,_)}else{var h=Ri(r.type,o.memoizedProps);o=o.memoizedState;try{t.componentDidUpdate(h,o,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Re(r,r.return,_)}}l&64&&dp(r),l&512&&gs(r,r.return);break;case 3:if(yn(t,r),l&64&&(t=r.updateQueue,t!==null)){if(o=null,r.child!==null)switch(r.child.tag){case 27:case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}try{th(t,o)}catch(_){Re(r,r.return,_)}}break;case 27:o===null&&l&4&&mp(r);case 26:case 5:yn(t,r),o===null&&l&4&&hp(r),l&512&&gs(r,r.return);break;case 12:yn(t,r);break;case 31:yn(t,r),l&4&&Tp(t,r);break;case 13:yn(t,r),l&4&&Ep(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=LT.bind(null,r),tE(t,r))));break;case 22:if(l=r.memoizedState!==null||mn,!l){o=o!==null&&o.memoizedState!==null||$e,h=mn;var m=$e;mn=l,($e=o)&&!m?vn(t,r,(r.subtreeFlags&8772)!==0):yn(t,r),mn=h,$e=m}break;case 30:break;default:yn(t,r)}}function vp(t){var o=t.alternate;o!==null&&(t.alternate=null,vp(o)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(o=t.stateNode,o!==null&&fl(o)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ve=null,mt=!1;function gn(t,o,r){for(r=r.child;r!==null;)_p(t,o,r),r=r.sibling}function _p(t,o,r){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(Go,r)}catch{}switch(r.tag){case 26:$e||jt(r,o),gn(t,o,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:$e||jt(r,o);var l=Ve,h=mt;$n(r.type)&&(Ve=r.stateNode,mt=!1),gn(t,o,r),xs(r.stateNode),Ve=l,mt=h;break;case 5:$e||jt(r,o);case 6:if(l=Ve,h=mt,Ve=null,gn(t,o,r),Ve=l,mt=h,Ve!==null)if(mt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(r.stateNode)}catch(m){Re(r,o,m)}else try{Ve.removeChild(r.stateNode)}catch(m){Re(r,o,m)}break;case 18:Ve!==null&&(mt?(t=Ve,dm(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),So(t)):dm(Ve,r.stateNode));break;case 4:l=Ve,h=mt,Ve=r.stateNode.containerInfo,mt=!0,gn(t,o,r),Ve=l,mt=h;break;case 0:case 11:case 14:case 15:qn(2,r,o),$e||qn(4,r,o),gn(t,o,r);break;case 1:$e||(jt(r,o),l=r.stateNode,typeof l.componentWillUnmount=="function"&&fp(r,o,l)),gn(t,o,r);break;case 21:gn(t,o,r);break;case 22:$e=(l=$e)||r.memoizedState!==null,gn(t,o,r),$e=l;break;default:gn(t,o,r)}}function Tp(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{So(t)}catch(r){Re(o,o.return,r)}}}function Ep(t,o){if(o.memoizedState===null&&(t=o.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(r){Re(o,o.return,r)}}function wT(t){switch(t.tag){case 31:case 13:case 19:var o=t.stateNode;return o===null&&(o=t.stateNode=new gp),o;case 22:return t=t.stateNode,o=t._retryCache,o===null&&(o=t._retryCache=new gp),o;default:throw Error(s(435,t.tag))}}function Fr(t,o){var r=wT(t);o.forEach(function(l){if(!r.has(l)){r.add(l);var h=PT.bind(null,t,l);l.then(h,h)}})}function gt(t,o){var r=o.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],m=t,_=o,C=_;e:for(;C!==null;){switch(C.tag){case 27:if($n(C.type)){Ve=C.stateNode,mt=!1;break e}break;case 5:Ve=C.stateNode,mt=!1;break e;case 3:case 4:Ve=C.stateNode.containerInfo,mt=!0;break e}C=C.return}if(Ve===null)throw Error(s(160));_p(m,_,h),Ve=null,mt=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Sp(o,t),o=o.sibling}var zt=null;function Sp(t,o){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:gt(o,t),yt(t),l&4&&(qn(3,t,t.return),ms(3,t),qn(5,t,t.return));break;case 1:gt(o,t),yt(t),l&512&&($e||r===null||jt(r,r.return)),l&64&&mn&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=zt;if(gt(o,t),yt(t),l&512&&($e||r===null||jt(r,r.return)),l&4){var m=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){e:{l=t.type,r=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":m=h.getElementsByTagName("title")[0],(!m||m[zo]||m[et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(l),h.head.insertBefore(m,h.querySelector("head > title"))),ot(m,l,r),m[et]=t,We(m),l=m;break e;case"link":var _=Sm("link","href",h).get(l+(r.href||""));if(_){for(var C=0;C<_.length;C++)if(m=_[C],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){_.splice(C,1);break t}}m=h.createElement(l),ot(m,l,r),h.head.appendChild(m);break;case"meta":if(_=Sm("meta","content",h).get(l+(r.content||""))){for(C=0;C<_.length;C++)if(m=_[C],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){_.splice(C,1);break t}}m=h.createElement(l),ot(m,l,r),h.head.appendChild(m);break;default:throw Error(s(468,l))}m[et]=t,We(m),l=m}t.stateNode=l}else Cm(h,t.type,t.stateNode);else t.stateNode=Em(h,l,t.memoizedProps);else m!==l?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,l===null?Cm(h,t.type,t.stateNode):Em(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ku(t,t.memoizedProps,r.memoizedProps)}break;case 27:gt(o,t),yt(t),l&512&&($e||r===null||jt(r,r.return)),r!==null&&l&4&&ku(t,t.memoizedProps,r.memoizedProps);break;case 5:if(gt(o,t),yt(t),l&512&&($e||r===null||jt(r,r.return)),t.flags&32){h=t.stateNode;try{Fi(h,"")}catch(j){Re(t,t.return,j)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ku(t,h,r!==null?r.memoizedProps:h)),l&1024&&(Pu=!0);break;case 6:if(gt(o,t),yt(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(j){Re(t,t.return,j)}}break;case 3:if(ra=null,h=zt,zt=oa(o.containerInfo),gt(o,t),zt=h,yt(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{So(o.containerInfo)}catch(j){Re(t,t.return,j)}Pu&&(Pu=!1,Cp(t));break;case 4:l=zt,zt=oa(t.stateNode.containerInfo),gt(o,t),yt(t),zt=l;break;case 12:gt(o,t),yt(t);break;case 31:gt(o,t),yt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fr(t,l)));break;case 13:gt(o,t),yt(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Yr=Tt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fr(t,l)));break;case 22:h=t.memoizedState!==null;var x=r!==null&&r.memoizedState!==null,M=mn,O=$e;if(mn=M||h,$e=O||x,gt(o,t),$e=O,mn=M,yt(t),l&8192)e:for(o=t.stateNode,o._visibility=h?o._visibility&-2:o._visibility|1,h&&(r===null||x||mn||$e||Ni(t)),r=null,o=t;;){if(o.tag===5||o.tag===26){if(r===null){x=r=o;try{if(m=x.stateNode,h)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=x.stateNode;var q=x.memoizedProps.style,k=q!=null&&q.hasOwnProperty("display")?q.display:null;C.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Re(x,x.return,j)}}}else if(o.tag===6){if(r===null){x=o;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(j){Re(x,x.return,j)}}}else if(o.tag===18){if(r===null){x=o;try{var L=x.stateNode;h?fm(L,!0):fm(x.stateNode,!1)}catch(j){Re(x,x.return,j)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===t)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;r===o&&(r=null),o=o.return}r===o&&(r=null),o.sibling.return=o.return,o=o.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Fr(t,r))));break;case 19:gt(o,t),yt(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Fr(t,l)));break;case 30:break;case 21:break;default:gt(o,t),yt(t)}}function yt(t){var o=t.flags;if(o&2){try{for(var r,l=t.return;l!==null;){if(pp(l)){r=l;break}l=l.return}if(r==null)throw Error(s(160));switch(r.tag){case 27:var h=r.stateNode,m=Uu(t);zr(t,m,h);break;case 5:var _=r.stateNode;r.flags&32&&(Fi(_,""),r.flags&=-33);var C=Uu(t);zr(t,C,_);break;case 3:case 4:var x=r.stateNode.containerInfo,M=Uu(t);Lu(t,M,x);break;default:throw Error(s(161))}}catch(O){Re(t,t.return,O)}t.flags&=-3}o&4096&&(t.flags&=-4097)}function Cp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var o=t;Cp(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),t=t.sibling}}function yn(t,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)yp(t,o.alternate,o),o=o.sibling}function Ni(t){for(t=t.child;t!==null;){var o=t;switch(o.tag){case 0:case 11:case 14:case 15:qn(4,o,o.return),Ni(o);break;case 1:jt(o,o.return);var r=o.stateNode;typeof r.componentWillUnmount=="function"&&fp(o,o.return,r),Ni(o);break;case 27:xs(o.stateNode);case 26:case 5:jt(o,o.return),Ni(o);break;case 22:o.memoizedState===null&&Ni(o);break;case 30:Ni(o);break;default:Ni(o)}t=t.sibling}}function vn(t,o,r){for(r=r&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var l=o.alternate,h=t,m=o,_=m.flags;switch(m.tag){case 0:case 11:case 15:vn(h,m,r),ms(4,m);break;case 1:if(vn(h,m,r),l=m,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(M){Re(l,l.return,M)}if(l=m,h=l.updateQueue,h!==null){var C=l.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)eh(x[h],C)}catch(M){Re(l,l.return,M)}}r&&_&64&&dp(m),gs(m,m.return);break;case 27:mp(m);case 26:case 5:vn(h,m,r),r&&l===null&&_&4&&hp(m),gs(m,m.return);break;case 12:vn(h,m,r);break;case 31:vn(h,m,r),r&&_&4&&Tp(h,m);break;case 13:vn(h,m,r),r&&_&4&&Ep(h,m);break;case 22:m.memoizedState===null&&vn(h,m,r),gs(m,m.return);break;case 30:break;default:vn(h,m,r)}o=o.sibling}}function Ou(t,o){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(t=o.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&ns(r))}function Hu(t,o){t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&ns(t))}function Ft(t,o,r,l){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Ap(t,o,r,l),o=o.sibling}function Ap(t,o,r,l){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Ft(t,o,r,l),h&2048&&ms(9,o);break;case 1:Ft(t,o,r,l);break;case 3:Ft(t,o,r,l),h&2048&&(t=null,o.alternate!==null&&(t=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==t&&(o.refCount++,t!=null&&ns(t)));break;case 12:if(h&2048){Ft(t,o,r,l),t=o.stateNode;try{var m=o.memoizedProps,_=m.id,C=m.onPostCommit;typeof C=="function"&&C(_,o.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(x){Re(o,o.return,x)}}else Ft(t,o,r,l);break;case 31:Ft(t,o,r,l);break;case 13:Ft(t,o,r,l);break;case 23:break;case 22:m=o.stateNode,_=o.alternate,o.memoizedState!==null?m._visibility&2?Ft(t,o,r,l):ys(t,o):m._visibility&2?Ft(t,o,r,l):(m._visibility|=2,co(t,o,r,l,(o.subtreeFlags&10256)!==0||!1)),h&2048&&Ou(_,o);break;case 24:Ft(t,o,r,l),h&2048&&Hu(o.alternate,o);break;default:Ft(t,o,r,l)}}function co(t,o,r,l,h){for(h=h&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var m=t,_=o,C=r,x=l,M=_.flags;switch(_.tag){case 0:case 11:case 15:co(m,_,C,x,h),ms(8,_);break;case 23:break;case 22:var O=_.stateNode;_.memoizedState!==null?O._visibility&2?co(m,_,C,x,h):ys(m,_):(O._visibility|=2,co(m,_,C,x,h)),h&&M&2048&&Ou(_.alternate,_);break;case 24:co(m,_,C,x,h),h&&M&2048&&Hu(_.alternate,_);break;default:co(m,_,C,x,h)}o=o.sibling}}function ys(t,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var r=t,l=o,h=l.flags;switch(l.tag){case 22:ys(r,l),h&2048&&Ou(l.alternate,l);break;case 24:ys(r,l),h&2048&&Hu(l.alternate,l);break;default:ys(r,l)}o=o.sibling}}var vs=8192;function fo(t,o,r){if(t.subtreeFlags&vs)for(t=t.child;t!==null;)xp(t,o,r),t=t.sibling}function xp(t,o,r){switch(t.tag){case 26:fo(t,o,r),t.flags&vs&&t.memoizedState!==null&&hE(r,zt,t.memoizedState,t.memoizedProps);break;case 5:fo(t,o,r);break;case 3:case 4:var l=zt;zt=oa(t.stateNode.containerInfo),fo(t,o,r),zt=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=vs,vs=16777216,fo(t,o,r),vs=l):fo(t,o,r));break;default:fo(t,o,r)}}function Ip(t){var o=t.alternate;if(o!==null&&(t=o.child,t!==null)){o.child=null;do o=t.sibling,t.sibling=null,t=o;while(t!==null)}}function _s(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];Ze=l,bp(l,t)}Ip(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:_s(t),t.flags&2048&&qn(9,t,t.return);break;case 3:_s(t);break;case 12:_s(t);break;case 22:var o=t.stateNode;t.memoizedState!==null&&o._visibility&2&&(t.return===null||t.return.tag!==13)?(o._visibility&=-3,Jr(t)):_s(t);break;default:_s(t)}}function Jr(t){var o=t.deletions;if((t.flags&16)!==0){if(o!==null)for(var r=0;r<o.length;r++){var l=o[r];Ze=l,bp(l,t)}Ip(t)}for(t=t.child;t!==null;){switch(o=t,o.tag){case 0:case 11:case 15:qn(8,o,o.return),Jr(o);break;case 22:r=o.stateNode,r._visibility&2&&(r._visibility&=-3,Jr(o));break;default:Jr(o)}t=t.sibling}}function bp(t,o){for(;Ze!==null;){var r=Ze;switch(r.tag){case 0:case 11:case 15:qn(8,r,o);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ns(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ze=l;else e:for(r=t;Ze!==null;){l=Ze;var h=l.sibling,m=l.return;if(vp(l),l===r){Ze=null;break e}if(h!==null){h.return=m,Ze=h;break e}Ze=m}}}var bT={getCacheForType:function(t){var o=nt(Ye),r=o.data.get(t);return r===void 0&&(r=t(),o.data.set(t,r)),r},cacheSignal:function(){return nt(Ye).controller.signal}},RT=typeof WeakMap=="function"?WeakMap:Map,we=0,Le=null,ge=null,ve=0,be=0,wt=null,zn=!1,ho=!1,Vu=!1,_n=0,Be=0,Fn=0,Mi=0,Gu=0,bt=0,po=0,Ts=null,vt=null,Bu=!1,Yr=0,Rp=0,Kr=1/0,Xr=null,Jn=null,Qe=0,Yn=null,mo=null,Tn=0,qu=0,zu=null,Np=null,Es=0,Fu=null;function Rt(){return(we&2)!==0&&ve!==0?ve&-ve:P.T!==null?Qu():Jd()}function Mp(){if(bt===0)if((ve&536870912)===0||Te){var t=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),bt=t}else bt=536870912;return t=xt.current,t!==null&&(t.flags|=32),bt}function _t(t,o,r){(t===Le&&(be===2||be===9)||t.cancelPendingCommit!==null)&&(go(t,0),Kn(t,ve,bt,!1)),qo(t,r),((we&2)===0||t!==Le)&&(t===Le&&((we&2)===0&&(Mi|=r),Be===4&&Kn(t,ve,bt,!1)),en(t))}function Dp(t,o,r){if((we&6)!==0)throw Error(s(327));var l=!r&&(o&127)===0&&(o&t.expiredLanes)===0||Bo(t,o),h=l?DT(t,o):Yu(t,o,!0),m=l;do{if(h===0){ho&&!l&&Kn(t,o,0,!1);break}else{if(r=t.current.alternate,m&&!NT(r)){h=Yu(t,o,!1),m=!1;continue}if(h===2){if(m=o,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){o=_;e:{var C=t;h=Ts;var x=C.current.memoizedState.isDehydrated;if(x&&(go(C,_).flags|=256),_=Yu(C,_,!1),_!==2){if(Vu&&!x){C.errorRecoveryDisabledLanes|=m,Mi|=m,h=4;break e}m=vt,vt=h,m!==null&&(vt===null?vt=m:vt.push.apply(vt,m))}h=_}if(m=!1,h!==2)continue}}if(h===1){go(t,0),Kn(t,o,0,!0);break}e:{switch(l=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Kn(l,o,bt,!zn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(h=Yr+300-Tt(),10<h)){if(Kn(l,o,bt,!zn),or(l,0,!0)!==0)break e;Tn=o,l.timeoutHandle=um(kp.bind(null,l,r,vt,Xr,Bu,o,bt,Mi,po,zn,m,"Throttled",-0,0),h);break e}kp(l,r,vt,Xr,Bu,o,bt,Mi,po,zn,m,null,-0,0)}}break}while(!0);en(t)}function kp(t,o,r,l,h,m,_,C,x,M,O,q,k,L){if(t.timeoutHandle=-1,q=o.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},xp(o,m,q);var j=(m&62914560)===m?Yr-Tt():(m&4194048)===m?Rp-Tt():0;if(j=pE(q,j),j!==null){Tn=m,t.cancelPendingCommit=j(Bp.bind(null,t,o,m,r,l,h,_,C,x,O,q,null,k,L)),Kn(t,m,_,!M);return}}Bp(t,o,m,r,l,h,_,C,x)}function NT(t){for(var o=t;;){var r=o.tag;if((r===0||r===11||r===15)&&o.flags&16384&&(r=o.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],m=h.getSnapshot;h=h.value;try{if(!Ct(m(),h))return!1}catch{return!1}}if(r=o.child,o.subtreeFlags&16384&&r!==null)r.return=o,o=r;else{if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Kn(t,o,r,l){o&=~Gu,o&=~Mi,t.suspendedLanes|=o,t.pingedLanes&=~o,l&&(t.warmLanes|=o),l=t.expirationTimes;for(var h=o;0<h;){var m=31-St(h),_=1<<m;l[m]=-1,h&=~_}r!==0&&qd(t,r,o)}function $r(){return(we&6)===0?(Ss(0),!1):!0}function Ju(){if(ge!==null){if(be===0)var t=ge.return;else t=ge,un=Si=null,au(t),so=null,os=0,t=ge;for(;t!==null;)cp(t.alternate,t),t=t.return;ge=null}}function go(t,o){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,QT(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Tn=0,Ju(),Le=t,ge=r=an(t.current,null),ve=o,be=0,wt=null,zn=!1,ho=Bo(t,o),Vu=!1,po=bt=Gu=Mi=Fn=Be=0,vt=Ts=null,Bu=!1,(o&8)!==0&&(o|=o&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=o;0<l;){var h=31-St(l),m=1<<h;o|=t[h],l&=~m}return _n=o,gr(),r}function Up(t,o){pe=null,P.H=fs,o===oo||o===Ar?(o=Qf(),be=3):o===$l?(o=Qf(),be=4):be=o===Cu?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,wt=o,ge===null&&(Be=1,Hr(t,kt(o,t.current)))}function Lp(){var t=xt.current;return t===null?!0:(ve&4194048)===ve?Ot===null:(ve&62914560)===ve||(ve&536870912)!==0?t===Ot:!1}function Pp(){var t=P.H;return P.H=fs,t===null?fs:t}function Op(){var t=P.A;return P.A=bT,t}function Qr(){Be=4,zn||(ve&4194048)!==ve&&xt.current!==null||(ho=!0),(Fn&134217727)===0&&(Mi&134217727)===0||Le===null||Kn(Le,ve,bt,!1)}function Yu(t,o,r){var l=we;we|=2;var h=Pp(),m=Op();(Le!==t||ve!==o)&&(Xr=null,go(t,o)),o=!1;var _=Be;e:do try{if(be!==0&&ge!==null){var C=ge,x=wt;switch(be){case 8:Ju(),_=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(o=!0);var M=be;if(be=0,wt=null,yo(t,C,x,M),r&&ho){_=0;break e}break;default:M=be,be=0,wt=null,yo(t,C,x,M)}}MT(),_=Be;break}catch(O){Up(t,O)}while(!0);return o&&t.shellSuspendCounter++,un=Si=null,we=l,P.H=h,P.A=m,ge===null&&(Le=null,ve=0,gr()),_}function MT(){for(;ge!==null;)Hp(ge)}function DT(t,o){var r=we;we|=2;var l=Pp(),h=Op();Le!==t||ve!==o?(Xr=null,Kr=Tt()+500,go(t,o)):ho=Bo(t,o);e:do try{if(be!==0&&ge!==null){o=ge;var m=wt;t:switch(be){case 1:be=0,wt=null,yo(t,o,m,1);break;case 2:case 9:if(Xf(m)){be=0,wt=null,Vp(o);break}o=function(){be!==2&&be!==9||Le!==t||(be=7),en(t)},m.then(o,o);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Xf(m)?(be=0,wt=null,Vp(o)):(be=0,wt=null,yo(t,o,m,7));break;case 5:var _=null;switch(ge.tag){case 26:_=ge.memoizedState;case 5:case 27:var C=ge;if(_?Am(_):C.stateNode.complete){be=0,wt=null;var x=C.sibling;if(x!==null)ge=x;else{var M=C.return;M!==null?(ge=M,Wr(M)):ge=null}break t}}be=0,wt=null,yo(t,o,m,5);break;case 6:be=0,wt=null,yo(t,o,m,6);break;case 8:Ju(),Be=6;break e;default:throw Error(s(462))}}kT();break}catch(O){Up(t,O)}while(!0);return un=Si=null,P.H=l,P.A=h,we=r,ge!==null?0:(Le=null,ve=0,gr(),Be)}function kT(){for(;ge!==null&&!n_();)Hp(ge)}function Hp(t){var o=lp(t.alternate,t,_n);t.memoizedProps=t.pendingProps,o===null?Wr(t):ge=o}function Vp(t){var o=t,r=o.alternate;switch(o.tag){case 15:case 0:o=np(r,o,o.pendingProps,o.type,void 0,ve);break;case 11:o=np(r,o,o.pendingProps,o.type.render,o.ref,ve);break;case 5:au(o);default:cp(r,o),o=ge=Of(o,_n),o=lp(r,o,_n)}t.memoizedProps=t.pendingProps,o===null?Wr(t):ge=o}function yo(t,o,r,l){un=Si=null,au(o),so=null,os=0;var h=o.return;try{if(ET(t,h,o,r,ve)){Be=1,Hr(t,kt(r,t.current)),ge=null;return}}catch(m){if(h!==null)throw ge=h,m;Be=1,Hr(t,kt(r,t.current)),ge=null;return}o.flags&32768?(Te||l===1?t=!0:ho||(ve&536870912)!==0?t=!1:(zn=t=!0,(l===2||l===9||l===3||l===6)&&(l=xt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Gp(o,t)):Wr(o)}function Wr(t){var o=t;do{if((o.flags&32768)!==0){Gp(o,zn);return}t=o.return;var r=AT(o.alternate,o,_n);if(r!==null){ge=r;return}if(o=o.sibling,o!==null){ge=o;return}ge=o=t}while(o!==null);Be===0&&(Be=5)}function Gp(t,o){do{var r=xT(t.alternate,t);if(r!==null){r.flags&=32767,ge=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!o&&(t=t.sibling,t!==null)){ge=t;return}ge=t=r}while(t!==null);Be=6,ge=null}function Bp(t,o,r,l,h,m,_,C,x){t.cancelPendingCommit=null;do Zr();while(Qe!==0);if((we&6)!==0)throw Error(s(327));if(o!==null){if(o===t.current)throw Error(s(177));if(m=o.lanes|o.childLanes,m|=Ul,f_(t,r,m,_,C,x),t===Le&&(ge=Le=null,ve=0),mo=o,Yn=t,Tn=r,qu=m,zu=h,Np=l,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,OT(er,function(){return Yp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||l){l=P.T,P.T=null,h=X.p,X.p=2,_=we,we|=4;try{IT(t,o,r)}finally{we=_,X.p=h,P.T=l}}Qe=1,qp(),zp(),Fp()}}function qp(){if(Qe===1){Qe=0;var t=Yn,o=mo,r=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||r){r=P.T,P.T=null;var l=X.p;X.p=2;var h=we;we|=4;try{Sp(o,t);var m=oc,_=bf(t.containerInfo),C=m.focusedElem,x=m.selectionRange;if(_!==C&&C&&C.ownerDocument&&wf(C.ownerDocument.documentElement,C)){if(x!==null&&Rl(C)){var M=x.start,O=x.end;if(O===void 0&&(O=M),"selectionStart"in C)C.selectionStart=M,C.selectionEnd=Math.min(O,C.value.length);else{var q=C.ownerDocument||document,k=q&&q.defaultView||window;if(k.getSelection){var L=k.getSelection(),j=C.textContent.length,oe=Math.min(x.start,j),ke=x.end===void 0?oe:Math.min(x.end,j);!L.extend&&oe>ke&&(_=ke,ke=oe,oe=_);var R=If(C,oe),w=If(C,ke);if(R&&w&&(L.rangeCount!==1||L.anchorNode!==R.node||L.anchorOffset!==R.offset||L.focusNode!==w.node||L.focusOffset!==w.offset)){var N=q.createRange();N.setStart(R.node,R.offset),L.removeAllRanges(),oe>ke?(L.addRange(N),L.extend(w.node,w.offset)):(N.setEnd(w.node,w.offset),L.addRange(N))}}}}for(q=[],L=C;L=L.parentNode;)L.nodeType===1&&q.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<q.length;C++){var G=q[C];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ca=!!ic,oc=ic=null}finally{we=h,X.p=l,P.T=r}}t.current=o,Qe=2}}function zp(){if(Qe===2){Qe=0;var t=Yn,o=mo,r=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||r){r=P.T,P.T=null;var l=X.p;X.p=2;var h=we;we|=4;try{yp(t,o.alternate,o)}finally{we=h,X.p=l,P.T=r}}Qe=3}}function Fp(){if(Qe===4||Qe===3){Qe=0,i_();var t=Yn,o=mo,r=Tn,l=Np;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Qe=5:(Qe=0,mo=Yn=null,Jp(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Jn=null),cl(r),o=o.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(Go,o,void 0,(o.current.flags&128)===128)}catch{}if(l!==null){o=P.T,h=X.p,X.p=2,P.T=null;try{for(var m=t.onRecoverableError,_=0;_<l.length;_++){var C=l[_];m(C.value,{componentStack:C.stack})}}finally{P.T=o,X.p=h}}(Tn&3)!==0&&Zr(),en(t),h=t.pendingLanes,(r&261930)!==0&&(h&42)!==0?t===Fu?Es++:(Es=0,Fu=t):Es=0,Ss(0)}}function Jp(t,o){(t.pooledCacheLanes&=o)===0&&(o=t.pooledCache,o!=null&&(t.pooledCache=null,ns(o)))}function Zr(){return qp(),zp(),Fp(),Yp()}function Yp(){if(Qe!==5)return!1;var t=Yn,o=qu;qu=0;var r=cl(Tn),l=P.T,h=X.p;try{X.p=32>r?32:r,P.T=null,r=zu,zu=null;var m=Yn,_=Tn;if(Qe=0,mo=Yn=null,Tn=0,(we&6)!==0)throw Error(s(331));var C=we;if(we|=4,wp(m.current),Ap(m,m.current,_,r),we=C,Ss(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(Go,m)}catch{}return!0}finally{X.p=h,P.T=l,Jp(t,o)}}function Kp(t,o,r){o=kt(r,o),o=Su(t.stateNode,o,2),t=Vn(t,o,2),t!==null&&(qo(t,2),en(t))}function Re(t,o,r){if(t.tag===3)Kp(t,t,r);else for(;o!==null;){if(o.tag===3){Kp(o,t,r);break}else if(o.tag===1){var l=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Jn===null||!Jn.has(l))){t=kt(r,t),r=Xh(2),l=Vn(o,r,2),l!==null&&($h(r,l,o,t),qo(l,2),en(l));break}}o=o.return}}function Ku(t,o,r){var l=t.pingCache;if(l===null){l=t.pingCache=new RT;var h=new Set;l.set(o,h)}else h=l.get(o),h===void 0&&(h=new Set,l.set(o,h));h.has(r)||(Vu=!0,h.add(r),t=UT.bind(null,t,o,r),o.then(t,t))}function UT(t,o,r){var l=t.pingCache;l!==null&&l.delete(o),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Le===t&&(ve&r)===r&&(Be===4||Be===3&&(ve&62914560)===ve&&300>Tt()-Yr?(we&2)===0&&go(t,0):Gu|=r,po===ve&&(po=0)),en(t)}function Xp(t,o){o===0&&(o=Bd()),t=_i(t,o),t!==null&&(qo(t,o),en(t))}function LT(t){var o=t.memoizedState,r=0;o!==null&&(r=o.retryLane),Xp(t,r)}function PT(t,o){var r=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(o),Xp(t,r)}function OT(t,o){return rl(t,o)}var jr=null,vo=null,Xu=!1,ea=!1,$u=!1,Xn=0;function en(t){t!==vo&&t.next===null&&(vo===null?jr=vo=t:vo=vo.next=t),ea=!0,Xu||(Xu=!0,VT())}function Ss(t,o){if(!$u&&ea){$u=!0;do for(var r=!1,l=jr;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var m=0;else{var _=l.suspendedLanes,C=l.pingedLanes;m=(1<<31-St(42|t)+1)-1,m&=h&~(_&~C),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Zp(l,m))}else m=ve,m=or(l,l===Le?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Bo(l,m)||(r=!0,Zp(l,m));l=l.next}while(r);$u=!1}}function HT(){$p()}function $p(){ea=Xu=!1;var t=0;Xn!==0&&$T()&&(t=Xn);for(var o=Tt(),r=null,l=jr;l!==null;){var h=l.next,m=Qp(l,o);m===0?(l.next=null,r===null?jr=h:r.next=h,h===null&&(vo=r)):(r=l,(t!==0||(m&3)!==0)&&(ea=!0)),l=h}Qe!==0&&Qe!==5||Ss(t),Xn!==0&&(Xn=0)}function Qp(t,o){for(var r=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-St(m),C=1<<_,x=h[_];x===-1?((C&r)===0||(C&l)!==0)&&(h[_]=d_(C,o)):x<=o&&(t.expiredLanes|=C),m&=~C}if(o=Le,r=ve,r=or(t,t===o?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===o&&(be===2||be===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&al(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Bo(t,r)){if(o=r&-r,o===t.callbackPriority)return o;switch(l!==null&&al(l),cl(r)){case 2:case 8:r=Vd;break;case 32:r=er;break;case 268435456:r=Gd;break;default:r=er}return l=Wp.bind(null,t),r=rl(r,l),t.callbackPriority=o,t.callbackNode=r,o}return l!==null&&l!==null&&al(l),t.callbackPriority=2,t.callbackNode=null,2}function Wp(t,o){if(Qe!==0&&Qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Zr()&&t.callbackNode!==r)return null;var l=ve;return l=or(t,t===Le?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dp(t,l,o),Qp(t,Tt()),t.callbackNode!=null&&t.callbackNode===r?Wp.bind(null,t):null)}function Zp(t,o){if(Zr())return null;Dp(t,o,!0)}function VT(){WT(function(){(we&6)!==0?rl(Hd,HT):$p()})}function Qu(){if(Xn===0){var t=no;t===0&&(t=tr,tr<<=1,(tr&261888)===0&&(tr=256)),Xn=t}return Xn}function jp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:lr(""+t)}function em(t,o){var r=o.ownerDocument.createElement("input");return r.name=o.name,r.value=o.value,t.id&&r.setAttribute("form",t.id),o.parentNode.insertBefore(r,o),t=new FormData(t),r.parentNode.removeChild(r),t}function GT(t,o,r,l,h){if(o==="submit"&&r&&r.stateNode===h){var m=jp((h[ht]||null).action),_=l.submitter;_&&(o=(o=_[ht]||null)?jp(o.formAction):_.getAttribute("formAction"),o!==null&&(m=o,_=null));var C=new fr("action","action",null,l,h);t.push({event:C,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xn!==0){var x=_?em(h,_):new FormData(h);gu(r,{pending:!0,data:x,method:h.method,action:m},null,x)}}else typeof m=="function"&&(C.preventDefault(),x=_?em(h,_):new FormData(h),gu(r,{pending:!0,data:x,method:h.method,action:m},m,x))},currentTarget:h}]})}}for(var Wu=0;Wu<kl.length;Wu++){var Zu=kl[Wu],BT=Zu.toLowerCase(),qT=Zu[0].toUpperCase()+Zu.slice(1);qt(BT,"on"+qT)}qt(Mf,"onAnimationEnd"),qt(Df,"onAnimationIteration"),qt(kf,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(oT,"onTransitionRun"),qt(sT,"onTransitionStart"),qt(rT,"onTransitionCancel"),qt(Uf,"onTransitionEnd"),qi("onMouseEnter",["mouseout","mouseover"]),qi("onMouseLeave",["mouseout","mouseover"]),qi("onPointerEnter",["pointerout","pointerover"]),qi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cs));function tm(t,o){o=(o&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],h=l.event;l=l.listeners;e:{var m=void 0;if(o)for(var _=l.length-1;0<=_;_--){var C=l[_],x=C.instance,M=C.currentTarget;if(C=C.listener,x!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=M;try{m(h)}catch(O){mr(O)}h.currentTarget=null,m=x}else for(_=0;_<l.length;_++){if(C=l[_],x=C.instance,M=C.currentTarget,C=C.listener,x!==m&&h.isPropagationStopped())break e;m=C,h.currentTarget=M;try{m(h)}catch(O){mr(O)}h.currentTarget=null,m=x}}}}function ye(t,o){var r=o[dl];r===void 0&&(r=o[dl]=new Set);var l=t+"__bubble";r.has(l)||(nm(o,t,2,!1),r.add(l))}function ju(t,o,r){var l=0;o&&(l|=4),nm(r,t,l,o)}var ta="_reactListening"+Math.random().toString(36).slice(2);function ec(t){if(!t[ta]){t[ta]=!0,Xd.forEach(function(r){r!=="selectionchange"&&(zT.has(r)||ju(r,!1,t),ju(r,!0,t))});var o=t.nodeType===9?t:t.ownerDocument;o===null||o[ta]||(o[ta]=!0,ju("selectionchange",!1,o))}}function nm(t,o,r,l){switch(Mm(o)){case 2:var h=yE;break;case 8:h=vE;break;default:h=mc}r=h.bind(null,o,r,t),h=void 0,!Tl||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(o,r,{capture:!0,passive:h}):t.addEventListener(o,r,!0):h!==void 0?t.addEventListener(o,r,{passive:h}):t.addEventListener(o,r,!1)}function tc(t,o,r,l,h){var m=l;if((o&1)===0&&(o&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var C=l.stateNode.containerInfo;if(C===h)break;if(_===4)for(_=l.return;_!==null;){var x=_.tag;if((x===3||x===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;C!==null;){if(_=Vi(C),_===null)return;if(x=_.tag,x===5||x===6||x===26||x===27){l=m=_;continue e}C=C.parentNode}}l=l.return}af(function(){var M=m,O=vl(r),q=[];e:{var k=Lf.get(t);if(k!==void 0){var L=fr,j=t;switch(t){case"keypress":if(cr(r)===0)break e;case"keydown":case"keyup":L=P_;break;case"focusin":j="focus",L=Al;break;case"focusout":j="blur",L=Al;break;case"beforeblur":case"afterblur":L=Al;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=A_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=V_;break;case Mf:case Df:case kf:L=w_;break;case Uf:L=B_;break;case"scroll":case"scrollend":L=S_;break;case"wheel":L=z_;break;case"copy":case"cut":case"paste":L=R_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ff;break;case"toggle":case"beforetoggle":L=J_}var oe=(o&4)!==0,ke=!oe&&(t==="scroll"||t==="scrollend"),R=oe?k!==null?k+"Capture":null:k;oe=[];for(var w=M,N;w!==null;){var G=w;if(N=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||N===null||R===null||(G=Jo(w,R),G!=null&&oe.push(As(w,G,N))),ke)break;w=w.return}0<oe.length&&(k=new L(k,j,null,r,O),q.push({event:k,listeners:oe}))}}if((o&7)===0){e:{if(k=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",k&&r!==yl&&(j=r.relatedTarget||r.fromElement)&&(Vi(j)||j[Hi]))break e;if((L||k)&&(k=O.window===O?O:(k=O.ownerDocument)?k.defaultView||k.parentWindow:window,L?(j=r.relatedTarget||r.toElement,L=M,j=j?Vi(j):null,j!==null&&(ke=u(j),oe=j.tag,j!==ke||oe!==5&&oe!==27&&oe!==6)&&(j=null)):(L=null,j=M),L!==j)){if(oe=cf,G="onMouseLeave",R="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(oe=ff,G="onPointerLeave",R="onPointerEnter",w="pointer"),ke=L==null?k:Fo(L),N=j==null?k:Fo(j),k=new oe(G,w+"leave",L,r,O),k.target=ke,k.relatedTarget=N,G=null,Vi(O)===M&&(oe=new oe(R,w+"enter",j,r,O),oe.target=N,oe.relatedTarget=ke,G=oe),ke=G,L&&j)t:{for(oe=FT,R=L,w=j,N=0,G=R;G;G=oe(G))N++;G=0;for(var ie=w;ie;ie=oe(ie))G++;for(;0<N-G;)R=oe(R),N--;for(;0<G-N;)w=oe(w),G--;for(;N--;){if(R===w||w!==null&&R===w.alternate){oe=R;break t}R=oe(R),w=oe(w)}oe=null}else oe=null;L!==null&&im(q,k,L,oe,!1),j!==null&&ke!==null&&im(q,ke,j,oe,!0)}}e:{if(k=M?Fo(M):window,L=k.nodeName&&k.nodeName.toLowerCase(),L==="select"||L==="input"&&k.type==="file")var Ce=Tf;else if(vf(k))if(Ef)Ce=tT;else{Ce=j_;var te=Z_}else L=k.nodeName,!L||L.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?M&&gl(M.elementType)&&(Ce=Tf):Ce=eT;if(Ce&&(Ce=Ce(t,M))){_f(q,Ce,r,O);break e}te&&te(t,k,M),t==="focusout"&&M&&k.type==="number"&&M.memoizedProps.value!=null&&ml(k,"number",k.value)}switch(te=M?Fo(M):window,t){case"focusin":(vf(te)||te.contentEditable==="true")&&(Xi=te,Nl=M,jo=null);break;case"focusout":jo=Nl=Xi=null;break;case"mousedown":Ml=!0;break;case"contextmenu":case"mouseup":case"dragend":Ml=!1,Rf(q,r,O);break;case"selectionchange":if(iT)break;case"keydown":case"keyup":Rf(q,r,O)}var me;if(Il)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ki?gf(t,r)&&(_e="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(_e="onCompositionStart");_e&&(hf&&r.locale!=="ko"&&(Ki||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ki&&(me=lf()):(Dn=O,El="value"in Dn?Dn.value:Dn.textContent,Ki=!0)),te=na(M,_e),0<te.length&&(_e=new df(_e,t,null,r,O),q.push({event:_e,listeners:te}),me?_e.data=me:(me=yf(r),me!==null&&(_e.data=me)))),(me=K_?X_(t,r):$_(t,r))&&(_e=na(M,"onBeforeInput"),0<_e.length&&(te=new df("onBeforeInput","beforeinput",null,r,O),q.push({event:te,listeners:_e}),te.data=me)),GT(q,t,M,r,O)}tm(q,o)})}function As(t,o,r){return{instance:t,listener:o,currentTarget:r}}function na(t,o){for(var r=o+"Capture",l=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=Jo(t,r),h!=null&&l.unshift(As(t,h,m)),h=Jo(t,o),h!=null&&l.push(As(t,h,m))),t.tag===3)return l;t=t.return}return[]}function FT(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function im(t,o,r,l,h){for(var m=o._reactName,_=[];r!==null&&r!==l;){var C=r,x=C.alternate,M=C.stateNode;if(C=C.tag,x!==null&&x===l)break;C!==5&&C!==26&&C!==27||M===null||(x=M,h?(M=Jo(r,m),M!=null&&_.unshift(As(r,M,x))):h||(M=Jo(r,m),M!=null&&_.push(As(r,M,x)))),r=r.return}_.length!==0&&t.push({event:o,listeners:_})}var JT=/\r\n?/g,YT=/\u0000|\uFFFD/g;function om(t){return(typeof t=="string"?t:""+t).replace(JT,`
`).replace(YT,"")}function sm(t,o){return o=om(o),om(t)===o}function De(t,o,r,l,h,m){switch(r){case"children":typeof l=="string"?o==="body"||o==="textarea"&&l===""||Fi(t,l):(typeof l=="number"||typeof l=="bigint")&&o!=="body"&&Fi(t,""+l);break;case"className":rr(t,"class",l);break;case"tabIndex":rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(t,r,l);break;case"style":sf(t,l,m);break;case"data":if(o!=="object"){rr(t,"data",l);break}case"src":case"href":if(l===""&&(o!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=lr(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(o!=="input"&&De(t,o,"name",h.name,h,null),De(t,o,"formEncType",h.formEncType,h,null),De(t,o,"formMethod",h.formMethod,h,null),De(t,o,"formTarget",h.formTarget,h,null)):(De(t,o,"encType",h.encType,h,null),De(t,o,"method",h.method,h,null),De(t,o,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=lr(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=sn);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=lr(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":ye("beforetoggle",t),ye("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":on(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":on(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":on(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":on(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":on(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":on(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":on(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":on(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":on(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=T_.get(r)||r,sr(t,r,l))}}function nc(t,o,r,l,h,m){switch(r){case"style":sf(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=r}}break;case"children":typeof l=="string"?Fi(t,l):(typeof l=="number"||typeof l=="bigint")&&Fi(t,""+l);break;case"onScroll":l!=null&&ye("scroll",t);break;case"onScrollEnd":l!=null&&ye("scrollend",t);break;case"onClick":l!=null&&(t.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$d.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),o=r.slice(2,h?r.length-7:void 0),m=t[ht]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(o,m,h),typeof l=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(o,l,h);break e}r in t?t[r]=l:l===!0?t.setAttribute(r,""):sr(t,r,l)}}}function ot(t,o,r){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var l=!1,h=!1,m;for(m in r)if(r.hasOwnProperty(m)){var _=r[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:De(t,o,m,_,r,null)}}h&&De(t,o,"srcSet",r.srcSet,r,null),l&&De(t,o,"src",r.src,r,null);return;case"input":ye("invalid",t);var C=m=_=h=null,x=null,M=null;for(l in r)if(r.hasOwnProperty(l)){var O=r[l];if(O!=null)switch(l){case"name":h=O;break;case"type":_=O;break;case"checked":x=O;break;case"defaultChecked":M=O;break;case"value":m=O;break;case"defaultValue":C=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(s(137,o));break;default:De(t,o,l,O,r,null)}}ef(t,m,C,x,M,_,h,!1);return;case"select":ye("invalid",t),l=_=m=null;for(h in r)if(r.hasOwnProperty(h)&&(C=r[h],C!=null))switch(h){case"value":m=C;break;case"defaultValue":_=C;break;case"multiple":l=C;default:De(t,o,h,C,r,null)}o=m,r=_,t.multiple=!!l,o!=null?zi(t,!!l,o,!1):r!=null&&zi(t,!!l,r,!0);return;case"textarea":ye("invalid",t),m=h=l=null;for(_ in r)if(r.hasOwnProperty(_)&&(C=r[_],C!=null))switch(_){case"value":l=C;break;case"defaultValue":h=C;break;case"children":m=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:De(t,o,_,C,r,null)}nf(t,l,h,m);return;case"option":for(x in r)if(r.hasOwnProperty(x)&&(l=r[x],l!=null))switch(x){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:De(t,o,x,l,r,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(l=0;l<Cs.length;l++)ye(Cs[l],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(M in r)if(r.hasOwnProperty(M)&&(l=r[M],l!=null))switch(M){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:De(t,o,M,l,r,null)}return;default:if(gl(o)){for(O in r)r.hasOwnProperty(O)&&(l=r[O],l!==void 0&&nc(t,o,O,l,r,void 0));return}}for(C in r)r.hasOwnProperty(C)&&(l=r[C],l!=null&&De(t,o,C,l,r,null))}function KT(t,o,r,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,_=null,C=null,x=null,M=null,O=null;for(L in r){var q=r[L];if(r.hasOwnProperty(L)&&q!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":x=q;default:l.hasOwnProperty(L)||De(t,o,L,null,l,q)}}for(var k in l){var L=l[k];if(q=r[k],l.hasOwnProperty(k)&&(L!=null||q!=null))switch(k){case"type":m=L;break;case"name":h=L;break;case"checked":M=L;break;case"defaultChecked":O=L;break;case"value":_=L;break;case"defaultValue":C=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,o));break;default:L!==q&&De(t,o,k,L,l,q)}}pl(t,_,C,x,M,O,m,h);return;case"select":L=_=C=k=null;for(m in r)if(x=r[m],r.hasOwnProperty(m)&&x!=null)switch(m){case"value":break;case"multiple":L=x;default:l.hasOwnProperty(m)||De(t,o,m,null,l,x)}for(h in l)if(m=l[h],x=r[h],l.hasOwnProperty(h)&&(m!=null||x!=null))switch(h){case"value":k=m;break;case"defaultValue":C=m;break;case"multiple":_=m;default:m!==x&&De(t,o,h,m,l,x)}o=C,r=_,l=L,k!=null?zi(t,!!r,k,!1):!!l!=!!r&&(o!=null?zi(t,!!r,o,!0):zi(t,!!r,r?[]:"",!1));return;case"textarea":L=k=null;for(C in r)if(h=r[C],r.hasOwnProperty(C)&&h!=null&&!l.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:De(t,o,C,null,l,h)}for(_ in l)if(h=l[_],m=r[_],l.hasOwnProperty(_)&&(h!=null||m!=null))switch(_){case"value":k=h;break;case"defaultValue":L=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&De(t,o,_,h,l,m)}tf(t,k,L);return;case"option":for(var j in r)if(k=r[j],r.hasOwnProperty(j)&&k!=null&&!l.hasOwnProperty(j))switch(j){case"selected":t.selected=!1;break;default:De(t,o,j,null,l,k)}for(x in l)if(k=l[x],L=r[x],l.hasOwnProperty(x)&&k!==L&&(k!=null||L!=null))switch(x){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:De(t,o,x,k,l,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var oe in r)k=r[oe],r.hasOwnProperty(oe)&&k!=null&&!l.hasOwnProperty(oe)&&De(t,o,oe,null,l,k);for(M in l)if(k=l[M],L=r[M],l.hasOwnProperty(M)&&k!==L&&(k!=null||L!=null))switch(M){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,o));break;default:De(t,o,M,k,l,L)}return;default:if(gl(o)){for(var ke in r)k=r[ke],r.hasOwnProperty(ke)&&k!==void 0&&!l.hasOwnProperty(ke)&&nc(t,o,ke,void 0,l,k);for(O in l)k=l[O],L=r[O],!l.hasOwnProperty(O)||k===L||k===void 0&&L===void 0||nc(t,o,O,k,l,L);return}}for(var R in r)k=r[R],r.hasOwnProperty(R)&&k!=null&&!l.hasOwnProperty(R)&&De(t,o,R,null,l,k);for(q in l)k=l[q],L=r[q],!l.hasOwnProperty(q)||k===L||k==null&&L==null||De(t,o,q,k,l,L)}function rm(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XT(){if(typeof performance.getEntriesByType=="function"){for(var t=0,o=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],m=h.transferSize,_=h.initiatorType,C=h.duration;if(m&&C&&rm(_)){for(_=0,C=h.responseEnd,l+=1;l<r.length;l++){var x=r[l],M=x.startTime;if(M>C)break;var O=x.transferSize,q=x.initiatorType;O&&rm(q)&&(x=x.responseEnd,_+=O*(x<C?1:(C-M)/(x-M)))}if(--l,o+=8*(m+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return o/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var ic=null,oc=null;function ia(t){return t.nodeType===9?t:t.ownerDocument}function am(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lm(t,o){if(t===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&o==="foreignObject"?0:t}function sc(t,o){return t==="textarea"||t==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rc=null;function $T(){var t=window.event;return t&&t.type==="popstate"?t===rc?!1:(rc=t,!0):(rc=null,!1)}var um=typeof setTimeout=="function"?setTimeout:void 0,QT=typeof clearTimeout=="function"?clearTimeout:void 0,cm=typeof Promise=="function"?Promise:void 0,WT=typeof queueMicrotask=="function"?queueMicrotask:typeof cm<"u"?function(t){return cm.resolve(null).then(t).catch(ZT)}:um;function ZT(t){setTimeout(function(){throw t})}function $n(t){return t==="head"}function dm(t,o){var r=o,l=0;do{var h=r.nextSibling;if(t.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){t.removeChild(h),So(o);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")xs(t.ownerDocument.documentElement);else if(r==="head"){r=t.ownerDocument.head,xs(r);for(var m=r.firstChild;m;){var _=m.nextSibling,C=m.nodeName;m[zo]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&m.rel.toLowerCase()==="stylesheet"||r.removeChild(m),m=_}}else r==="body"&&xs(t.ownerDocument.body);r=h}while(r);So(o)}function fm(t,o){var r=t;t=0;do{var l=r.nextSibling;if(r.nodeType===1?o?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(o?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(t===0)break;t--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||t++;r=l}while(r)}function ac(t){var o=t.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var r=o;switch(o=o.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":ac(r),fl(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function jT(t,o,r,l){for(;t.nodeType===1;){var h=r;if(t.nodeName.toLowerCase()!==o.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[zo])switch(o){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(o==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ht(t.nextSibling),t===null)break}return null}function eE(t,o,r){if(o==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Ht(t.nextSibling),t===null))return null;return t}function hm(t,o){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Ht(t.nextSibling),t===null))return null;return t}function lc(t){return t.data==="$?"||t.data==="$~"}function uc(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function tE(t,o){var r=t.ownerDocument;if(t.data==="$~")t._reactRetry=o;else if(t.data!=="$?"||r.readyState!=="loading")o();else{var l=function(){o(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Ht(t){for(;t!=null;t=t.nextSibling){var o=t.nodeType;if(o===1||o===3)break;if(o===8){if(o=t.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return t}var cc=null;function pm(t){t=t.nextSibling;for(var o=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"||r==="/&"){if(o===0)return Ht(t.nextSibling);o--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||o++}t=t.nextSibling}return null}function mm(t){t=t.previousSibling;for(var o=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(o===0)return t;o--}else r!=="/$"&&r!=="/&"||o++}t=t.previousSibling}return null}function gm(t,o,r){switch(o=ia(r),t){case"html":if(t=o.documentElement,!t)throw Error(s(452));return t;case"head":if(t=o.head,!t)throw Error(s(453));return t;case"body":if(t=o.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xs(t){for(var o=t.attributes;o.length;)t.removeAttributeNode(o[0]);fl(t)}var Vt=new Map,ym=new Set;function oa(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var En=X.d;X.d={f:nE,r:iE,D:oE,C:sE,L:rE,m:aE,X:uE,S:lE,M:cE};function nE(){var t=En.f(),o=$r();return t||o}function iE(t){var o=Gi(t);o!==null&&o.tag===5&&o.type==="form"?Uh(o):En.r(t)}var _o=typeof document>"u"?null:document;function vm(t,o,r){var l=_o;if(l&&typeof o=="string"&&o){var h=Mt(o);h='link[rel="'+t+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),ym.has(h)||(ym.add(h),t={rel:t,crossOrigin:r,href:o},l.querySelector(h)===null&&(o=l.createElement("link"),ot(o,"link",t),We(o),l.head.appendChild(o)))}}function oE(t){En.D(t),vm("dns-prefetch",t,null)}function sE(t,o){En.C(t,o),vm("preconnect",t,o)}function rE(t,o,r){En.L(t,o,r);var l=_o;if(l&&t&&o){var h='link[rel="preload"][as="'+Mt(o)+'"]';o==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+Mt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+Mt(r.imageSizes)+'"]')):h+='[href="'+Mt(t)+'"]';var m=h;switch(o){case"style":m=To(t);break;case"script":m=Eo(t)}Vt.has(m)||(t=E({rel:"preload",href:o==="image"&&r&&r.imageSrcSet?void 0:t,as:o},r),Vt.set(m,t),l.querySelector(h)!==null||o==="style"&&l.querySelector(Is(m))||o==="script"&&l.querySelector(ws(m))||(o=l.createElement("link"),ot(o,"link",t),We(o),l.head.appendChild(o)))}}function aE(t,o){En.m(t,o);var r=_o;if(r&&t){var l=o&&typeof o.as=="string"?o.as:"script",h='link[rel="modulepreload"][as="'+Mt(l)+'"][href="'+Mt(t)+'"]',m=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Eo(t)}if(!Vt.has(m)&&(t=E({rel:"modulepreload",href:t},o),Vt.set(m,t),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ws(m)))return}l=r.createElement("link"),ot(l,"link",t),We(l),r.head.appendChild(l)}}}function lE(t,o,r){En.S(t,o,r);var l=_o;if(l&&t){var h=Bi(l).hoistableStyles,m=To(t);o=o||"default";var _=h.get(m);if(!_){var C={loading:0,preload:null};if(_=l.querySelector(Is(m)))C.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":o},r),(r=Vt.get(m))&&dc(t,r);var x=_=l.createElement("link");We(x),ot(x,"link",t),x._p=new Promise(function(M,O){x.onload=M,x.onerror=O}),x.addEventListener("load",function(){C.loading|=1}),x.addEventListener("error",function(){C.loading|=2}),C.loading|=4,sa(_,o,l)}_={type:"stylesheet",instance:_,count:1,state:C},h.set(m,_)}}}function uE(t,o){En.X(t,o);var r=_o;if(r&&t){var l=Bi(r).hoistableScripts,h=Eo(t),m=l.get(h);m||(m=r.querySelector(ws(h)),m||(t=E({src:t,async:!0},o),(o=Vt.get(h))&&fc(t,o),m=r.createElement("script"),We(m),ot(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function cE(t,o){En.M(t,o);var r=_o;if(r&&t){var l=Bi(r).hoistableScripts,h=Eo(t),m=l.get(h);m||(m=r.querySelector(ws(h)),m||(t=E({src:t,async:!0,type:"module"},o),(o=Vt.get(h))&&fc(t,o),m=r.createElement("script"),We(m),ot(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(h,m))}}function _m(t,o,r,l){var h=(h=he.current)?oa(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(o=To(r.href),r=Bi(h).hoistableStyles,l=r.get(o),l||(l={type:"style",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=To(r.href);var m=Bi(h).hoistableStyles,_=m.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=h.querySelector(Is(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Vt.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vt.set(t,r),m||dE(h,t,r,_.state))),o&&l===null)throw Error(s(528,""));return _}if(o&&l!==null)throw Error(s(529,""));return null;case"script":return o=r.async,r=r.src,typeof r=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Eo(r),r=Bi(h).hoistableScripts,l=r.get(o),l||(l={type:"script",instance:null,count:0,state:null},r.set(o,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function To(t){return'href="'+Mt(t)+'"'}function Is(t){return'link[rel="stylesheet"]['+t+"]"}function Tm(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function dE(t,o,r,l){t.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=t.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ot(o,"link",r),We(o),t.head.appendChild(o))}function Eo(t){return'[src="'+Mt(t)+'"]'}function ws(t){return"script[async]"+t}function Em(t,o,r){if(o.count++,o.instance===null)switch(o.type){case"style":var l=t.querySelector('style[data-href~="'+Mt(r.href)+'"]');if(l)return o.instance=l,We(l),l;var h=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),We(l),ot(l,"style",h),sa(l,r.precedence,t),o.instance=l;case"stylesheet":h=To(r.href);var m=t.querySelector(Is(h));if(m)return o.state.loading|=4,o.instance=m,We(m),m;l=Tm(r),(h=Vt.get(h))&&dc(l,h),m=(t.ownerDocument||t).createElement("link"),We(m);var _=m;return _._p=new Promise(function(C,x){_.onload=C,_.onerror=x}),ot(m,"link",l),o.state.loading|=4,sa(m,r.precedence,t),o.instance=m;case"script":return m=Eo(r.src),(h=t.querySelector(ws(m)))?(o.instance=h,We(h),h):(l=r,(h=Vt.get(m))&&(l=E({},r),fc(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),We(h),ot(h,"link",l),t.head.appendChild(h),o.instance=h);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(l=o.instance,o.state.loading|=4,sa(l,r.precedence,t));return o.instance}function sa(t,o,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,m=h,_=0;_<l.length;_++){var C=l[_];if(C.dataset.precedence===o)m=C;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(o=r.nodeType===9?r.head:r,o.insertBefore(t,o.firstChild))}function dc(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.title==null&&(t.title=o.title)}function fc(t,o){t.crossOrigin==null&&(t.crossOrigin=o.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=o.referrerPolicy),t.integrity==null&&(t.integrity=o.integrity)}var ra=null;function Sm(t,o,r){if(ra===null){var l=new Map,h=ra=new Map;h.set(r,l)}else h=ra,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),h=0;h<r.length;h++){var m=r[h];if(!(m[zo]||m[et]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(o)||"";_=t+_;var C=l.get(_);C?C.push(m):l.set(_,[m])}}return l}function Cm(t,o,r){t=t.ownerDocument||t,t.head.insertBefore(r,o==="title"?t.querySelector("head > title"):null)}function fE(t,o,r){if(r===1||o.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return t=o.disabled,typeof o.precedence=="string"&&t==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Am(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function hE(t,o,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=To(l.href),m=o.querySelector(Is(h));if(m){o=m._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(t.count++,t=aa.bind(t),o.then(t,t)),r.state.loading|=4,r.instance=m,We(m);return}m=o.ownerDocument||o,l=Tm(l),(h=Vt.get(h))&&dc(l,h),m=m.createElement("link"),We(m);var _=m;_._p=new Promise(function(C,x){_.onload=C,_.onerror=x}),ot(m,"link",l),r.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(r,o),(o=r.state.preload)&&(r.state.loading&3)===0&&(t.count++,r=aa.bind(t),o.addEventListener("load",r),o.addEventListener("error",r))}}var hc=0;function pE(t,o){return t.stylesheets&&t.count===0&&ua(t,t.stylesheets),0<t.count||0<t.imgCount?function(r){var l=setTimeout(function(){if(t.stylesheets&&ua(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+o);0<t.imgBytes&&hc===0&&(hc=62500*XT());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ua(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>hc?50:800)+o);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function aa(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ua(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var la=null;function ua(t,o){t.stylesheets=null,t.unsuspend!==null&&(t.count++,la=new Map,o.forEach(mE,t),la=null,aa.call(t))}function mE(t,o){if(!(o.state.loading&4)){var r=la.get(t);if(r)var l=r.get(null);else{r=new Map,la.set(t,r);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var _=h[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(r.set(_.dataset.precedence,_),l=_)}l&&r.set(null,l)}h=o.instance,_=h.getAttribute("data-precedence"),m=r.get(_)||l,m===l&&r.set(null,h),r.set(_,h),this.count++,l=aa.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),o.state.loading|=4}}var bs={$$typeof:z,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function gE(t,o,r,l,h,m,_,C,x){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ll(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.hiddenUpdates=ll(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function xm(t,o,r,l,h,m,_,C,x,M,O,q){return t=new gE(t,o,r,_,x,M,O,q,C),o=1,m===!0&&(o|=24),m=At(3,null,null,o),t.current=m,m.stateNode=t,o=Yl(),o.refCount++,t.pooledCache=o,o.refCount++,m.memoizedState={element:l,isDehydrated:r,cache:o},Ql(m),t}function Im(t){return t?(t=Wi,t):Wi}function wm(t,o,r,l,h,m){h=Im(h),l.context===null?l.context=h:l.pendingContext=h,l=Hn(o),l.payload={element:r},m=m===void 0?null:m,m!==null&&(l.callback=m),r=Vn(t,l,o),r!==null&&(_t(r,t,o),rs(r,t,o))}function bm(t,o){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<o?r:o}}function pc(t,o){bm(t,o),(t=t.alternate)&&bm(t,o)}function Rm(t){if(t.tag===13||t.tag===31){var o=_i(t,67108864);o!==null&&_t(o,t,67108864),pc(t,67108864)}}function Nm(t){if(t.tag===13||t.tag===31){var o=Rt();o=ul(o);var r=_i(t,o);r!==null&&_t(r,t,o),pc(t,o)}}var ca=!0;function yE(t,o,r,l){var h=P.T;P.T=null;var m=X.p;try{X.p=2,mc(t,o,r,l)}finally{X.p=m,P.T=h}}function vE(t,o,r,l){var h=P.T;P.T=null;var m=X.p;try{X.p=8,mc(t,o,r,l)}finally{X.p=m,P.T=h}}function mc(t,o,r,l){if(ca){var h=gc(l);if(h===null)tc(t,o,l,da,r),Dm(t,l);else if(TE(h,t,o,r,l))l.stopPropagation();else if(Dm(t,l),o&4&&-1<_E.indexOf(t)){for(;h!==null;){var m=Gi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=pi(m.pendingLanes);if(_!==0){var C=m;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var x=1<<31-St(_);C.entanglements[1]|=x,_&=~x}en(m),(we&6)===0&&(Kr=Tt()+500,Ss(0))}}break;case 31:case 13:C=_i(m,2),C!==null&&_t(C,m,2),$r(),pc(m,2)}if(m=gc(l),m===null&&tc(t,o,l,da,r),m===h)break;h=m}h!==null&&l.stopPropagation()}else tc(t,o,l,null,r)}}function gc(t){return t=vl(t),yc(t)}var da=null;function yc(t){if(da=null,t=Vi(t),t!==null){var o=u(t);if(o===null)t=null;else{var r=o.tag;if(r===13){if(t=d(o),t!==null)return t;t=null}else if(r===31){if(t=p(o),t!==null)return t;t=null}else if(r===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;t=null}else o!==t&&(t=null)}}return da=t,null}function Mm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(o_()){case Hd:return 2;case Vd:return 8;case er:case s_:return 32;case Gd:return 268435456;default:return 32}default:return 32}}var vc=!1,Qn=null,Wn=null,Zn=null,Rs=new Map,Ns=new Map,jn=[],_E="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dm(t,o){switch(t){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Rs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(o.pointerId)}}function Ms(t,o,r,l,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:o,domEventName:r,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},o!==null&&(o=Gi(o),o!==null&&Rm(o)),t):(t.eventSystemFlags|=l,o=t.targetContainers,h!==null&&o.indexOf(h)===-1&&o.push(h),t)}function TE(t,o,r,l,h){switch(o){case"focusin":return Qn=Ms(Qn,t,o,r,l,h),!0;case"dragenter":return Wn=Ms(Wn,t,o,r,l,h),!0;case"mouseover":return Zn=Ms(Zn,t,o,r,l,h),!0;case"pointerover":var m=h.pointerId;return Rs.set(m,Ms(Rs.get(m)||null,t,o,r,l,h)),!0;case"gotpointercapture":return m=h.pointerId,Ns.set(m,Ms(Ns.get(m)||null,t,o,r,l,h)),!0}return!1}function km(t){var o=Vi(t.target);if(o!==null){var r=u(o);if(r!==null){if(o=r.tag,o===13){if(o=d(r),o!==null){t.blockedOn=o,Yd(t.priority,function(){Nm(r)});return}}else if(o===31){if(o=p(r),o!==null){t.blockedOn=o,Yd(t.priority,function(){Nm(r)});return}}else if(o===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fa(t){if(t.blockedOn!==null)return!1;for(var o=t.targetContainers;0<o.length;){var r=gc(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yl=l,r.target.dispatchEvent(l),yl=null}else return o=Gi(r),o!==null&&Rm(o),t.blockedOn=r,!1;o.shift()}return!0}function Um(t,o,r){fa(t)&&r.delete(o)}function EE(){vc=!1,Qn!==null&&fa(Qn)&&(Qn=null),Wn!==null&&fa(Wn)&&(Wn=null),Zn!==null&&fa(Zn)&&(Zn=null),Rs.forEach(Um),Ns.forEach(Um)}function ha(t,o){t.blockedOn===o&&(t.blockedOn=null,vc||(vc=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,EE)))}var pa=null;function Lm(t){pa!==t&&(pa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){pa===t&&(pa=null);for(var o=0;o<t.length;o+=3){var r=t[o],l=t[o+1],h=t[o+2];if(typeof l!="function"){if(yc(l||r)===null)continue;break}var m=Gi(r);m!==null&&(t.splice(o,3),o-=3,gu(m,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function So(t){function o(x){return ha(x,t)}Qn!==null&&ha(Qn,t),Wn!==null&&ha(Wn,t),Zn!==null&&ha(Zn,t),Rs.forEach(o),Ns.forEach(o);for(var r=0;r<jn.length;r++){var l=jn[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<jn.length&&(r=jn[0],r.blockedOn===null);)km(r),r.blockedOn===null&&jn.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],m=r[l+1],_=h[ht]||null;if(typeof m=="function")_||Lm(r);else if(_){var C=null;if(m&&m.hasAttribute("formAction")){if(h=m,_=m[ht]||null)C=_.formAction;else if(yc(h)!==null)continue}else C=_.action;typeof C=="function"?r[l+1]=C:(r.splice(l,3),l-=3),Lm(r)}}}function Pm(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function o(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),h!==null&&(h(),h=null)}}}function _c(t){this._internalRoot=t}ma.prototype.render=_c.prototype.render=function(t){var o=this._internalRoot;if(o===null)throw Error(s(409));var r=o.current,l=Rt();wm(r,l,t,o,null,null)},ma.prototype.unmount=_c.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var o=t.containerInfo;wm(t.current,2,null,t,null,null),$r(),o[Hi]=null}};function ma(t){this._internalRoot=t}ma.prototype.unstable_scheduleHydration=function(t){if(t){var o=Jd();t={blockedOn:null,target:t,priority:o};for(var r=0;r<jn.length&&o!==0&&o<jn[r].priority;r++);jn.splice(r,0,t),r===0&&km(t)}};var Om=e.version;if(Om!=="19.2.4")throw Error(s(527,Om,"19.2.4"));X.findDOMNode=function(t){var o=t._reactInternals;if(o===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(o),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var SE={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ga=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ga.isDisabled&&ga.supportsFiber)try{Go=ga.inject(SE),Et=ga}catch{}}return ks.createRoot=function(t,o){if(!a(t))throw Error(s(299));var r=!1,l="",h=Fh,m=Jh,_=Yh;return o!=null&&(o.unstable_strictMode===!0&&(r=!0),o.identifierPrefix!==void 0&&(l=o.identifierPrefix),o.onUncaughtError!==void 0&&(h=o.onUncaughtError),o.onCaughtError!==void 0&&(m=o.onCaughtError),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),o=xm(t,1,!1,null,null,r,l,null,h,m,_,Pm),t[Hi]=o.current,ec(t),new _c(o)},ks.hydrateRoot=function(t,o,r){if(!a(t))throw Error(s(299));var l=!1,h="",m=Fh,_=Jh,C=Yh,x=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError),r.formState!==void 0&&(x=r.formState)),o=xm(t,1,!0,o,r??null,l,h,x,m,_,C,Pm),o.context=Im(null),r=o.current,l=Rt(),l=ul(l),h=Hn(l),h.callback=null,Vn(r,h,l),r=l,o.current.lanes=r,qo(o,r),en(o),t[Hi]=o.current,ec(t),new ma(o)},ks.version="19.2.4",ks}var Km;function kE(){if(Km)return Sc.exports;Km=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sc.exports=DE(),Sc.exports}var UE=kE();const LE=ay(UE),PE=()=>{};var Xm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=function(n){const e=[];let i=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[i++]=a:a<2048?(e[i++]=a>>6|192,e[i++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[i++]=a>>18|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128,e[i++]=a&63|128):(e[i++]=a>>12|224,e[i++]=a>>6&63|128,e[i++]=a&63|128)}return e},OE=function(n){const e=[];let i=0,s=0;for(;i<n.length;){const a=n[i++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=n[i++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=n[i++],d=n[i++],p=n[i++],y=((a&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=n[i++],d=n[i++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|d&63)}}return e.join("")},uy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const u=n[a],d=a+1<n.length,p=d?n[a+1]:0,y=a+2<n.length,g=y?n[a+2]:0,v=u>>2,E=(u&3)<<4|p>>4;let T=(p&15)<<2|g>>6,A=g&63;y||(A=64,d||(T=64)),s.push(i[v],i[E],i[T],i[A])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ly(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):OE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const u=i[n.charAt(a++)],p=a<n.length?i[n.charAt(a)]:0;++a;const g=a<n.length?i[n.charAt(a)]:64;++a;const E=a<n.length?i[n.charAt(a)]:64;if(++a,u==null||p==null||g==null||E==null)throw new HE;const T=u<<2|p>>4;if(s.push(T),g!==64){const A=p<<4&240|g>>2;if(s.push(A),E!==64){const b=g<<6&192|E;s.push(b)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VE=function(n){const e=ly(n);return uy.encodeByteArray(e,!0)},cy=function(n){return VE(n).replace(/\./g,"")},dy=function(n){try{return uy.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=()=>GE().__FIREBASE_DEFAULTS__,qE=()=>{if(typeof process>"u"||typeof Xm>"u")return;const n=Xm.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&dy(n[1]);return e&&JSON.parse(e)},dd=()=>{try{return PE()||BE()||qE()||zE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},FE=n=>{var e,i;return(i=(e=dd())==null?void 0:e.emulatorHosts)==null?void 0:i[n]},fy=()=>{var n;return(n=dd())==null?void 0:n.config},hy=n=>{var e;return(e=dd())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ja(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YE(n){return(await fetch(n,{credentials:"include"})).ok}const Vs={};function KE(){const n={prod:[],emulator:[]};for(const e of Object.keys(Vs))Vs[e]?n.emulator.push(e):n.prod.push(e);return n}function XE(n){let e=document.getElementById(n),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),i=!0),{created:i,element:e}}let $m=!1;function $E(n,e){if(typeof window>"u"||typeof document>"u"||!Ja(window.location.host)||Vs[n]===e||Vs[n]||$m)return;Vs[n]=e;function i(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=KE().prod.length>0;function d(){const T=document.getElementById(s);T&&T.remove()}function p(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function y(T,A){T.setAttribute("width","24"),T.setAttribute("id",A),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{$m=!0,d()},T}function v(T,A){T.setAttribute("id",A),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function E(){const T=XE(s),A=i("text"),b=document.getElementById(A)||document.createElement("span"),U=i("learnmore"),D=document.getElementById(U)||document.createElement("a"),B=i("preprendIcon"),F=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const z=T.element;p(z),v(D,U);const J=g();y(F,B),z.append(F,b,D,J),document.body.appendChild(z)}u?(b.innerText="Preview backend disconnected.",F.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(F.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dt())}function WE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ZE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eS(){const n=dt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function tS(){try{return typeof indexedDB=="object"}catch{return!1}}function nS(){return new Promise((n,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),i||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{i=!1},a.onerror=()=>{var u;e(((u=a.error)==null?void 0:u.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="FirebaseError";class li extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=iS,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ys.prototype.create)}}class Ys{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},a=`${this.service}/${e}`,u=this.errors[e],d=u?oS(u,s):"Error",p=`${this.serviceName}: ${d} (${a}).`;return new li(a,p,s)}}function oS(n,e){return n.replace(sS,(i,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const sS=/\{\$([^}]+)}/g;function rS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ko(n,e){if(n===e)return!0;const i=Object.keys(n),s=Object.keys(e);for(const a of i){if(!s.includes(a))return!1;const u=n[a],d=e[a];if(Qm(u)&&Qm(d)){if(!ko(u,d))return!1}else if(u!==d)return!1}for(const a of s)if(!i.includes(a))return!1;return!0}function Qm(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(n){const e=[];for(const[i,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ps(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,u]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(u)}}),e}function Os(n){const e=n.indexOf("?");if(!e)return"";const i=n.indexOf("#",e);return n.substring(e,i>0?i:void 0)}function aS(n,e){const i=new lS(n,e);return i.subscribe.bind(i)}class lS{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,s){let a;if(e===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");uS(e,["next","error","complete"])?a=e:a={next:e,error:i,complete:s},a.next===void 0&&(a.next=Ic),a.error===void 0&&(a.error=Ic),a.complete===void 0&&(a.complete=Ic);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uS(n,e){if(typeof n!="object"||n===null)return!1;for(const i of e)if(i in n&&typeof n[i]=="function")return!0;return!1}function Ic(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ui(n){return n&&n._delegate?n._delegate:n}class Uo{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new JE;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:i});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fS(e))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Di){return this.instances.has(e)}getOptions(e=Di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(a)}return a}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const u=this.instances.get(s);return u&&e(u,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const a of s)try{a(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:dS(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Di){return this.component?this.component.multipleInstances?e:Di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dS(n){return n===Di?void 0:n}function fS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cS(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Pe||(Pe={}));const pS={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},mS=Pe.INFO,gS={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},yS=(n,e,...i)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=gS[e];if(a)console[a](`[${s}]  ${n.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class py{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=yS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?pS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const vS=(n,e)=>e.some(i=>n instanceof i);let Wm,Zm;function _S(){return Wm||(Wm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TS(){return Zm||(Zm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const my=new WeakMap,Oc=new WeakMap,gy=new WeakMap,wc=new WeakMap,fd=new WeakMap;function ES(n){const e=new Promise((i,s)=>{const a=()=>{n.removeEventListener("success",u),n.removeEventListener("error",d)},u=()=>{i(ri(n.result)),a()},d=()=>{s(n.error),a()};n.addEventListener("success",u),n.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&my.set(i,n)}).catch(()=>{}),fd.set(e,n),e}function SS(n){if(Oc.has(n))return;const e=new Promise((i,s)=>{const a=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",d),n.removeEventListener("abort",d)},u=()=>{i(),a()},d=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",u),n.addEventListener("error",d),n.addEventListener("abort",d)});Oc.set(n,e)}let Hc={get(n,e,i){if(n instanceof IDBTransaction){if(e==="done")return Oc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||gy.get(n);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ri(n[e])},set(n,e,i){return n[e]=i,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CS(n){Hc=n(Hc)}function AS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=n.call(bc(this),e,...i);return gy.set(s,e.sort?e.sort():[e]),ri(s)}:TS().includes(n)?function(...e){return n.apply(bc(this),e),ri(my.get(this))}:function(...e){return ri(n.apply(bc(this),e))}}function xS(n){return typeof n=="function"?AS(n):(n instanceof IDBTransaction&&SS(n),vS(n,_S())?new Proxy(n,Hc):n)}function ri(n){if(n instanceof IDBRequest)return ES(n);if(wc.has(n))return wc.get(n);const e=xS(n);return e!==n&&(wc.set(n,e),fd.set(e,n)),e}const bc=n=>fd.get(n);function IS(n,e,{blocked:i,upgrade:s,blocking:a,terminated:u}={}){const d=indexedDB.open(n,e),p=ri(d);return s&&d.addEventListener("upgradeneeded",y=>{s(ri(d.result),y.oldVersion,y.newVersion,ri(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{u&&y.addEventListener("close",()=>u()),a&&y.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),p}const wS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],Rc=new Map;function jm(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Rc.get(e))return Rc.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,a=bS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(a||wS.includes(i)))return;const u=async function(d,...p){const y=this.transaction(d,a?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(p.shift())),(await Promise.all([g[i](...p),a&&y.done]))[0]};return Rc.set(e,u),u}CS(n=>({...n,get:(e,i,s)=>jm(e,i)||n.get(e,i,s),has:(e,i)=>!!jm(e,i)||n.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function NS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vc="@firebase/app",eg="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn=new py("@firebase/app"),MS="@firebase/app-compat",DS="@firebase/analytics-compat",kS="@firebase/analytics",US="@firebase/app-check-compat",LS="@firebase/app-check",PS="@firebase/auth",OS="@firebase/auth-compat",HS="@firebase/database",VS="@firebase/data-connect",GS="@firebase/database-compat",BS="@firebase/functions",qS="@firebase/functions-compat",zS="@firebase/installations",FS="@firebase/installations-compat",JS="@firebase/messaging",YS="@firebase/messaging-compat",KS="@firebase/performance",XS="@firebase/performance-compat",$S="@firebase/remote-config",QS="@firebase/remote-config-compat",WS="@firebase/storage",ZS="@firebase/storage-compat",jS="@firebase/firestore",eC="@firebase/ai",tC="@firebase/firestore-compat",nC="firebase",iC="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc="[DEFAULT]",oC={[Vc]:"fire-core",[MS]:"fire-core-compat",[kS]:"fire-analytics",[DS]:"fire-analytics-compat",[LS]:"fire-app-check",[US]:"fire-app-check-compat",[PS]:"fire-auth",[OS]:"fire-auth-compat",[HS]:"fire-rtdb",[VS]:"fire-data-connect",[GS]:"fire-rtdb-compat",[BS]:"fire-fn",[qS]:"fire-fn-compat",[zS]:"fire-iid",[FS]:"fire-iid-compat",[JS]:"fire-fcm",[YS]:"fire-fcm-compat",[KS]:"fire-perf",[XS]:"fire-perf-compat",[$S]:"fire-rc",[QS]:"fire-rc-compat",[WS]:"fire-gcs",[ZS]:"fire-gcs-compat",[jS]:"fire-fst",[tC]:"fire-fst-compat",[eC]:"fire-vertex","fire-js":"fire-js",[nC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Map,sC=new Map,Bc=new Map;function tg(n,e){try{n.container.addComponent(e)}catch(i){xn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,i)}}function Bs(n){const e=n.name;if(Bc.has(e))return xn.debug(`There were multiple attempts to register component ${e}.`),!1;Bc.set(e,n);for(const i of Ma.values())tg(i,n);for(const i of sC.values())tg(i,n);return!0}function yy(n,e){const i=n.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),n.container.getProvider(e)}function Jt(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ai=new Ys("app","Firebase",rC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ai.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=iC;function vy(n,e={}){let i=n;typeof e!="object"&&(e={name:e});const s={name:Gc,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw ai.create("bad-app-name",{appName:String(a)});if(i||(i=fy()),!i)throw ai.create("no-options");const u=Ma.get(a);if(u){if(ko(i,u.options)&&ko(s,u.config))return u;throw ai.create("duplicate-app",{appName:a})}const d=new hS(a);for(const y of Bc.values())d.addComponent(y);const p=new aC(i,s,d);return Ma.set(a,p),p}function lC(n=Gc){const e=Ma.get(n);if(!e&&n===Gc&&fy())return vy();if(!e)throw ai.create("no-app",{appName:n});return e}function wo(n,e,i){let s=oC[n]??n;i&&(s+=`-${i}`);const a=s.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${s}" with version "${e}":`];a&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xn.warn(d.join(" "));return}Bs(new Uo(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="firebase-heartbeat-database",cC=1,qs="firebase-heartbeat-store";let Nc=null;function _y(){return Nc||(Nc=IS(uC,cC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qs)}catch(i){console.warn(i)}}}}).catch(n=>{throw ai.create("idb-open",{originalErrorMessage:n.message})})),Nc}async function dC(n){try{const i=(await _y()).transaction(qs),s=await i.objectStore(qs).get(Ty(n));return await i.done,s}catch(e){if(e instanceof li)xn.warn(e.message);else{const i=ai.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xn.warn(i.message)}}}async function ng(n,e){try{const s=(await _y()).transaction(qs,"readwrite");await s.objectStore(qs).put(e,Ty(n)),await s.done}catch(i){if(i instanceof li)xn.warn(i.message);else{const s=ai.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xn.warn(s.message)}}}function Ty(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=1024,hC=30;class pC{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new gC(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ig();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)==null?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats.length>hC){const d=yC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xn.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ig(),{heartbeatsToSend:s,unsentEntries:a}=mC(this._heartbeatsCache.heartbeats),u=cy(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(i){return xn.warn(i),""}}}function ig(){return new Date().toISOString().substring(0,10)}function mC(n,e=fC){const i=[];let s=n.slice();for(const a of n){const u=i.find(d=>d.agent===a.agent);if(u){if(u.dates.push(a.date),og(i)>e){u.dates.pop();break}}else if(i.push({agent:a.agent,dates:[a.date]}),og(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class gC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tS()?nS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await dC(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return ng(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function og(n){return cy(JSON.stringify({version:2,heartbeats:n})).length}function yC(n){if(n.length===0)return-1;let e=0,i=n[0].date;for(let s=1;s<n.length;s++)n[s].date<i&&(i=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(n){Bs(new Uo("platform-logger",e=>new RS(e),"PRIVATE")),Bs(new Uo("heartbeat",e=>new pC(e),"PRIVATE")),wo(Vc,eg,n),wo(Vc,eg,"esm2020"),wo("fire-js","")}vC("");function Ey(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _C=Ey,Sy=new Ys("auth","Firebase",Ey());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new py("@firebase/auth");function TC(n,...e){Da.logLevel<=Pe.WARN&&Da.warn(`Auth (${Xs}): ${n}`,...e)}function xa(n,...e){Da.logLevel<=Pe.ERROR&&Da.error(`Auth (${Xs}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n,...e){throw hd(n,...e)}function tn(n,...e){return hd(n,...e)}function Cy(n,e,i){const s={..._C(),[e]:i};return new Ys("auth","Firebase",s).create(e,{appName:n.name})}function An(n){return Cy(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hd(n,...e){if(typeof n!="string"){const i=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(i,...s)}return Sy.create(n,...e)}function re(n,e,...i){if(!n)throw hd(e,...i)}function Sn(n){const e="INTERNAL ASSERTION FAILED: "+n;throw xa(e),new Error(e)}function In(n,e){n||Sn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function EC(){return sg()==="http:"||sg()==="https:"}function sg(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EC()||ZE()||"connection"in navigator)?navigator.onLine:!0}function CC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,i){this.shortDelay=e,this.longDelay=i,In(i>e,"Short delay should be less than long delay!"),this.isMobile=QE()||jE()}get(){return SC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pd(n,e){In(n.emulator,"Emulator should always be set here");const{url:i}=n.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{static initialize(e,i,s){this.fetchImpl=e,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IC=new $s(3e4,6e4);function ci(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function di(n,e,i,s,a={}){return xy(n,a,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const p=Ks({key:n.config.apiKey,...d}).slice(1),y=await n._getAdditionalHeaders();y["Content-Type"]="application/json",n.languageCode&&(y["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:y,...u};return WE()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Ja(n.emulatorConfig.host)&&(g.credentials="include"),Ay.fetch()(await Iy(n,n.config.apiHost,i,p),g)})}async function xy(n,e,i){n._canInitEmulator=!1;const s={...AC,...e};try{const a=new bC(n),u=await Promise.race([i(),a.promise]);a.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw ya(n,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[y,g]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw ya(n,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw ya(n,"email-already-in-use",d);if(y==="USER_DISABLED")throw ya(n,"user-disabled",d);const v=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Cy(n,v,g);$t(n,v)}}catch(a){if(a instanceof li)throw a;$t(n,"network-request-failed",{message:String(a)})}}async function Qs(n,e,i,s,a={}){const u=await di(n,e,i,s,a);return"mfaPendingCredential"in u&&$t(n,"multi-factor-auth-required",{_serverResponse:u}),u}async function Iy(n,e,i,s){const a=`${e}${i}?${s}`,u=n,d=u.config.emulator?pd(n.config,a):`${n.config.apiScheme}://${a}`;return xC.includes(i)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function wC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(tn(this.auth,"network-request-failed")),IC.get())})}}function ya(n,e,i){const s={appName:n.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const a=tn(n,e,s);return a.customData._tokenResponse=i,a}function rg(n){return n!==void 0&&n.enterprise!==void 0}class RC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return wC(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NC(n,e){return di(n,"GET","/v2/recaptchaConfig",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e){return di(n,"POST","/v1/accounts:delete",e)}async function ka(n,e){return di(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function DC(n,e=!1){const i=ui(n),s=await i.getIdToken(e),a=md(s);re(a&&a.exp&&a.auth_time&&a.iat,i.auth,"internal-error");const u=typeof a.firebase=="object"?a.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:a,token:s,authTime:Gs(Mc(a.auth_time)),issuedAtTime:Gs(Mc(a.iat)),expirationTime:Gs(Mc(a.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Mc(n){return Number(n)*1e3}function md(n){const[e,i,s]=n.split(".");if(e===void 0||i===void 0||s===void 0)return xa("JWT malformed, contained fewer than 3 sections"),null;try{const a=dy(i);return a?JSON.parse(a):(xa("Failed to decode base64 JWT payload"),null)}catch(a){return xa("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function ag(n){const e=md(n);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(n,e,i=!1){if(i)return e;try{return await e}catch(s){throw s instanceof li&&kC(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function kC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gs(this.lastLoginAt),this.creationTime=Gs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){var E;const e=n.auth,i=await n.getIdToken(),s=await zs(n,ka(e,{idToken:i}));re(s==null?void 0:s.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const u=(E=a.providerUserInfo)!=null&&E.length?wy(a.providerUserInfo):[],d=PC(n.providerData,u),p=n.isAnonymous,y=!(n.email&&a.passwordHash)&&!(d!=null&&d.length),g=p?y:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new zc(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function LC(n){const e=ui(n);await Ua(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PC(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function wy(n){return n.map(({providerId:e,...i})=>({providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e){const i=await xy(n,{},async()=>{const s=Ks({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=n.config,d=await Iy(n,a,"/v1/token",`key=${u}`),p=await n._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:s};return n.emulatorConfig&&Ja(n.emulatorConfig.host)&&(y.credentials="include"),Ay.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function HC(n,e){return di(n,"POST","/v2/accounts:revokeToken",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ag(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){re(e.length!==0,"internal-error");const i=ag(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:s,refreshToken:a,expiresIn:u}=await OC(e,i);this.updateTokensAndExpiration(s,a,Number(u))}updateTokensAndExpiration(e,i,s){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,i){const{refreshToken:s,accessToken:a,expirationTime:u}=i,d=new bo;return s&&(re(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),a&&(re(typeof a=="string","internal-error",{appName:e}),d.accessToken=a),u&&(re(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(n,e){re(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Yt{constructor({uid:e,auth:i,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new UC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new zc(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const i=await zs(this,this.stsTokenManager.getToken(this.auth,e));return re(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return DC(this,e)}reload(){return LC(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>({...i})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new Yt({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),i&&await Ua(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jt(this.auth.app))return Promise.reject(An(this.auth));const e=await this.getIdToken();return await zs(this,MC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){const s=i.displayName??void 0,a=i.email??void 0,u=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,g=i.createdAt??void 0,v=i.lastLoginAt??void 0,{uid:E,emailVerified:T,isAnonymous:A,providerData:b,stsTokenManager:U}=i;re(E&&U,e,"internal-error");const D=bo.fromJSON(this.name,U);re(typeof E=="string",e,"internal-error"),ti(s,e.name),ti(a,e.name),re(typeof T=="boolean",e,"internal-error"),re(typeof A=="boolean",e,"internal-error"),ti(u,e.name),ti(d,e.name),ti(p,e.name),ti(y,e.name),ti(g,e.name),ti(v,e.name);const B=new Yt({uid:E,auth:e,email:a,emailVerified:T,displayName:s,isAnonymous:A,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:D,createdAt:g,lastLoginAt:v});return b&&Array.isArray(b)&&(B.providerData=b.map(F=>({...F}))),y&&(B._redirectEventId=y),B}static async _fromIdTokenResponse(e,i,s=!1){const a=new bo;a.updateFromServerResponse(i);const u=new Yt({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await Ua(u),u}static async _fromGetAccountInfoResponse(e,i,s){const a=i.users[0];re(a.localId!==void 0,"internal-error");const u=a.providerUserInfo!==void 0?wy(a.providerUserInfo):[],d=!(a.email&&a.passwordHash)&&!(u!=null&&u.length),p=new bo;p.updateFromIdToken(s);const y=new Yt({uid:a.localId,auth:e,stsTokenManager:p,isAnonymous:d}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new zc(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(u!=null&&u.length)};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=new Map;function Cn(n){In(n instanceof Function,"Expected a class definition");let e=lg.get(n);return e?(In(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lg.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}by.type="NONE";const ug=by;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ia(n,e,i){return`firebase:${n}:${e}:${i}`}class Ro{constructor(e,i,s){this.persistence=e,this.auth=i,this.userKey=s;const{config:a,name:u}=this.auth;this.fullUserKey=Ia(this.userKey,a.apiKey,u),this.fullPersistenceKey=Ia("persistence",a.apiKey,u),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await ka(this.auth,{idToken:e}).catch(()=>{});return i?Yt._fromGetAccountInfoResponse(this.auth,i,e):null}return Yt._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,s="authUser"){if(!i.length)return new Ro(Cn(ug),e,s);const a=(await Promise.all(i.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=a[0]||Cn(ug);const d=Ia(s,e.config.apiKey,e.name);let p=null;for(const g of i)try{const v=await g._get(d);if(v){let E;if(typeof v=="string"){const T=await ka(e,{idToken:v}).catch(()=>{});if(!T)break;E=await Yt._fromGetAccountInfoResponse(e,T,v)}else E=Yt._fromJSON(e,v);g!==u&&(p=E),u=g;break}}catch{}const y=a.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Ro(u,e,s):(u=y[0],p&&await u._set(d,p.toJSON()),await Promise.all(i.map(async g=>{if(g!==u)try{await g._remove(d)}catch{}})),new Ro(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dy(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ry(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uy(e))return"Blackberry";if(Ly(e))return"Webos";if(Ny(e))return"Safari";if((e.includes("chrome/")||My(e))&&!e.includes("edge/"))return"Chrome";if(ky(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ry(n=dt()){return/firefox\//i.test(n)}function Ny(n=dt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function My(n=dt()){return/crios\//i.test(n)}function Dy(n=dt()){return/iemobile/i.test(n)}function ky(n=dt()){return/android/i.test(n)}function Uy(n=dt()){return/blackberry/i.test(n)}function Ly(n=dt()){return/webos/i.test(n)}function gd(n=dt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VC(n=dt()){var e;return gd(n)&&!!((e=window.navigator)!=null&&e.standalone)}function GC(){return eS()&&document.documentMode===10}function Py(n=dt()){return gd(n)||ky(n)||Ly(n)||Uy(n)||/windows phone/i.test(n)||Dy(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(n,e=[]){let i;switch(n){case"Browser":i=cg(dt());break;case"Worker":i=`${cg(dt())}-${n}`;break;default:i=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${Xs}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const s=u=>new Promise((d,p)=>{try{const y=e(u);d(y)}catch(y){p(y)}});s.onAbort=i,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const s of this.queue)await s(e),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const a of i)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(n,e={}){return di(n,"GET","/v2/passwordPolicy",ci(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=6;class FC{constructor(e){var s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??zC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,i),this.validatePasswordCharacterOptions(e,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(e,i){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=e.length>=s),a&&(i.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,i,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,i,s,a){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dg(this),this.idTokenSubscription=new dg(this),this.beforeStateQueue=new BC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=Cn(i)),this._initializationPromise=this.queue(async()=>{var s,a,u;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((a=this._popupRedirectResolver)!=null&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await ka(this,{idToken:e}),s=await Yt._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(Jt(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,y=await this.tryRedirectSignIn(e);(!d||d===p)&&(y!=null&&y.user)&&(s=y.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await Ua(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jt(this.app))return Promise.reject(An(this));const i=e?ui(e):null;return i&&re(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jt(this.app)?Promise.reject(An(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jt(this.app)?Promise.reject(An(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qC(this),i=new FC(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ys("auth","Firebase",e())}onAuthStateChanged(e,i,s){return this.registerStateListener(this.authStateSubscription,e,i,s)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,s){return this.registerStateListener(this.idTokenSubscription,e,i,s)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await HC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,i){const s=await this.getOrInitRedirectPersistenceManager(i);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&Cn(e)||this._popupRedirectResolver;re(i,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[Cn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)==null?void 0:i._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((i=this.currentUser)==null?void 0:i.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,s,a){if(this._deleted)return()=>{};const u=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof i=="function"){const y=e.addObserver(i,s,a);return()=>{d=!0,y()}}else{const y=e.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Oy(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var a;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((a=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:a.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var i;if(Jt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getToken());return e!=null&&e.error&&TC(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Pi(n){return ui(n)}class dg{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(i=>this.observer=i)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YC(n){Ya=n}function Hy(n){return Ya.loadJS(n)}function KC(){return Ya.recaptchaEnterpriseScript}function XC(){return Ya.gapiScript}function $C(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class QC{constructor(){this.enterprise=new WC}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class WC{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const ZC="recaptcha-enterprise",Vy="NO_RECAPTCHA";class jC{constructor(e){this.type=ZC,this.auth=Pi(e)}async verify(e="verify",i=!1){async function s(u){if(!i){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,p)=>{NC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const g=new RC(y);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,d(g.siteKey)}}).catch(y=>{p(y)})})}function a(u,d,p){const y=window.grecaptcha;rg(y)?y.enterprise.ready(()=>{y.enterprise.execute(u,{action:e}).then(g=>{d(g)}).catch(()=>{d(Vy)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QC().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(p=>{if(!i&&rg(window.grecaptcha))a(p,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let y=KC();y.length!==0&&(y+=p),Hy(y).then(()=>{a(p,u,d)}).catch(g=>{d(g)})}}).catch(p=>{d(p)})})}}async function fg(n,e,i,s=!1,a=!1){const u=new jC(n);let d;if(a)d=Vy;else try{d=await u.verify(i)}catch{d=await u.verify(i,!0)}const p={...e};if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const y=p.phoneEnrollmentInfo.phoneNumber,g=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const y=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:d}):Object.assign(p,{captchaResponse:d}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Fc(n,e,i,s,a){var u;if((u=n._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const d=await fg(n,e,i,i==="getOobCode");return s(n,d)}else return s(n,e).catch(async d=>{if(d.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const p=await fg(n,e,i,i==="getOobCode");return s(n,p)}else return Promise.reject(d)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(n,e){const i=yy(n,"auth");if(i.isInitialized()){const a=i.getImmediate(),u=i.getOptions();if(ko(u,e??{}))return a;$t(a,"already-initialized")}return i.initialize({options:e})}function tA(n,e){const i=(e==null?void 0:e.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Cn);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function nA(n,e,i){const s=Pi(n);re(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,u=Gy(e),{host:d,port:p}=iA(e),y=p===null?"":`:${p}`,g={url:`${u}//${d}${y}/`},v=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){re(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),re(ko(g,s.config.emulator)&&ko(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,Ja(d)?(YE(`${u}//${d}${y}`),$E("Auth",!0)):oA()}function Gy(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function iA(n){const e=Gy(n),i=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const u=a[1];return{host:u,port:hg(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:hg(d)}}}function hg(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function oA(){function n(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return Sn("not implemented")}_getIdTokenResponse(e){return Sn("not implemented")}_linkToIdToken(e,i){return Sn("not implemented")}_getReauthenticationResolver(e){return Sn("not implemented")}}async function sA(n,e){return di(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(n,e){return Qs(n,"POST","/v1/accounts:signInWithPassword",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aA(n,e){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}async function lA(n,e){return Qs(n,"POST","/v1/accounts:signInWithEmailLink",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends yd{constructor(e,i,s,a=null){super("password",s),this._email=e,this._password=i,this._tenantId=a}static _fromEmailAndPassword(e,i){return new Fs(e,i,"password")}static _fromEmailAndCode(e,i,s=null){return new Fs(e,i,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,i,"signInWithPassword",rA);case"emailLink":return aA(e,{email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const s={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fc(e,s,"signUpPassword",sA);case"emailLink":return lA(e,{idToken:i,email:this._email,oobCode:this._password});default:$t(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(n,e){return Qs(n,"POST","/v1/accounts:signInWithIdp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA="http://localhost";class Ui extends yd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):$t("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...u}=i;if(!s||!a)return null;const d=new Ui(s,a);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const i=this.buildRequest();return No(e,i)}_linkToIdToken(e,i){const s=this.buildRequest();return s.idToken=i,No(e,s)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,No(e,i)}buildRequest(){const e={requestUri:uA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=Ks(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dA(n){const e=Ps(Os(n)).link,i=e?Ps(Os(e)).deep_link_id:null,s=Ps(Os(n)).deep_link_id;return(s?Ps(Os(s)).link:null)||s||i||e||n}class vd{constructor(e){const i=Ps(Os(e)),s=i.apiKey??null,a=i.oobCode??null,u=cA(i.mode??null);re(s&&a&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=a,this.continueUrl=i.continueUrl??null,this.languageCode=i.lang??null,this.tenantId=i.tenantId??null}static parseLink(e){const i=dA(e);try{return new vd(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,i){return Fs._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const s=vd.parseLink(i);return re(s,"argument-error"),Fs._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends By{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Ws{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends Ws{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Ui._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:s}=e;if(!i&&!s)return null;try{return ii.credential(i,s)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends Ws{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return oi.credential(e.oauthAccessToken)}catch{return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com";oi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Ws{constructor(){super("twitter.com")}static credential(e,i){return Ui._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=e;if(!i||!s)return null;try{return si.credential(i,s)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(n,e){return Qs(n,"POST","/v1/accounts:signUp",ci(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,s,a=!1){const u=await Yt._fromIdTokenResponse(e,s,a),d=pg(s);return new Li({user:u,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(e,i,s){await e._updateTokensIfNecessary(s,!0);const a=pg(s);return new Li({user:e,providerId:a,_tokenResponse:s,operationType:i})}}function pg(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends li{constructor(e,i,s,a){super(i.code,i.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,La.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,i,s,a){return new La(e,i,s,a)}}function qy(n,e,i,s){return(e==="reauthenticate"?i._getReauthenticationResolver(n):i._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?La._fromErrorAndOperation(n,u,e,s):u})}async function hA(n,e,i=!1){const s=await zs(n,e._linkToIdToken(n.auth,await n.getIdToken()),i);return Li._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pA(n,e,i=!1){const{auth:s}=n;if(Jt(s.app))return Promise.reject(An(s));const a="reauthenticate";try{const u=await zs(n,qy(s,a,e,n),i);re(u.idToken,s,"internal-error");const d=md(u.idToken);re(d,s,"internal-error");const{sub:p}=d;return re(n.uid===p,s,"user-mismatch"),Li._forOperation(n,a,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&$t(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zy(n,e,i=!1){if(Jt(n.app))return Promise.reject(An(n));const s="signIn",a=await qy(n,s,e),u=await Li._fromIdTokenResponse(n,s,a);return i||await n._updateCurrentUser(u.user),u}async function mA(n,e){return zy(Pi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fy(n){const e=Pi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gA(n,e,i){if(Jt(n.app))return Promise.reject(An(n));const s=Pi(n),d=await Fc(s,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fA).catch(y=>{throw y.code==="auth/password-does-not-meet-requirements"&&Fy(n),y}),p=await Li._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(p.user),p}function yA(n,e,i){return Jt(n.app)?Promise.reject(An(n)):mA(ui(n),Lo.credential(e,i)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Fy(n),s})}function vA(n,e,i,s){return ui(n).onIdTokenChanged(e,i,s)}function _A(n,e,i){return ui(n).beforeAuthStateChanged(e,i)}function TA(n,e,i,s){return ui(n).onAuthStateChanged(e,i,s)}const Pa="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Pa,"1"),this.storage.removeItem(Pa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1e3,SA=10;class Yy extends Jy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Py(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),a=this.localCache[i];s!==a&&e(i,a,s)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const s=e.key;i?this.detachListener():this.stopPolling();const a=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);GC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,SA):a()}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:s}),!0)})},EA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yy.type="LOCAL";const CA=Yy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Jy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Ky.type="SESSION";const Xy=Ky;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(a=>a.isListeningto(e));if(i)return i;const s=new Ka(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:s,eventType:a,data:u}=i.data,d=this.handlersMap[a];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const p=Array.from(d).map(async g=>g(i.origin,u)),y=await AA(p);i.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:y})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ka.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(n="",e=10){let i="";for(let s=0;s<e;s++)i+=Math.floor(Math.random()*10);return n+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let u,d;return new Promise((p,y)=>{const g=_d("",20);a.port1.start();const v=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:a,onMessage(E){const T=E;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(T.data.response);break;default:clearTimeout(v),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(d),a.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:g,data:i},[a.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return window}function IA(n){nn().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(){return typeof nn().WorkerGlobalScope<"u"&&typeof nn().importScripts=="function"}async function wA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function RA(){return $y()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="firebaseLocalStorageDb",NA=1,Oa="firebaseLocalStorage",Wy="fbase_key";class Zs{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Xa(n,e){return n.transaction([Oa],e?"readwrite":"readonly").objectStore(Oa)}function MA(){const n=indexedDB.deleteDatabase(Qy);return new Zs(n).toPromise()}function Jc(){const n=indexedDB.open(Qy,NA);return new Promise((e,i)=>{n.addEventListener("error",()=>{i(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(Oa,{keyPath:Wy})}catch(a){i(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(Oa)?e(s):(s.close(),await MA(),e(await Jc()))})})}async function mg(n,e,i){const s=Xa(n,!0).put({[Wy]:e,value:i});return new Zs(s).toPromise()}async function DA(n,e){const i=Xa(n,!1).get(e),s=await new Zs(i).toPromise();return s===void 0?null:s.value}function gg(n,e){const i=Xa(n,!0).delete(e);return new Zs(i).toPromise()}const kA=800,UA=3;class Zy{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jc(),this.db)}async _withRetries(e){let i=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(i++>UA)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $y()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ka._getInstance(RA()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await wA(),!this.activeServiceWorker)return;this.sender=new xA(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(i=e[0])!=null&&i.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jc();return await mg(e,Pa,"1"),await gg(e,Pa),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>mg(s,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(s=>DA(s,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>gg(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const u=Xa(a,!1).getAll();return new Zs(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:u}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(u)&&(this.notifyListeners(a,u),i.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),i.push(a));return i}notifyListeners(e,i){this.localCache[e]=i;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Zy.type="LOCAL";const LA=Zy;new $s(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(n,e){return e?Cn(e):(re(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends yd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,i){return No(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function OA(n){return zy(n.auth,new Td(n),n.bypassAuthState)}function HA(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),pA(i,new Td(n),n.bypassAuthState)}async function VA(n){const{auth:e,user:i}=n;return re(i,e,"internal-error"),hA(i,new Td(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,i,s,a,u=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:s,postBody:a,tenantId:u,error:d,type:p}=e;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:u||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OA;case"linkViaPopup":case"linkViaRedirect":return VA;case"reauthViaPopup":case"reauthViaRedirect":return HA;default:$t(this.auth,"internal-error")}}resolve(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){In(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new $s(2e3,1e4);class Ao extends jy{constructor(e,i,s,a,u){super(e,i,a,u),this.provider=s,this.authWindow=null,this.pollId=null,Ao.currentPopupAction&&Ao.currentPopupAction.cancel(),Ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return re(e,this.auth,"internal-error"),e}async onExecution(){In(this.filter.length===1,"Popup operations only handle one event");const e=_d();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,s;if((s=(i=this.authWindow)==null?void 0:i.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,GA.get())};e()}}Ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="pendingRedirect",wa=new Map;class qA extends jy{constructor(e,i,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let e=wa.get(this.auth._key());if(!e){try{const s=await zA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(i){e=()=>Promise.reject(i)}wa.set(this.auth._key(),e)}return this.bypassAuthState||wa.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zA(n,e){const i=YA(e),s=JA(n);if(!await s._isAvailable())return!1;const a=await s._get(i)==="true";return await s._remove(i),a}function FA(n,e){wa.set(n._key(),e)}function JA(n){return Cn(n._redirectPersistence)}function YA(n){return Ia(BA,n.config.apiKey,n.name)}async function KA(n,e,i=!1){if(Jt(n.app))return Promise.reject(An(n));const s=Pi(n),a=PA(s,e),d=await new qA(s,a,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA=600*1e3;class $A{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(i=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QA(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var s;if(e.error&&!ev(e)){const a=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";i.onError(tn(this.auth,a))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const s=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=XA&&this.cachedEventUids.clear(),this.cachedEventUids.has(yg(e))}saveEventToCache(e){this.cachedEventUids.add(yg(e)),this.lastProcessedEventTime=Date.now()}}function yg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ev({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ev(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(n,e={}){return di(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jA=/^https?/;async function ex(n){if(n.config.emulator)return;const{authorizedDomains:e}=await WA(n);for(const i of e)try{if(tx(i))return}catch{}$t(n,"unauthorized-domain")}function tx(n){const e=qc(),{protocol:i,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&s===""?i==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!jA.test(i))return!1;if(ZA.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx=new $s(3e4,6e4);function vg(){const n=nn().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let i=0;i<n.CP.length;i++)n.CP[i]=null}}function ix(n){return new Promise((e,i)=>{var a,u,d;function s(){vg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vg(),i(tn(n,"network-request-failed"))},timeout:nx.get()})}if((u=(a=nn().gapi)==null?void 0:a.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((d=nn().gapi)!=null&&d.load)s();else{const p=$C("iframefcb");return nn()[p]=()=>{gapi.load?s():i(tn(n,"network-request-failed"))},Hy(`${XC()}?onload=${p}`).catch(y=>i(y))}}).catch(e=>{throw ba=null,e})}let ba=null;function ox(n){return ba=ba||ix(n),ba}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new $s(5e3,15e3),rx="__/auth/iframe",ax="emulator/auth/iframe",lx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ux=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cx(n){const e=n.config;re(e.authDomain,n,"auth-domain-config-required");const i=e.emulator?pd(e,ax):`https://${n.config.authDomain}/${rx}`,s={apiKey:e.apiKey,appName:n.name,v:Xs},a=ux.get(n.config.apiHost);a&&(s.eid=a);const u=n._getFrameworks();return u.length&&(s.fw=u.join(",")),`${i}?${Ks(s).slice(1)}`}async function dx(n){const e=await ox(n),i=nn().gapi;return re(i,n,"internal-error"),e.open({where:document.body,url:cx(n),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lx,dontclear:!0},s=>new Promise(async(a,u)=>{await s.restyle({setHideOnLeave:!1});const d=tn(n,"network-request-failed"),p=nn().setTimeout(()=>{u(d)},sx.get());function y(){nn().clearTimeout(p),a(s)}s.ping(y).then(y,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,px=600,mx="_blank",gx="http://localhost";class _g{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yx(n,e,i,s=hx,a=px){const u=Math.max((window.screen.availHeight-a)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const y={...fx,width:s.toString(),height:a.toString(),top:u,left:d},g=dt().toLowerCase();i&&(p=My(g)?mx:i),Ry(g)&&(e=e||gx,y.scrollbars="yes");const v=Object.entries(y).reduce((T,[A,b])=>`${T}${A}=${b},`,"");if(VC(g)&&p!=="_self")return vx(e||"",p),new _g(null);const E=window.open(e||"",p,v);re(E,n,"popup-blocked");try{E.focus()}catch{}return new _g(E)}function vx(n,e){const i=document.createElement("a");i.href=n,i.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="__/auth/handler",Tx="emulator/auth/handler",Ex=encodeURIComponent("fac");async function Tg(n,e,i,s,a,u){re(n.config.authDomain,n,"auth-domain-config-required"),re(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:i,redirectUrl:s,v:Xs,eventId:a};if(e instanceof By){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",rS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,E]of Object.entries({}))d[v]=E}if(e instanceof Ws){const v=e.getScopes().filter(E=>E!=="");v.length>0&&(d.scopes=v.join(","))}n.tenantId&&(d.tid=n.tenantId);const p=d;for(const v of Object.keys(p))p[v]===void 0&&delete p[v];const y=await n._getAppCheckToken(),g=y?`#${Ex}=${encodeURIComponent(y)}`:"";return`${Sx(n)}?${Ks(p).slice(1)}${g}`}function Sx({config:n}){return n.emulator?pd(n,Tx):`https://${n.authDomain}/${_x}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="webStorageSupport";class Cx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xy,this._completeRedirectFn=KA,this._overrideRedirectResult=FA}async _openPopup(e,i,s,a){var d;In((d=this.eventManagers[e._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await Tg(e,i,s,qc(),a);return yx(e,u,_d())}async _openRedirect(e,i,s,a){await this._originValidation(e);const u=await Tg(e,i,s,qc(),a);return IA(u),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:a,promise:u}=this.eventManagers[i];return a?Promise.resolve(a):(In(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(e){const i=await dx(e),s=new $A(e);return i.register("authEvent",a=>(re(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=i,s}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(Dc,{type:Dc},a=>{var d;const u=(d=a==null?void 0:a[0])==null?void 0:d[Dc];u!==void 0&&i(!!u),$t(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ex(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return Py()||Ny()||gd()}}const Ax=Cx;var Eg="@firebase/auth",Sg="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(n){Bs(new Uo("auth",(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;re(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:p,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Oy(n)},g=new JC(s,a,u,y);return tA(g,i),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,s)=>{e.getProvider("auth-internal").initialize()})),Bs(new Uo("auth-internal",e=>{const i=Pi(e.getProvider("auth").getImmediate());return(s=>new xx(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(Eg,Sg,Ix(n)),wo(Eg,Sg,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=300,Rx=hy("authIdTokenMaxAge")||bx;let Cg=null;const Nx=n=>async e=>{const i=e&&await e.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>Rx)return;const a=i==null?void 0:i.token;Cg!==a&&(Cg=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Mx(n=lC()){const e=yy(n,"auth");if(e.isInitialized())return e.getImmediate();const i=eA(n,{popupRedirectResolver:Ax,persistence:[LA,CA,Xy]}),s=hy("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=Nx(u.toString());_A(i,d,()=>d(i.currentUser)),vA(i,p=>d(p))}}const a=FE("auth");return a&&nA(i,`http://${a}`),i}function Dx(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}YC({loadJS(n){return new Promise((e,i)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const u=tn("internal-error");u.customData=a,i(u)},s.type="text/javascript",s.charset="UTF-8",Dx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");var kx="firebase",Ux="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(kx,Ux,"app");const Yc={apiKey:"AIzaSyBN1feB1w0F-v9d9ftO0J7EGykYqsyHuec",authDomain:"ai-voice-detector-app.firebaseapp.com",projectId:"ai-voice-detector-app",storageBucket:"ai-voice-detector-app.firebasestorage.app",messagingSenderId:"707471962745",appId:"1:707471962745:web:a8b9e9f381f8515ce75aa8"},Ag=Yc.apiKey&&!Yc.apiKey.startsWith("YOUR_"),xg=!0,Lx=vy(Yc),Ha=Mx(Lx),Ed=({className:n="h-10 w-10"})=>S.jsxs("svg",{className:`animate-spin text-sky-400 ${n}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Sd=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"}),S.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),S.jsx("line",{x1:"12",y1:"19",x2:"12",y2:"22"})]}),Ig=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"}),S.jsx("path",{d:"M19 10v2a7 7 0 0 1-14 0v-2"}),S.jsx("line",{x1:"12",x2:"12",y1:"19",y2:"22"})]}),Px=({className:n})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:S.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"})}),Kc=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242"}),S.jsx("path",{d:"M12 12v9"}),S.jsx("path",{d:"m16 16-4-4-4 4"})]}),tv=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M2 13a2 2 0 0 0 2 2.24"}),S.jsx("path",{d:"M6 15.24a2 2 0 0 0 2-2.24"}),S.jsx("path",{d:"M10 13a2 2 0 0 0 2 2.24"}),S.jsx("path",{d:"M14 15.24a2 2 0 0 0 2-2.24"}),S.jsx("path",{d:"M18 13a2 2 0 0 0 2 2.24"}),S.jsx("path",{d:"M22 15.24a2 2 0 0 0-2-2.24"}),S.jsx("path",{d:"M4 12.76a2 2 0 0 0-2-2.24"}),S.jsx("path",{d:"M8 10.52a2 2 0 0 0-2 2.24"}),S.jsx("path",{d:"M12 12.76a2 2 0 0 0-2-2.24"}),S.jsx("path",{d:"M16 10.52a2 2 0 0 0-2 2.24"}),S.jsx("path",{d:"M20 12.76a2 2 0 0 0-2-2.24"})]}),nv=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M12 8V4H8"}),S.jsx("rect",{width:"16",height:"12",x:"4",y:"8",rx:"2"}),S.jsx("path",{d:"M2 14h2"}),S.jsx("path",{d:"M20 14h2"}),S.jsx("path",{d:"M15 13v2"}),S.jsx("path",{d:"M9 13v2"})]}),iv=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"12",cy:"7",r:"4"})]}),ov=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M3 6h18"}),S.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),S.jsx("path",{d:"M10 11v6"}),S.jsx("path",{d:"M14 11v6"})]}),Ox=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),S.jsx("path",{d:"M3 3v5h5"}),S.jsx("path",{d:"M12 7v5l4 2"})]}),Cd=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"}),S.jsx("path",{d:"M12 8v4"}),S.jsx("path",{d:"M12 16h.01"})]}),wg=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),S.jsx("polyline",{points:"16 17 21 12 16 7"}),S.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),Hx=({className:n})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:S.jsx("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"})}),Vx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("circle",{cx:"12",cy:"12",r:"4"}),S.jsx("path",{d:"M12 2v2"}),S.jsx("path",{d:"M12 20v2"}),S.jsx("path",{d:"m4.93 4.93 1.41 1.41"}),S.jsx("path",{d:"m17.66 17.66 1.41 1.41"}),S.jsx("path",{d:"M2 12h2"}),S.jsx("path",{d:"M20 12h2"}),S.jsx("path",{d:"m6.34 17.66-1.41 1.41"}),S.jsx("path",{d:"m19.07 4.93-1.41 1.41"})]}),Gx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"}),S.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),Bx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24"}),S.jsx("path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"}),S.jsx("path",{d:"M6.61 6.61A13.52 13.52 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"}),S.jsx("line",{x1:"2",x2:"22",y1:"2",y2:"22"})]}),Ad=({className:n})=>S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:S.jsx("polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2"})}),sv=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("line",{x1:"2",x2:"22",y1:"12",y2:"12"}),S.jsx("path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"})]}),va=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10"}),S.jsx("path",{d:"m9 12 2 2 4-4"})]}),qx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("polyline",{points:"12 6 12 12 16 14"})]}),zx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("circle",{cx:"12",cy:"12",r:"10"}),S.jsx("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),S.jsx("line",{x1:"12",x2:"12.01",y1:"8",y2:"8"})]}),Fx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14"}),S.jsx("polyline",{points:"22 4 12 14.01 9 11.01"})]}),Jx=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),S.jsx("circle",{cx:"9",cy:"7",r:"4"}),S.jsx("polyline",{points:"17 11 19 13 23 9"})]}),bg=({className:n})=>S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:n,children:[S.jsx("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),S.jsx("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),S.jsx("line",{x1:"6",y1:"20",x2:"6",y2:"16"})]}),xd=({theme:n,onToggle:e})=>S.jsxs("button",{onClick:e,className:`
        relative inline-flex items-center h-9 w-16 rounded-full 
        transition-all duration-500 ease-in-out focus:outline-none 
        focus:ring-2 focus:ring-sky-500 focus:ring-offset-2 
        focus:ring-offset-slate-100 dark:focus:ring-offset-slate-900
        hover:scale-105 active:scale-90
        ${n==="light"?"bg-slate-200 shadow-inner":"bg-slate-800 shadow-[inset_0_2px_4px_rgba(0,0,0,0.3)]"}
      `,"aria-label":`Switch to ${n==="light"?"dark":"light"} mode`,children:[S.jsx("span",{className:`
          absolute inset-1 w-7 h-7 rounded-full bg-white dark:bg-slate-700 
          shadow-lg transform transition-transform duration-500 
          cubic-bezier(0.34, 1.56, 0.64, 1)
          ${n==="dark"?"translate-x-7":"translate-x-0"}
        `}),S.jsxs("div",{className:"relative w-full flex justify-around items-center px-1 z-10 pointer-events-none",children:[S.jsx("div",{className:`
          transition-all duration-500 transform
          ${n==="light"?"scale-110 rotate-0 opacity-100":"scale-75 -rotate-12 opacity-40"}
        `,children:S.jsx(Vx,{className:`w-4 h-4 ${n==="light"?"text-amber-500":"text-slate-400"}`})}),S.jsx("div",{className:`
          transition-all duration-500 transform
          ${n==="dark"?"scale-110 rotate-0 opacity-100":"scale-75 rotate-12 opacity-40"}
        `,children:S.jsx(Hx,{className:`w-4 h-4 ${n==="dark"?"text-sky-400":"text-slate-500"}`})})]}),n==="dark"&&S.jsx("span",{className:"absolute right-1 top-1 w-7 h-7 rounded-full bg-sky-500/10 animate-pulse pointer-events-none"})]}),Yx=n=>{switch(n.toLowerCase().trim()){case"auth/wrong-password":return"Incorrect password. Please try again.";case"auth/invalid-credential":return"Invalid credentials. Please check your email and password.";case"auth/email-already-in-use":return"Email already in use. Please log in.";case"auth/weak-password":return"Password must be at least 6 characters.";case"auth/user-not-found":return"Account not found.";default:return"An error occurred. Please try again."}},Kx=({onGuestLogin:n,onBack:e,initialMode:i="login",theme:s,onToggleTheme:a})=>{const[u,d]=ae.useState(i),[p,y]=ae.useState(""),[g,v]=ae.useState(""),[E,T]=ae.useState(!1),[A,b]=ae.useState(null),[U,D]=ae.useState(!1);ae.useEffect(()=>{d(i)},[i]);const B=async F=>{F.preventDefault(),D(!0),b(null);try{u==="signup"?await gA(Ha,p,g):await yA(Ha,p,g)}catch(z){b({code:z.code||"unknown",message:Yx(z.code||"unknown")}),D(!1)}};return S.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex flex-col items-center justify-center p-4 animate-fade-in overflow-y-auto relative transition-colors duration-300",children:[S.jsx("div",{className:"absolute top-6 right-6 z-50",children:S.jsx(xd,{theme:s,onToggle:a})}),S.jsxs("div",{className:"w-full max-w-md flex flex-col items-center mb-8",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[S.jsx(Sd,{className:"w-10 h-10 text-sky-500"}),S.jsx("h1",{className:"text-3xl font-black text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-blue-600",children:"VoiceVerify"})]}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-center font-medium",children:"Detect AI-generated voices with confidence."})]}),S.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-slate-800/50 rounded-3xl shadow-2xl border border-slate-200 dark:border-slate-700 p-8 overflow-hidden relative",children:[S.jsx("button",{onClick:e,className:"absolute top-4 left-6 text-xs font-bold text-slate-400 hover:text-sky-500 transition-colors flex items-center gap-1",children:" Back to Home"}),S.jsxs("div",{className:"flex border-b border-slate-200 dark:border-slate-700 mb-8 mt-6",children:[S.jsx("button",{onClick:()=>d("login"),className:`w-1/2 py-4 font-bold text-lg transition-all ${u==="login"?"text-sky-500 border-b-2 border-sky-500":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,children:"Log In"}),S.jsx("button",{onClick:()=>d("signup"),className:`w-1/2 py-4 font-bold text-lg transition-all ${u==="signup"?"text-sky-500 border-b-2 border-sky-500":"text-slate-400 hover:text-slate-600 dark:hover:text-slate-200"}`,children:"Sign Up"})]}),S.jsxs("form",{onSubmit:B,className:"space-y-6",children:[A&&S.jsx("div",{className:"p-3 bg-red-100 dark:bg-red-900/40 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-xl text-sm text-center font-medium animate-fade-in-short",children:A.message}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-bold text-slate-700 dark:text-slate-300 mb-2",children:"Email Address"}),S.jsx("input",{type:"email",value:p,onChange:F=>y(F.target.value),required:!0,className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-sky-500 outline-none transition-all text-slate-900 dark:text-white font-medium",placeholder:"name@example.com"})]}),S.jsxs("div",{className:"relative",children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("label",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Password"}),u==="login"&&S.jsx("button",{type:"button",className:"text-xs text-sky-500 hover:underline font-bold",children:"Forgot password?"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("input",{type:E?"text":"password",value:g,onChange:F=>v(F.target.value),required:!0,className:"w-full px-5 py-3.5 bg-slate-50 dark:bg-slate-700/50 border border-slate-200 dark:border-slate-600 rounded-xl focus:ring-2 focus:ring-sky-500 outline-none transition-all text-slate-900 dark:text-white",placeholder:""}),S.jsx("button",{type:"button",onClick:()=>T(!E),className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200",children:E?S.jsx(Bx,{className:"w-5 h-5"}):S.jsx(Gx,{className:"w-5 h-5"})})]})]}),S.jsx("button",{type:"submit",disabled:U,className:"w-full h-14 flex items-center justify-center bg-gradient-to-r from-sky-600 to-blue-700 hover:from-sky-500 hover:to-blue-600 text-white font-black text-lg rounded-xl transition-all transform active:scale-[0.98] disabled:opacity-50 shadow-xl shadow-sky-500/20",children:U?S.jsx(Ed,{className:"h-6 w-6 text-white"}):u==="login"?"Log In":"Create Account"}),S.jsx("div",{className:"text-center pt-2",children:S.jsxs("button",{type:"button",onClick:()=>d(u==="login"?"signup":"login"),className:"text-sm text-slate-500 dark:text-slate-400 hover:text-sky-500 transition-colors font-medium",children:[u==="login"?"Don't have an account? ":"Already have an account? ",S.jsx("span",{className:"text-sky-500 font-bold underline ml-1",children:u==="login"?"Sign Up":"Log In"})]})})]}),S.jsxs("div",{className:"mt-10 pt-8 border-t border-slate-200 dark:border-slate-700 text-center",children:[S.jsx("button",{onClick:n,className:"w-full py-4 px-4 rounded-xl border border-slate-200 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-700 transition-all font-bold text-sm",children:"Continue as Guest"}),S.jsx("p",{className:"mt-4 text-xs text-slate-400 dark:text-slate-500 font-medium italic",children:"Guest mode allows for quick testing without saving history."})]})]})]})},Xc=[{code:"en",label:"English",native:"English"},{code:"hi",label:"Hindi",native:""},{code:"ta",label:"Tamil",native:""},{code:"ml",label:"Malayalam",native:""},{code:"te",label:"Telugu",native:""}],Xx={navTechnology:{en:"Technology",hi:"",ta:"",ml:"",te:""},navFeatures:{en:"Features",hi:"",ta:"",ml:"",te:""},navPrivacy:{en:"Privacy",hi:"",ta:"",ml:"",te:""},btnLogIn:{en:"Log In",hi:" ",ta:"",ml:"",te:""},btnSignUp:{en:"Sign Up",hi:" ",ta:" ",ml:" ",te:" "},btnStartAnalysis:{en:"Start Free Analysis",hi:"   ",ta:"  ",ml:"  ",te:"  "},btnTryGuest:{en:"Try as Guest",hi:"     ",ta:" ",ml:"  ",te:" "},btnAnalyze:{en:"Analyze Voice",hi:"   ",ta:"  ",ml:"  ",te:" "},heroTitle1:{en:"Protect Truth in",hi:"   ",ta:" ",ml:" ",te:" "},heroTitle2:{en:"The Age of AI",hi:"AI  ",ta:"AI ",ml:"AI ",te:"AI "},heroSubtitle:{en:"Instantly verify if a voice is human or synthetic. Detect cloning and deepfakes with forensic accuracy.",hi:"                  ",ta:"        .     .",ml:"       .    .",te:"        .     ."},featuresTitle:{en:"Core Features",hi:" ",ta:" ",ml:" ",te:" "},featuresSubtitle:{en:"Everything you need for reliable voice verification.",hi:"         ",ta:"     .",ml:"   .",te:"    ."},feature1Title:{en:"Instant Analysis",hi:" ",ta:" ",ml:" ",te:" "},feature1Desc:{en:"Get results in seconds with our optimized AI pipeline, designed for speed and efficiency.",hi:"          AI        ",ta:"      AI     .",ml:"        AI     .",te:"        AI    ."},feature2Title:{en:"High Accuracy",hi:" ",ta:" ",ml:" ",te:" "},feature2Desc:{en:"Leverages a state-of-the-art multimodal model to detect subtle AI artifacts humans can't hear.",hi:"        AI              ",ta:"    AI       .",ml:"    AI       .",te:"   AI       ."},feature3Title:{en:"Multilingual Support",hi:" ",ta:" ",ml:" ",te:" "},feature3Desc:{en:"Our model is trained to analyze speech patterns across multiple languages, including major Indian languages.",hi:"                    ",ta:"             .",ml:"             .",te:"            ."},feature4Title:{en:"Secure & Private",hi:"  ",ta:"  ",ml:" ",te:" & "},feature4Desc:{en:"Your audio is never stored. Analysis happens in-memory, ensuring your data remains your own.",hi:"        -   ,           ",ta:"   .   ,      .",ml:"   .  - ,     .",te:"    .  - ,      ."},howItWorksTitle:{en:"How It Works",hi:"     ",ta:"  ",ml:"  ",te:"   "},howItWorksSubtitle:{en:"Three simple steps to the truth.",hi:"     ",ta:"   .",ml:"   .",te:"   ."},step1Title:{en:"Upload or Record Audio",hi:"    ",ta:"    ",ml:"     ",te:"     "},step1Desc:{en:"Provide your audio sample by either uploading a file (MP3, WAV) or using our high-quality live recorder.",hi:" (MP3, WAV)     -           ",ta:" (MP3, WAV)            .",ml:"  (MP3, WAV)             .",te:" (MP3, WAV)      -        ."},step2Title:{en:"AI Performs Analysis",hi:"   ",ta:"AI  ",ml:"AI  ",te:"AI  "},step2Desc:{en:"Our model examines the audio for spectro-temporal inconsistencies, prosodic flatness, and other AI giveaways.",hi:"  - ,             ",ta:"  - ,      AI   .",ml:"  - ,  ,  AI    .",te:"  - ,     AI    ."},step3Title:{en:"Receive Instant Verdict",hi:"   ",ta:"  ",ml:"  ",te:"  "},step3Desc:{en:"Get a clear 'Human' or 'AI' classification, complete with a confidence score and detailed reasoning points.",hi:"  ''  ''   ,           ",ta:" ''  'AI'  ,       .",ml:" ''  'AI'  ,       .",te:"         ''  'AI'  ."},techTitle:{en:"Our Technology",hi:" ",ta:" ",ml:" ",te:" "},techSubtitle:{en:"Powered by a state-of-the-art multimodal AI model.",hi:"      ",ta:"   AI  .",ml:"   AI    .",te:"  AI   ."},techCard1Title:{en:"Spectro-Temporal Analysis",hi:"- ",ta:"- ",ml:"- ",te:"- "},techCard1Desc:{en:"Detects unnatural frequency patterns and harmonics that are invisible to the human ear but are common giveaways of synthetic speech.",hi:"                      ",ta:"              .",ml:"            .",te:"              ."},techCard2Title:{en:"Prosodic & Cadence Mapping",hi:"   ",ta:" &  ",ml:" &  ",te:" &  "},techCard2Desc:{en:"AI voices often have unnaturally perfect or monotonously flat rhythm. Our model maps the cadence to identify these non-human patterns.",hi:"                   -           ",ta:"AI           .          .",ml:"AI          .         .",te:"AI          .         ."},techCard3Title:{en:"Artifact & Glitch Detection",hi:"   ",ta:"   ",ml:" &  ",te:" &  "},techCard3Desc:{en:"Identifies microscopic audio artifacts, such as phase inconsistencies and encoding noise, that signal a digitally generated origin.",hi:"      ,       ,          ",ta:"          ,      .",ml:"        ,     .",te:"         ,     ."},privacyTitle:{en:"Privacy First",hi:" ",ta:" ",ml:" ",te:" "},privacySubtitle:{en:"Your data is never stored. Period.",hi:"       ",ta:"   . .",ml:"   . .",te:"    . ."},privacyDesc:{en:"We believe in absolute data privacy. VoiceVerify is architected to perform all analysis without ever writing your audio files to a disk. It's processed in-memory and immediately discarded.",hi:"        VoiceVerify                      -           ",ta:"    .          VoiceVerify .     .",ml:"    .             .  -     .",te:"    .           .  -     ."},privacyPoint1:{en:"No audio files are ever saved to our servers.",hi:"           ",ta:"     .",ml:"     .",te:"      ."},privacyPoint2:{en:"We do not train our AI models on your data.",hi:"           ",ta:"   AI   .",ml:"    AI  .",te:"    AI   ."},privacyPoint3:{en:"All history is stored locally on your device for your session only.",hi:"                ",ta:"        .",ml:"        .",te:"          ."},ctaTitle:{en:"Ready to Verify Voices?",hi:"       ?",ta:"  ?",ml:"  ?",te:"   ?"},ctaSubtitle:{en:"Get started for free. Create an account to unlock live recording and session history.",hi:"                ",ta:" .         .",ml:" .         .",te:" .         ."},detectTitle:{en:"AI Voice Identity Detection",hi:"AI     ",ta:"AI   ",ml:"AI   ",te:"AI  "},detectSubtitle:{en:"Submit an audio clip to analyze for synthetic patterns.",hi:"          ",ta:"      .",ml:"       .",te:"      ."},historyTitle:{en:"Detection History",hi:"   ",ta:" ",ml:" ",te:" "},privacyGuarantee:{en:"Audio is processed temporarily in memory and is never saved or stored.",hi:"                    ",ta:"      .",ml:"    ,  .",te:"        ."},footerTagline:{en:"The global benchmark for AI voice detection.",hi:"AI      ",ta:"AI    .",ml:"AI    .",te:"AI      ."},footerCopyright:{en:" 2026 VOICEVERIFY  SECURING THE SPOKEN WORD",hi:" 2026 VOICEVERIFY       ",ta:" 2026 VOICEVERIFY    ",ml:" 2026 VOICEVERIFY    ",te:" 2026     "}},rv=ae.createContext(void 0),$x=({children:n})=>{const[e,i]=ae.useState("en");ae.useEffect(()=>{const u=localStorage.getItem("language");u&&Xc.some(d=>d.code===u)&&i(u)},[]);const s=u=>{i(u),localStorage.setItem("language",u)},a=u=>{const d=Xx[u];return d&&(d[e]||d.en)||u};return S.jsx(rv.Provider,{value:{language:e,setLanguage:s,t:a},children:n})},$a=()=>{const n=ae.useContext(rv);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n},av=()=>{var u;const{language:n,setLanguage:e}=$a(),[i,s]=ae.useState(!1),a=ae.useRef(null);return ae.useEffect(()=>{const d=p=>{a.current&&!a.current.contains(p.target)&&s(!1)};return document.addEventListener("mousedown",d),()=>document.removeEventListener("mousedown",d)},[]),S.jsxs("div",{className:"relative",ref:a,children:[S.jsxs("button",{onClick:()=>s(!i),className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all text-slate-600 dark:text-slate-300 border border-transparent hover:border-sky-500/30","aria-label":"Select Language",children:[S.jsx(sv,{className:"w-4 h-4"}),S.jsx("span",{className:"text-xs font-bold uppercase hidden sm:inline",children:(u=Xc.find(d=>d.code===n))==null?void 0:u.code})]}),i&&S.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded-xl shadow-2xl z-[100] overflow-hidden animate-fade-in-short",children:S.jsx("div",{className:"py-2",children:Xc.map(d=>S.jsxs("button",{onClick:()=>{e(d.code),s(!1)},className:`w-full text-left px-4 py-3 flex items-center justify-between hover:bg-sky-50 dark:hover:bg-sky-900/20 transition-colors ${n===d.code?"text-sky-600 dark:text-sky-400 bg-sky-50/50 dark:bg-sky-900/10":"text-slate-700 dark:text-slate-300"}`,children:[S.jsxs("div",{className:"flex flex-col",children:[S.jsx("span",{className:"text-sm font-bold leading-none mb-1",children:d.native}),S.jsx("span",{className:"text-[10px] opacity-60 uppercase font-bold tracking-wider",children:d.label})]}),n===d.code&&S.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-sky-500 shadow-[0_0_8px_rgba(14,165,233,0.5)]"})]},d.code))})})]})},Qx=({user:n,isGuest:e,onLogout:i,onExitGuest:s,theme:a,onToggleTheme:u})=>{const{t:d}=$a();return S.jsxs("header",{className:"text-center relative",children:[S.jsxs("div",{className:"absolute top-0 right-0 flex items-center gap-2 sm:gap-3 text-sm",children:[S.jsx(av,{}),S.jsx(xd,{theme:a,onToggle:u}),n?S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("span",{className:"text-slate-500 dark:text-slate-400 hidden lg:inline font-medium",children:n.email}),S.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-red-500 dark:hover:text-red-400 transition-all duration-200 p-2 rounded-md bg-slate-200 dark:bg-slate-800/50 hover:bg-slate-300 dark:hover:bg-slate-700/50",children:[S.jsx(wg,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:d("btnLogIn")})]})]}):e?S.jsxs("button",{onClick:s,className:"flex items-center gap-2 text-slate-500 dark:text-slate-400 hover:text-sky-500 dark:hover:text-sky-400 transition-all duration-200 p-2 rounded-md bg-slate-200 dark:bg-slate-800/50 hover:bg-slate-300 dark:hover:bg-slate-700/50",children:[S.jsx(wg,{className:"w-4 h-4"}),S.jsx("span",{className:"hidden sm:inline",children:"Exit Guest"})]}):null]}),S.jsxs("div",{className:"flex justify-center items-center gap-4 pt-16 sm:pt-0",children:[S.jsx(Sd,{className:"w-12 h-12 text-sky-500"}),S.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-sky-500 to-blue-600",children:"VoiceVerify"})]}),S.jsx("p",{className:"mt-4 text-base text-slate-600 dark:text-slate-400 max-w-2xl mx-auto italic",children:d("heroSubtitle")})]})},Wx=({onAnalyze:n,isLoading:e,error:i,isGuest:s,onExitGuest:a})=>{const[u,d]=ae.useState("upload"),[p,y]=ae.useState(null),[g,v]=ae.useState(null),[E,T]=ae.useState(!1),[A,b]=ae.useState(!1),[U,D]=ae.useState(0),[B,F]=ae.useState(null),z=ae.useRef(null),J=ae.useRef(null),H=ae.useRef([]),ee=ae.useRef(null),K=ae.useRef(null),de=ae.useRef(null),Q=ae.useRef(null),ue=ae.useRef(null),Ee=i||B,Ie=Z=>{const se=Math.floor(Z/60),I=Math.floor(Z%60);return`${se}:${I.toString().padStart(2,"0")}`},Ue=Z=>{if(F(null),Z.size>10*1024*1024){F("File size exceeds 10MB limit.");return}const se=new Audio,I=URL.createObjectURL(Z);se.src=I,se.addEventListener("loadedmetadata",()=>{v({duration:Ie(se.duration),size:(Z.size/(1024*1024)).toFixed(2)+" MB",type:Z.type.split("/")[1].toUpperCase()||"AUDIO"}),URL.revokeObjectURL(I)}),y(Z)},Ne=async()=>{if(!s){F(null);try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("MediaDevices API is not supported in this browser.");if(!(await navigator.mediaDevices.enumerateDevices()).some(Y=>Y.kind==="audioinput")){F("No microphone detected. Please connect a recording device.");return}const I=await navigator.mediaDevices.getUserMedia({audio:!0});H.current=[];const V=new MediaRecorder(I);J.current=V,V.ondataavailable=Y=>{Y.data.size>0&&H.current.push(Y.data)},V.onstop=()=>{const Y=new Blob(H.current,{type:"audio/wav"}),W=new File([Y],`recording-${Date.now()}.wav`,{type:"audio/wav"});Ue(W),I.getTracks().forEach(le=>le.stop()),X()},V.start(),b(!0),D(0),y(null),ee.current=window.setInterval(()=>D(Y=>Y+1),1e3),P(I)}catch(Z){F(`Error accessing microphone: ${Z.message||"Unknown error"}`)}}},Je=()=>{J.current&&A&&(J.current.stop(),b(!1),ee.current&&clearInterval(ee.current))},P=Z=>{try{de.current=new(window.AudioContext||window.webkitAudioContext);const se=de.current.createMediaStreamSource(Z);Q.current=de.current.createAnalyser(),Q.current.fftSize=256,se.connect(Q.current),ne()}catch(se){console.warn(se)}},X=()=>{ue.current&&cancelAnimationFrame(ue.current),de.current&&de.current.close()},ne=()=>{if(!K.current||!Q.current)return;const Z=K.current,se=Z.getContext("2d");if(!se)return;const I=Q.current.frequencyBinCount,V=new Uint8Array(I),Y=()=>{ue.current=requestAnimationFrame(Y),Q.current.getByteFrequencyData(V),se.clearRect(0,0,Z.width,Z.height);const W=Z.width/I*2.5;let le=0;for(let he=0;he<I;he++){const Se=V[he]/255*Z.height;se.fillStyle=`rgba(14, 165, 233, ${Math.max(.2,V[he]/255)})`,se.fillRect(le,Z.height-Se,W,Se),le+=W+1}};Y()};return ae.useEffect(()=>()=>{ee.current&&clearInterval(ee.current),ue.current&&cancelAnimationFrame(ue.current)},[]),S.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[Ee&&S.jsx("div",{className:"w-full mb-6 p-4 bg-red-100 dark:bg-red-900/30 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 rounded-xl text-sm text-center font-bold animate-fade-in-short",children:Ee}),S.jsxs("div",{className:"flex bg-slate-100 dark:bg-slate-800 p-1 rounded-2xl mb-8 w-full max-w-xs",children:[S.jsxs("button",{onClick:()=>{d("upload"),y(null),F(null)},disabled:A||e,className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm font-black transition-all ${u==="upload"?"bg-white dark:bg-slate-700 text-sky-600 dark:text-sky-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[S.jsx(Kc,{className:"w-4 h-4"}),"File Upload"]}),S.jsxs("button",{onClick:()=>{d("record"),y(null),F(null)},disabled:A||e,className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl text-sm font-black transition-all relative ${u==="record"?"bg-white dark:bg-slate-700 text-sky-600 dark:text-sky-400 shadow-sm":"text-slate-500 hover:text-slate-700 dark:hover:text-slate-300"}`,children:[S.jsx(Ig,{className:"w-4 h-4"}),"Voice Record",s&&S.jsx("span",{className:"absolute -top-1 -right-1 bg-amber-500 text-[8px] text-white px-1.5 py-0.5 rounded-full font-bold",children:"PRO"})]})]}),S.jsx("div",{className:"w-full min-h-[250px] relative",children:u==="upload"?S.jsxs("div",{className:`w-full group p-10 border-2 border-dashed rounded-[2rem] text-center transition-all duration-300 cursor-pointer ${E?"border-sky-500 bg-sky-50 dark:bg-sky-900/10":"border-slate-300 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/10 hover:border-sky-400"}`,onClick:()=>{var Z;return(Z=z.current)==null?void 0:Z.click()},onDragOver:Z=>{Z.preventDefault(),T(!0)},onDragLeave:()=>T(!1),onDrop:Z=>{var se;Z.preventDefault(),T(!1),(se=Z.dataTransfer.files)!=null&&se[0]&&Ue(Z.dataTransfer.files[0])},children:[S.jsx("input",{type:"file",ref:z,onChange:Z=>{var se;return((se=Z.target.files)==null?void 0:se[0])&&Ue(Z.target.files[0])},accept:"audio/*",className:"hidden"}),S.jsx(Kc,{className:"mx-auto h-16 w-16 text-slate-300 dark:text-slate-600 group-hover:text-sky-500 transition-colors"}),S.jsx("p",{className:"mt-4 text-lg font-bold text-slate-700 dark:text-slate-200",children:"Drop or Select Audio"}),S.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"MP3, WAV up to 10MB"})]}):S.jsx("div",{className:"w-full bg-slate-50 dark:bg-slate-800/10 border-2 border-slate-200 dark:border-slate-700 rounded-[2rem] p-10 flex flex-col items-center justify-center text-center",children:s?S.jsxs("div",{className:"animate-fade-in",children:[S.jsx("div",{className:"w-16 h-16 bg-amber-100 dark:bg-amber-900/30 text-amber-600 rounded-full flex items-center justify-center mx-auto mb-4",children:S.jsx(Ad,{className:"w-8 h-8"})}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:"Sign In to Record Live"}),S.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-6 max-w-xs mx-auto",children:"Direct audio capture is a Pro feature. Sign in to analyze your voice in real-time."}),S.jsx("button",{onClick:a,className:"px-8 py-3 bg-sky-500 hover:bg-sky-600 text-white font-black rounded-xl transition-all shadow-lg",children:"Create Free Account"})]}):A?S.jsxs("div",{className:"flex flex-col items-center w-full",children:[S.jsx("div",{className:"text-4xl font-bold text-slate-800 dark:text-white mb-4",children:Ie(U)}),S.jsx("canvas",{ref:K,className:"w-full h-12 mb-6 opacity-60",width:400,height:100}),S.jsx("button",{onClick:Je,className:"w-16 h-16 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all",children:S.jsx(Px,{className:"w-6 h-6 fill-current"})})]}):S.jsxs("div",{className:"flex flex-col items-center",children:[S.jsx("button",{onClick:Ne,className:"w-16 h-16 bg-sky-500 hover:bg-sky-600 text-white rounded-full flex items-center justify-center shadow-lg transition-all mb-4",children:S.jsx(Ig,{className:"w-8 h-8"})}),S.jsx("p",{className:"text-lg font-bold text-slate-700 dark:text-slate-200",children:"Start Recording"})]})})}),p&&S.jsxs("div",{className:"mt-6 w-full animate-fade-in-short bg-slate-100 dark:bg-slate-800/50 p-4 rounded-xl flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(tv,{className:"h-5 w-5 text-sky-500"}),S.jsxs("div",{children:[S.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate max-w-[150px]",children:p.name}),S.jsxs("p",{className:"text-[10px] text-slate-500 uppercase font-bold",children:[g==null?void 0:g.duration,"  ",g==null?void 0:g.size]})]})]}),S.jsx("button",{onClick:()=>y(null),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",children:S.jsx(ov,{className:"w-5 h-5"})})]}),S.jsx("button",{onClick:()=>p&&n(p),disabled:!p||e||A,className:`w-full h-14 mt-8 rounded-xl font-black text-white uppercase tracking-widest transition-all ${!p||A?"bg-slate-300 dark:bg-slate-700 cursor-not-allowed":"bg-sky-500 hover:bg-sky-600 shadow-lg"}`,children:e?S.jsx(Ed,{className:"h-6 w-6 mx-auto"}):"Analyze Voice"})]})},Zx=({result:n,fileName:e,onReset:i})=>{const s=n.label==="AI",a=n.label==="Uncertain",u=Math.round(n.confidence*100);return S.jsx("div",{className:"flex flex-col w-full animate-fade-in",children:S.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-8 shadow-xl border border-slate-200 dark:border-slate-700 text-center",children:[S.jsx("div",{className:`mx-auto w-24 h-24 rounded-full flex items-center justify-center mb-6 ${s?"bg-red-100 dark:bg-red-900/30 text-red-600":a?"bg-amber-100 dark:bg-amber-900/30 text-amber-600":"bg-green-100 dark:bg-green-900/30 text-green-600"}`,children:s?S.jsx(nv,{className:"w-12 h-12"}):a?S.jsx(zx,{className:"w-12 h-12"}):S.jsx(iv,{className:"w-12 h-12"})}),S.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white mb-2 uppercase tracking-tight",children:s?"Detected as AI":a?"Uncertain Result":"Detected as Human"}),S.jsxs("div",{className:"text-5xl font-black text-sky-500 mb-4",children:[u,"% ",S.jsx("span",{className:"text-sm text-slate-500 uppercase tracking-widest",children:"Confidence"})]}),S.jsx("p",{className:"text-slate-600 dark:text-slate-400 leading-relaxed max-w-md mx-auto mb-8",children:n.explanation}),S.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 text-left",children:[S.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[S.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Primary Language"}),S.jsx("p",{className:"font-bold text-slate-800 dark:text-slate-200",children:n.detectedLanguage||"Undetected"})]}),S.jsxs("div",{className:"p-4 bg-slate-50 dark:bg-slate-900/50 rounded-xl border border-slate-200 dark:border-slate-700",children:[S.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Analysis Status"}),S.jsx("p",{className:"font-bold text-green-500",children:"Verified"})]})]}),S.jsxs("div",{className:"bg-sky-50 dark:bg-sky-900/20 p-6 rounded-xl border border-sky-100 dark:border-sky-900/30 text-left",children:[S.jsx("h4",{className:"font-black text-sky-700 dark:text-sky-400 text-sm uppercase mb-3",children:"Analysis Reasoning"}),S.jsx("ul",{className:"space-y-2",children:n.reasoningPoints.map((d,p)=>S.jsxs("li",{className:"text-sm text-slate-600 dark:text-slate-300 flex items-start gap-2",children:[S.jsx("span",{className:"text-sky-500 mt-1",children:""}),d]},p))})]}),S.jsx("button",{onClick:i,className:"mt-8 w-full py-4 bg-slate-900 dark:bg-white text-white dark:text-slate-900 font-black uppercase tracking-widest rounded-xl transition-all hover:scale-[1.02]",children:"New Analysis"})]})})},jx=({history:n,onDelete:e,isGuest:i,onExitGuest:s})=>{const a=u=>new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit"}).format(new Date(u));return S.jsxs("div",{className:"bg-white dark:bg-slate-800/50 rounded-2xl p-6 shadow-2xl border border-slate-200 dark:border-slate-700 h-full flex flex-col",children:[S.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[S.jsx(Ox,{className:"w-6 h-6 text-sky-500 dark:text-sky-400"}),S.jsx("h2",{className:"text-2xl font-bold text-sky-600 dark:text-sky-400",children:"Detection History"})]}),S.jsxs("div",{className:"bg-sky-50 dark:bg-sky-900/20 p-3 rounded-lg flex items-start gap-3 mb-6 border border-sky-100 dark:border-sky-900/50",children:[S.jsx("span",{className:"text-lg",children:""}),S.jsxs("p",{className:"text-xs text-slate-600 dark:text-slate-300 leading-tight",children:[S.jsx("strong",{children:"Privacy Guaranteed:"})," Audio is processed temporarily in memory and is never saved or stored."]})]}),i&&S.jsxs("button",{onClick:s,className:"mb-6 w-full p-4 bg-gradient-to-br from-sky-500/10 to-blue-500/10 border border-sky-500/30 rounded-xl group hover:border-sky-500 transition-all flex items-center justify-between",children:[S.jsxs("div",{className:"text-left",children:[S.jsxs("p",{className:"text-xs font-black text-sky-600 dark:text-sky-400 uppercase tracking-widest flex items-center gap-1",children:[S.jsx(Ad,{className:"w-3 h-3"})," Go Pro"]}),S.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200",children:"Sign In to Save History"})]}),S.jsx("span",{className:"text-sky-500 group-hover:translate-x-1 transition-transform",children:""})]}),n.length===0?S.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center text-center text-slate-400 dark:text-slate-500 border-2 border-dashed border-slate-300 dark:border-slate-700 rounded-xl py-10",children:[S.jsx(tv,{className:"w-12 h-12 mb-3 opacity-20"}),S.jsx("p",{className:"font-bold text-slate-500 dark:text-slate-400",children:"No detections yet."}),S.jsx("p",{className:"text-sm",children:"Your recent sessions appear here."})]}):S.jsx("ul",{className:"space-y-4 flex-grow overflow-y-auto pr-1",children:n.map(u=>{const d=u.result.label==="AI",p=u.result.label==="Uncertain";return S.jsxs("li",{className:"group bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl flex items-center justify-between animate-fade-in-short border border-transparent hover:border-slate-200 dark:hover:border-slate-700 hover:shadow-lg transition-all duration-300",children:[S.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[S.jsx("div",{className:`p-2 rounded-full flex-shrink-0 ${d?"bg-red-100 dark:bg-red-900/30":p?"bg-amber-100 dark:bg-amber-900/30":"bg-green-100 dark:bg-green-900/30"}`,children:d?S.jsx(nv,{className:"w-5 h-5 text-red-500"}):p?S.jsx(Cd,{className:"w-5 h-5 text-amber-500"}):S.jsx(iv,{className:"w-5 h-5 text-green-500"})}),S.jsxs("div",{className:"overflow-hidden",children:[S.jsx("p",{className:"text-sm font-bold text-slate-700 dark:text-slate-200 truncate",title:u.fileName,children:u.fileName}),S.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[S.jsxs("span",{className:`text-xs font-black uppercase tracking-tighter ${d?"text-red-500":p?"text-amber-500":"text-green-500"}`,children:[u.result.label,"  ",Math.round(u.result.confidence*100),"%"]}),u.result.detectedLanguage&&S.jsx("span",{className:"text-[10px] bg-slate-200 dark:bg-slate-700 px-1.5 py-0.5 rounded text-slate-600 dark:text-slate-300 font-bold uppercase",children:u.result.detectedLanguage.substring(0,3)}),S.jsxs("span",{className:"text-[10px] text-slate-400 flex items-center gap-0.5",children:[S.jsx(qx,{className:"w-2.5 h-2.5"}),a(u.timestamp)]})]})]})]}),S.jsx("button",{onClick:()=>e(u.id),className:"p-2 opacity-0 group-hover:opacity-100 rounded-lg text-slate-400 hover:bg-red-50 dark:hover:bg-red-900/30 hover:text-red-500 transition-all flex-shrink-0",children:S.jsx(ov,{className:"w-5 h-5"})})]},u.id)})})]})},eI=()=>S.jsx("div",{className:"mt-12 bg-amber-50 dark:bg-slate-800/50 border border-amber-200 dark:border-amber-500/20 rounded-lg p-6",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx(Cd,{className:"w-8 h-8 text-amber-500 dark:text-amber-400 flex-shrink-0 mt-1"}),S.jsxs("div",{children:[S.jsx("h3",{className:"text-lg font-semibold text-amber-700 dark:text-amber-400",children:"Important Disclaimer"}),S.jsx("p",{className:"mt-2 text-amber-800 dark:text-slate-400 text-sm",children:"This tool is a proof-of-concept for educational and research purposes only. It is not a forensic-grade or legally admissible verification system. The detection accuracy may vary based on audio quality, language, and the sophistication of the AI generation model."}),S.jsxs("ul",{className:"list-disc list-inside mt-3 space-y-1 text-amber-800 dark:text-slate-400 text-sm",children:[S.jsxs("li",{children:[S.jsx("strong",{children:"Privacy-First:"})," Your audio is analyzed in memory and is not stored long-term or used for model training."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"No Biometrics:"})," This tool does not identify individuals. It only analyzes acoustic patterns."]}),S.jsxs("li",{children:[S.jsx("strong",{children:"Use Responsibly:"})," Do not use this tool to make critical decisions. Results should be considered indicative, not definitive."]})]})]})]})});var tI={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nI,iI;function oI(){return{geminiUrl:nI,vertexUrl:iI}}function sI(n,e,i,s){var a,u;if(!(n!=null&&n.baseUrl)){const d=oI();return e?(a=d.vertexUrl)!==null&&a!==void 0?a:i:(u=d.geminiUrl)!==null&&u!==void 0?u:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bn{}function $(n,e){const i=/\{([^}]+)\}/g;return n.replace(i,(s,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const u=e[a];return u!=null?String(u):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function f(n,e,i){for(let u=0;u<e.length-1;u++){const d=e[u];if(d.endsWith("[]")){const p=d.slice(0,-2);if(!(p in n))if(Array.isArray(i))n[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[p])){const y=n[p];if(Array.isArray(i))for(let g=0;g<y.length;g++){const v=y[g];f(v,e.slice(u+1),i[g])}else for(const g of y)f(g,e.slice(u+1),i)}return}else if(d.endsWith("[0]")){const p=d.slice(0,-3);p in n||(n[p]=[{}]);const y=n[p];f(y[0],e.slice(u+1),i);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const s=e[e.length-1],a=n[s];if(a!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===a)return;if(typeof a=="object"&&typeof i=="object"&&a!==null&&i!==null)Object.assign(a,i);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof i=="object"&&i!==null&&!Array.isArray(i)?Object.assign(n,i):n[s]=i}function c(n,e,i=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return i;const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(p=>c(p,e.slice(s+1),i)):i}else return i}else n=n[a]}return n}catch(s){if(s instanceof TypeError)return i;throw s}}function rI(n,e){for(const[i,s]of Object.entries(e)){const a=i.split("."),u=s.split("."),d=new Set;let p=-1;for(let y=0;y<a.length;y++)if(a[y]==="*"){p=y;break}if(p!==-1&&u.length>p)for(let y=p;y<u.length;y++){const g=u[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&d.add(g)}$c(n,a,u,0,d)}}function $c(n,e,i,s,a){if(s>=e.length||typeof n!="object"||n===null)return;const u=e[s];if(u.endsWith("[]")){const d=u.slice(0,-2),p=n;if(d in p&&Array.isArray(p[d]))for(const y of p[d])$c(y,e,i,s+1,a)}else if(u==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,p=Object.keys(d).filter(g=>!g.startsWith("_")&&!a.has(g)),y={};for(const g of p)y[g]=d[g];for(const[g,v]of Object.entries(y)){const E=[];for(const T of i.slice(s))T==="*"?E.push(g):E.push(T);f(d,E,v)}for(const g of p)delete d[g]}}else{const d=n;u in d&&$c(d[u],e,i,s+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Id(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aI(n){const e={},i=c(n,["operationName"]);i!=null&&f(e,["operationName"],i);const s=c(n,["resourceName"]);return s!=null&&f(e,["_url","resourceName"],s),e}function lI(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response","generateVideoResponse"]);return d!=null&&f(e,["response"],cI(d)),e}function uI(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],dI(d)),e}function cI(n){const e={},i=c(n,["generatedSamples"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>fI(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function dI(n){const e={},i=c(n,["videos"]);if(i!=null){let u=i;Array.isArray(u)&&(u=u.map(d=>hI(d))),f(e,["generatedVideos"],u)}const s=c(n,["raiMediaFilteredCount"]);s!=null&&f(e,["raiMediaFilteredCount"],s);const a=c(n,["raiMediaFilteredReasons"]);return a!=null&&f(e,["raiMediaFilteredReasons"],a),e}function fI(n){const e={},i=c(n,["video"]);return i!=null&&f(e,["video"],_I(i)),e}function hI(n){const e={},i=c(n,["_self"]);return i!=null&&f(e,["video"],TI(i)),e}function pI(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function mI(n){const e={},i=c(n,["operationName"]);return i!=null&&f(e,["_url","operationName"],i),e}function gI(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],yI(d)),e}function yI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function lv(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],vI(d)),e}function vI(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function _I(n){const e={},i=c(n,["uri"]);i!=null&&f(e,["uri"],i);const s=c(n,["encodedVideo"]);s!=null&&f(e,["videoBytes"],Id(s));const a=c(n,["encoding"]);return a!=null&&f(e,["mimeType"],a),e}function TI(n){const e={},i=c(n,["gcsUri"]);i!=null&&f(e,["uri"],i);const s=c(n,["bytesBase64Encoded"]);s!=null&&f(e,["videoBytes"],Id(s));const a=c(n,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rg;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rg||(Rg={}));var Ng;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Ng||(Ng={}));var Mg;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Mg||(Mg={}));var ct;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(ct||(ct={}));var Dg;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Dg||(Dg={}));var kg;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(kg||(kg={}));var Ug;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Ug||(Ug={}));var Lg;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Lg||(Lg={}));var Pg;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Pg||(Pg={}));var Og;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Og||(Og={}));var Hg;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(Hg||(Hg={}));var Vg;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Vg||(Vg={}));var Gg;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Gg||(Gg={}));var Bg;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Bg||(Bg={}));var qg;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(qg||(qg={}));var zg;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(zg||(zg={}));var Fg;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Fg||(Fg={}));var Jg;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Jg||(Jg={}));var Yg;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Yg||(Yg={}));var Kg;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(Kg||(Kg={}));var Xg;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Xg||(Xg={}));var Va;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Va||(Va={}));var $g;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($g||($g={}));var Qg;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Qg||(Qg={}));var Wg;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Wg||(Wg={}));var Qc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qc||(Qc={}));var Zg;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Zg||(Zg={}));var jg;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(jg||(jg={}));var Wc;(function(n){n.COLLECTION="COLLECTION"})(Wc||(Wc={}));var e0;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(e0||(e0={}));var t0;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(t0||(t0={}));var n0;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(n0||(n0={}));var i0;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(i0||(i0={}));var o0;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(o0||(o0={}));var s0;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(s0||(s0={}));var r0;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(r0||(r0={}));var a0;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(a0||(a0={}));var l0;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(l0||(l0={}));var u0;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(u0||(u0={}));var c0;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(c0||(c0={}));var d0;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(d0||(d0={}));var f0;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(f0||(f0={}));var h0;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(h0||(h0={}));var p0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(p0||(p0={}));var m0;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(m0||(m0={}));var g0;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(g0||(g0={}));var y0;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(y0||(y0={}));var v0;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(v0||(v0={}));var _0;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_0||(_0={}));var T0;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(T0||(T0={}));var E0;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(E0||(E0={}));var S0;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(S0||(S0={}));var C0;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(C0||(C0={}));var A0;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(A0||(A0={}));var x0;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(x0||(x0={}));var I0;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(I0||(I0={}));var xo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(xo||(xo={}));class Zc{constructor(e){const i={};for(const s of e.headers.entries())i[s[0]]=s[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class Us{get text(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const E=[];for(const T of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[A,b]of Object.entries(T))A!=="text"&&A!=="thought"&&A!=="thoughtSignature"&&(b!==null||b!==void 0)&&E.push(A);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,g+=T.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const E of(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[T,A]of Object.entries(E))T!=="inlineData"&&(A!==null||A!==void 0)&&v.push(T);E.inlineData&&typeof E.inlineData.data=="string"&&(g+=atob(E.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,s,a,u,d,p,y;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,s,a,u,d,p,y,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,s,a,u,d,p,y,g;if(((a=(s=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||s===void 0?void 0:s.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(p=(d=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class w0{}class b0{}class EI{}class SI{}class CI{}class AI{}class R0{}class N0{}class M0{}class xI{}class Ga{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new Ga;let a;const u=e;return i?a=uI(u):a=lI(u),Object.assign(s,a),s}}class D0{}class k0{}class U0{}class L0{}class II{}class wI{}class bI{}class wd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new wd,u=gI(e);return Object.assign(s,u),s}}class RI{}class NI{}class MI{}class DI{}class P0{}class kI{get text(){var e,i,s;let a="",u=!1;const d=[];for(const p of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[y,g]of Object.entries(p))y!=="text"&&y!=="thought"&&g!==null&&d.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;u=!0,a+=p.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?a:void 0}get data(){var e,i,s;let a="";const u=[];for(const d of(s=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&s!==void 0?s:[]){for(const[p,y]of Object.entries(d))p!=="inlineData"&&y!==null&&u.push(p);d.inlineData&&typeof d.inlineData.data=="string"&&(a+=atob(d.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class UI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bd{_fromAPIResponse({apiResponse:e,_isVertexAI:i}){const s=new bd,u=lv(e);return Object.assign(s,u),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function uv(n,e){const i=xe(n,e);return i?i.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}`:i.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${i}`:i:""}function cv(n){return Array.isArray(n)?n.map(e=>Ba(e)):[Ba(n)]}function Ba(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function dv(n){const e=Ba(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fv(n){const e=Ba(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function O0(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function hv(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>O0(e)):[O0(n)]}function jc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function H0(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function V0(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function rt(n){if(n==null)throw new Error("ContentUnion is required");return jc(n)?n:{role:"user",parts:hv(n)}}function Rd(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const s=rt(i);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const i=rt(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>rt(i)):[rt(e)]}function Gt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(H0(n)||V0(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(n)]}const e=[],i=[],s=jc(n[0]);for(const a of n){const u=jc(a);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(a);else{if(H0(a)||V0(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(a)}}return s||e.push({role:"user",parts:hv(i)}),e}function LI(n,e){n.includes("null")&&(e.nullable=!0);const i=n.filter(s=>s!=="null");if(i.length===1)e.type=Object.values(ct).includes(i[0].toUpperCase())?i[0].toUpperCase():ct.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of i)e.anyOf.push({type:Object.values(ct).includes(s.toUpperCase())?s.toUpperCase():ct.TYPE_UNSPECIFIED})}}function Mo(n){const e={},i=["items"],s=["anyOf"],a=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=n.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,n=u[1]):u[1].type==="null"&&(e.nullable=!0,n=u[0])),n.type instanceof Array&&LI(n.type,e);for(const[d,p]of Object.entries(n))if(p!=null)if(d=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(ct).includes(p.toUpperCase())?p.toUpperCase():ct.TYPE_UNSPECIFIED}else if(i.includes(d))e[d]=Mo(p);else if(s.includes(d)){const y=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}y.push(Mo(g))}e[d]=y}else if(a.includes(d)){const y={};for(const[g,v]of Object.entries(p))y[g]=Mo(v);e[d]=y}else{if(d==="additionalProperties")continue;e[d]=p}return e}function Nd(n){return Mo(n)}function Md(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Dd(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Po(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Mo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Mo(e.response));return n}function Oo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of n)e.push(i);return e}function PI(n,e,i,s=1){const a=!e.startsWith(`${i}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:a?`projects/${n.getProject()}/locations/${n.getLocation()}/${i}/${e}`:e:a?`${i}/${e}`:e}function Rn(n,e){if(typeof e!="string")throw new Error("name must be a string");return PI(n,e,"cachedContents")}function pv(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function fi(n){return Id(n)}function OI(n){return n!=null&&typeof n=="object"&&"name"in n}function HI(n){return n!=null&&typeof n=="object"&&"video"in n}function VI(n){return n!=null&&typeof n=="object"&&"uri"in n}function mv(n){var e;let i;if(OI(n)&&(i=n.name),!(VI(n)&&(i=n.uri,i===void 0))&&!(HI(n)&&(i=(e=n.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof n=="string"&&(i=n),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const a=i.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${i}`);i=a[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function gv(n,e){let i;return n.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function yv(n){for(const e of["models","tunedModels","publisherModels"])if(GI(n,e))return n[e];return[]}function GI(n,e){return n!==null&&typeof n=="object"&&e in n}function BI(n,e={}){const i=n,s={name:i.name,description:i.description,parametersJsonSchema:i.inputSchema};return i.outputSchema&&(s.responseJsonSchema=i.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function qI(n,e={}){const i=[],s=new Set;for(const a of n){const u=a.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const d=BI(a,e);d.functionDeclarations&&i.push(...d.functionDeclarations)}return{functionDeclarations:i}}function vv(n,e){let i;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))i={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))i={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))i={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");i={inlinedRequests:e}}else i=e;const s=[i.gcsUri,i.bigqueryUri].filter(Boolean).length,a=[i.inlinedRequests,i.fileName].filter(Boolean).length;if(n.isVertexAI()){if(a>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return i}function zI(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function _v(n){if(typeof n!="object"||n===null)return{};const e=n,i=e.inlinedResponses;if(typeof i!="object"||i===null)return n;const a=i.inlinedResponses;if(!Array.isArray(a)||a.length===0)return n;let u=!1;for(const d of a){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){u=!0;break}}return u&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ho(n,e){const i=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(i))return i.split("/").pop();throw new Error(`Invalid batch job name: ${i}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(i))return i.split("/").pop();if(/^\d+$/.test(i))return i;throw new Error(`Invalid batch job name: ${i}.`)}function Tv(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FI(n){const e={},i=c(n,["responsesFile"]);i!=null&&f(e,["fileName"],i);const s=c(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>Aw(d))),f(e,["inlinedResponses"],u)}const a=c(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["inlinedEmbedContentResponses"],u)}return e}function JI(n){const e={},i=c(n,["predictionsFormat"]);i!=null&&f(e,["format"],i);const s=c(n,["gcsDestination","outputUriPrefix"]);s!=null&&f(e,["gcsUri"],s);const a=c(n,["bigqueryDestination","outputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function YI(n){const e={},i=c(n,["format"]);i!=null&&f(e,["predictionsFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsDestination","outputUriPrefix"],s);const a=c(n,["bigqueryUri"]);if(a!=null&&f(e,["bigqueryDestination","outputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(c(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ra(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata","displayName"]);s!=null&&f(e,["displayName"],s);const a=c(n,["metadata","state"]);a!=null&&f(e,["state"],Tv(a));const u=c(n,["metadata","createTime"]);u!=null&&f(e,["createTime"],u);const d=c(n,["metadata","endTime"]);d!=null&&f(e,["endTime"],d);const p=c(n,["metadata","updateTime"]);p!=null&&f(e,["updateTime"],p);const y=c(n,["metadata","model"]);y!=null&&f(e,["model"],y);const g=c(n,["metadata","output"]);return g!=null&&f(e,["dest"],FI(_v(g))),e}function ed(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["displayName"]);s!=null&&f(e,["displayName"],s);const a=c(n,["state"]);a!=null&&f(e,["state"],Tv(a));const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["createTime"]);d!=null&&f(e,["createTime"],d);const p=c(n,["startTime"]);p!=null&&f(e,["startTime"],p);const y=c(n,["endTime"]);y!=null&&f(e,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(e,["updateTime"],g);const v=c(n,["model"]);v!=null&&f(e,["model"],v);const E=c(n,["inputConfig"]);E!=null&&f(e,["src"],KI(E));const T=c(n,["outputConfig"]);T!=null&&f(e,["dest"],JI(_v(T)));const A=c(n,["completionStats"]);return A!=null&&f(e,["completionStats"],A),e}function KI(n){const e={},i=c(n,["instancesFormat"]);i!=null&&f(e,["format"],i);const s=c(n,["gcsSource","uris"]);s!=null&&f(e,["gcsUri"],s);const a=c(n,["bigquerySource","inputUri"]);return a!=null&&f(e,["bigqueryUri"],a),e}function XI(n,e){const i={};if(c(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(c(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=c(e,["fileName"]);s!=null&&f(i,["fileName"],s);const a=c(e,["inlinedRequests"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Cw(n,d))),f(i,["requests","requests"],u)}return i}function $I(n){const e={},i=c(n,["format"]);i!=null&&f(e,["instancesFormat"],i);const s=c(n,["gcsUri"]);s!=null&&f(e,["gcsSource","uris"],s);const a=c(n,["bigqueryUri"]);if(a!=null&&f(e,["bigquerySource","inputUri"],a),c(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(c(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function QI(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function WI(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function ZI(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function jI(n){const e={},i=c(n,["content"]);i!=null&&f(e,["content"],i);const s=c(n,["citationMetadata"]);s!=null&&f(e,["citationMetadata"],ew(s));const a=c(n,["tokenCount"]);a!=null&&f(e,["tokenCount"],a);const u=c(n,["finishReason"]);u!=null&&f(e,["finishReason"],u);const d=c(n,["avgLogprobs"]);d!=null&&f(e,["avgLogprobs"],d);const p=c(n,["groundingMetadata"]);p!=null&&f(e,["groundingMetadata"],p);const y=c(n,["index"]);y!=null&&f(e,["index"],y);const g=c(n,["logprobsResult"]);g!=null&&f(e,["logprobsResult"],g);const v=c(n,["safetyRatings"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(A=>A)),f(e,["safetyRatings"],T)}const E=c(n,["urlContextMetadata"]);return E!=null&&f(e,["urlContextMetadata"],E),e}function ew(n){const e={},i=c(n,["citationSources"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["citations"],s)}return e}function Ev(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Mw(u))),f(e,["parts"],a)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function tw(n,e){const i={},s=c(n,["displayName"]);if(e!==void 0&&s!=null&&f(e,["batch","displayName"],s),c(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return i}function nw(n,e){const i={},s=c(n,["displayName"]);e!==void 0&&s!=null&&f(e,["displayName"],s);const a=c(n,["dest"]);return e!==void 0&&a!=null&&f(e,["outputConfig"],YI(zI(a))),i}function G0(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],xe(n,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],XI(n,vv(n,a)));const u=c(e,["config"]);return u!=null&&tw(u,i),i}function iw(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],xe(n,s));const a=c(e,["src"]);a!=null&&f(i,["inputConfig"],$I(vv(n,a)));const u=c(e,["config"]);return u!=null&&nw(u,i),i}function ow(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["batch","displayName"],s),i}function sw(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["_url","model"],xe(n,s));const a=c(e,["src"]);a!=null&&f(i,["batch","inputConfig"],fw(n,a));const u=c(e,["config"]);return u!=null&&ow(u,i),i}function rw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function aw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function lw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function uw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);return u!=null&&f(e,["error"],u),e}function cw(n,e){const i={},s=c(e,["contents"]);if(s!=null){let u=Rd(n,s);Array.isArray(u)&&(u=u.map(d=>d)),f(i,["requests[]","request","content"],u)}const a=c(e,["config"]);return a!=null&&(f(i,["_self"],dw(a,i)),rI(i,{"requests[].*":"requests[].request.*"})),i}function dw(n,e){const i={},s=c(n,["taskType"]);e!==void 0&&s!=null&&f(e,["requests[]","taskType"],s);const a=c(n,["title"]);e!==void 0&&a!=null&&f(e,["requests[]","title"],a);const u=c(n,["outputDimensionality"]);if(e!==void 0&&u!=null&&f(e,["requests[]","outputDimensionality"],u),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function fw(n,e){const i={},s=c(e,["fileName"]);s!=null&&f(i,["file_name"],s);const a=c(e,["inlinedRequests"]);return a!=null&&f(i,["requests"],cw(n,a)),i}function hw(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function pw(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mw(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&f(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gw(n,e,i){const s={},a=c(e,["systemInstruction"]);i!==void 0&&a!=null&&f(i,["systemInstruction"],Ev(rt(a)));const u=c(e,["temperature"]);u!=null&&f(s,["temperature"],u);const d=c(e,["topP"]);d!=null&&f(s,["topP"],d);const p=c(e,["topK"]);p!=null&&f(s,["topK"],p);const y=c(e,["candidateCount"]);y!=null&&f(s,["candidateCount"],y);const g=c(e,["maxOutputTokens"]);g!=null&&f(s,["maxOutputTokens"],g);const v=c(e,["stopSequences"]);v!=null&&f(s,["stopSequences"],v);const E=c(e,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const T=c(e,["logprobs"]);T!=null&&f(s,["logprobs"],T);const A=c(e,["presencePenalty"]);A!=null&&f(s,["presencePenalty"],A);const b=c(e,["frequencyPenalty"]);b!=null&&f(s,["frequencyPenalty"],b);const U=c(e,["seed"]);U!=null&&f(s,["seed"],U);const D=c(e,["responseMimeType"]);D!=null&&f(s,["responseMimeType"],D);const B=c(e,["responseSchema"]);B!=null&&f(s,["responseSchema"],Nd(B));const F=c(e,["responseJsonSchema"]);if(F!=null&&f(s,["responseJsonSchema"],F),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=c(e,["safetySettings"]);if(i!==void 0&&z!=null){let Ue=z;Array.isArray(Ue)&&(Ue=Ue.map(Ne=>Dw(Ne))),f(i,["safetySettings"],Ue)}const J=c(e,["tools"]);if(i!==void 0&&J!=null){let Ue=Oo(J);Array.isArray(Ue)&&(Ue=Ue.map(Ne=>Uw(Po(Ne)))),f(i,["tools"],Ue)}const H=c(e,["toolConfig"]);if(i!==void 0&&H!=null&&f(i,["toolConfig"],kw(H)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=c(e,["cachedContent"]);i!==void 0&&ee!=null&&f(i,["cachedContent"],Rn(n,ee));const K=c(e,["responseModalities"]);K!=null&&f(s,["responseModalities"],K);const de=c(e,["mediaResolution"]);de!=null&&f(s,["mediaResolution"],de);const Q=c(e,["speechConfig"]);if(Q!=null&&f(s,["speechConfig"],Md(Q)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ue=c(e,["thinkingConfig"]);ue!=null&&f(s,["thinkingConfig"],ue);const Ee=c(e,["imageConfig"]);Ee!=null&&f(s,["imageConfig"],Sw(Ee));const Ie=c(e,["enableEnhancedCivicAnswers"]);if(Ie!=null&&f(s,["enableEnhancedCivicAnswers"],Ie),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function yw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(g=>jI(g))),f(e,["candidates"],y)}const a=c(n,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const u=c(n,["promptFeedback"]);u!=null&&f(e,["promptFeedback"],u);const d=c(n,["responseId"]);d!=null&&f(e,["responseId"],d);const p=c(n,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function vw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function _w(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Ho(n,s)),i}function Tw(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Ew(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Sw(n){const e={},i=c(n,["aspectRatio"]);i!=null&&f(e,["aspectRatio"],i);const s=c(n,["imageSize"]);if(s!=null&&f(e,["imageSize"],s),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Cw(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["request","model"],xe(n,s));const a=c(e,["contents"]);if(a!=null){let p=Gt(a);Array.isArray(p)&&(p=p.map(y=>Ev(y))),f(i,["request","contents"],p)}const u=c(e,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(e,["config"]);return d!=null&&f(i,["request","generationConfig"],gw(n,d,c(i,["request"],{}))),i}function Aw(n){const e={},i=c(n,["response"]);i!=null&&f(e,["response"],yw(i));const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["error"]);return a!=null&&f(e,["error"],a),e}function xw(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);if(e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),c(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return i}function Iw(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);e!==void 0&&a!=null&&f(e,["_query","pageToken"],a);const u=c(n,["filter"]);return e!==void 0&&u!=null&&f(e,["_query","filter"],u),i}function ww(n){const e={},i=c(n,["config"]);return i!=null&&xw(i,e),e}function bw(n){const e={},i=c(n,["config"]);return i!=null&&Iw(i,e),e}function Rw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["operations"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Ra(d))),f(e,["batchJobs"],u)}return e}function Nw(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["batchPredictionJobs"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>ed(d))),f(e,["batchJobs"],u)}return e}function Mw(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],hw(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],pw(d));const p=c(n,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],QI(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function Dw(n){const e={},i=c(n,["category"]);if(i!=null&&f(e,["category"],i),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=c(n,["threshold"]);return s!=null&&f(e,["threshold"],s),e}function kw(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],mw(s)),e}function Uw(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Tw(d));const p=c(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],Ew(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var wn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(wn||(wn={}));class Oi{constructor(e,i,s,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,s,a)}init(e,i,s){var a,u;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.sdkHttpResponseInternal=i==null?void 0:i.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!s||Object.keys(s).length===0?d={config:{}}:typeof s=="object"?d=Object.assign({},s):d=s,d.config&&(d.config.pageToken=i.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(u=(a=d.config)===null||a===void 0?void 0:a.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lw extends bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(wn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.create=async i=>(this.apiClient.isVertexAI()&&(i.config=this.formatDestination(i.src,i.config)),this.createInternal(i)),this.createEmbeddings=async i=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(i)}}createInlinedGenerateContentRequest(e){const i=G0(this.apiClient,e),s=i._url,a=$("{model}:batchGenerateContent",s),p=i.batch.inputConfig.requests,y=p.requests,g=[];for(const v of y){const E=Object.assign({},v);if(E.systemInstruction){const T=E.systemInstruction;delete E.systemInstruction;const A=E.request;A.systemInstruction=T,E.request=A}g.push(E)}return p.requests=g,delete i.config,delete i._url,delete i._query,{path:a,body:i}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,i){const s=i?Object.assign({},i):{},a=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${a}`),s.dest===void 0){const u=this.getGcsUri(e),d=this.getBigqueryUri(e);if(u)u.endsWith(".jsonl")?s.dest=`${u.slice(0,-6)}/dest`:s.dest=`${u}_dest_${a}`;else if(d)s.dest=`${d}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=iw(this.apiClient,e);return p=$("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>ed(v))}else{const g=G0(this.apiClient,e);return p=$("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Ra(v))}}async createEmbeddingsInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=sw(this.apiClient,e);return u=$("{model}:asyncBatchEmbedContent",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>Ra(y))}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=_w(this.apiClient,e);return p=$("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>ed(v))}else{const g=vw(this.apiClient,e);return p=$("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>Ra(v))}}async cancel(e){var i,s,a,u;let d="",p={};if(this.apiClient.isVertexAI()){const y=ZI(this.apiClient,e);d=$("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=WI(this.apiClient,e);d=$("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal})}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=bw(e);return p=$("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Nw(v),T=new P0;return Object.assign(T,E),T})}else{const g=ww(e);return p=$("batches",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Rw(v),T=new P0;return Object.assign(T,E),T})}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=aw(this.apiClient,e);return p=$("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>uw(v))}else{const g=rw(this.apiClient,e);return p=$("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>lw(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pw(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function B0(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>sb(u))),f(e,["parts"],a)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function Ow(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let v=Gt(d);Array.isArray(v)&&(v=v.map(E=>B0(E))),f(e,["contents"],v)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],B0(rt(p)));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(E=>ab(E))),f(e,["tools"],v)}const g=c(n,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],rb(g)),c(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function Hw(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(n,["expireTime"]);e!==void 0&&a!=null&&f(e,["expireTime"],a);const u=c(n,["displayName"]);e!==void 0&&u!=null&&f(e,["displayName"],u);const d=c(n,["contents"]);if(e!==void 0&&d!=null){let E=Gt(d);Array.isArray(E)&&(E=E.map(T=>T)),f(e,["contents"],E)}const p=c(n,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],rt(p));const y=c(n,["tools"]);if(e!==void 0&&y!=null){let E=y;Array.isArray(E)&&(E=E.map(T=>lb(T))),f(e,["tools"],E)}const g=c(n,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],g);const v=c(n,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function Vw(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],uv(n,s));const a=c(e,["config"]);return a!=null&&Ow(a,i),i}function Gw(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["model"],uv(n,s));const a=c(e,["config"]);return a!=null&&Hw(a,i),i}function Bw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Rn(n,s)),i}function qw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Rn(n,s)),i}function zw(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Fw(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Jw(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Yw(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kw(n){const e={},i=c(n,["allowedFunctionNames"]);i!=null&&f(e,["allowedFunctionNames"],i);const s=c(n,["mode"]);if(s!=null&&f(e,["mode"],s),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Xw(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const a=c(n,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const p=c(n,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function $w(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Rn(n,s)),i}function Qw(n,e){const i={},s=c(e,["name"]);return s!=null&&f(i,["_url","name"],Rn(n,s)),i}function Ww(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Zw(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function jw(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function eb(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function tb(n){const e={},i=c(n,["config"]);return i!=null&&jw(i,e),e}function nb(n){const e={},i=c(n,["config"]);return i!=null&&eb(i,e),e}function ib(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function ob(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["cachedContents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["cachedContents"],u)}return e}function sb(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Jw(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Yw(d));const p=c(n,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Pw(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function rb(n){const e={},i=c(n,["retrievalConfig"]);i!=null&&f(e,["retrievalConfig"],i);const s=c(n,["functionCallingConfig"]);return s!=null&&f(e,["functionCallingConfig"],Kw(s)),e}function ab(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Ww(d));const p=c(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],Zw(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function lb(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>Xw(T))),f(e,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function ub(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function cb(n,e){const i={},s=c(n,["ttl"]);e!==void 0&&s!=null&&f(e,["ttl"],s);const a=c(n,["expireTime"]);return e!==void 0&&a!=null&&f(e,["expireTime"],a),i}function db(n,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Rn(n,s));const a=c(e,["config"]);return a!=null&&ub(a,i),i}function fb(n,e){const i={},s=c(e,["name"]);s!=null&&f(i,["_url","name"],Rn(n,s));const a=c(e,["config"]);return a!=null&&cb(a,i),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hb extends bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(wn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(i),i)}async create(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Gw(this.apiClient,e);return p=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=Vw(this.apiClient,e);return p=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=Qw(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=$w(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=qw(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Fw(v),T=new U0;return Object.assign(T,E),T})}else{const g=Bw(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=zw(v),T=new U0;return Object.assign(T,E),T})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=fb(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const g=db(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=nb(e);return p=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=ob(v),T=new L0;return Object.assign(T,E),T})}else{const g=tb(e);return p=$("cachedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=ib(v),T=new L0;return Object.assign(T,E),T})}}}function qa(n,e){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(i[s[a]]=n[s[a]]);return i}function q0(n){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&n[e],s=0;if(i)return i.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ce(n){return this instanceof ce?(this.v=n,this):new ce(n)}function Kt(n,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=i.apply(n,e||[]),a,u=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",d),a[Symbol.asyncIterator]=function(){return this},a;function d(A){return function(b){return Promise.resolve(b).then(A,E)}}function p(A,b){s[A]&&(a[A]=function(U){return new Promise(function(D,B){u.push([A,U,D,B])>1||y(A,U)})},b&&(a[A]=b(a[A])))}function y(A,b){try{g(s[A](b))}catch(U){T(u[0][3],U)}}function g(A){A.value instanceof ce?Promise.resolve(A.value.v).then(v,E):T(u[0][2],A)}function v(A){y("next",A)}function E(A){y("throw",A)}function T(A,b){A(b),u.shift(),u.length&&y(u[0][0],u[0][1])}}function Xt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],i;return e?e.call(n):(n=typeof q0=="function"?q0(n):n[Symbol.iterator](),i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i);function s(u){i[u]=n[u]&&function(d){return new Promise(function(p,y){d=n[u](d),a(p,y,d.done,d.value)})}}function a(u,d,p,y){Promise.resolve(y).then(function(g){u({value:g,done:p})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pb(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const i=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:Sv(i)}function Sv(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function mb(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function z0(n){if(n===void 0||n.length===0)return[];const e=[],i=n.length;let s=0;for(;s<i;)if(n[s].role==="user")e.push(n[s]),s++;else{const a=[];let u=!0;for(;s<i&&n[s].role==="model";)a.push(n[s]),u&&!Sv(n[s])&&(u=!1),s++;u?e.push(...a):e.pop()}return e}class gb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new yb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class yb{constructor(e,i,s,a={},u=[]){this.apiClient=e,this.modelsModule=i,this.model=s,this.config=a,this.history=u,this.sendPromise=Promise.resolve(),mb(u)}async sendMessage(e){var i;await this.sendPromise;const s=rt(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var u,d,p;const y=await a,g=(d=(u=y.candidates)===null||u===void 0?void 0:u[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let T=[];v!=null&&(T=(p=v.slice(E))!==null&&p!==void 0?p:[]);const A=g?[g]:[];this.recordHistory(s,A,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var i;await this.sendPromise;const s=rt(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const u=await a;return this.processStreamResponse(u,s)}getHistory(e=!1){const i=e?z0(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){return Kt(this,arguments,function*(){var a,u,d,p,y,g;const v=[];try{for(var E=!0,T=Xt(e),A;A=yield ce(T.next()),a=A.done,!a;E=!0){p=A.value,E=!1;const b=p;if(pb(b)){const U=(g=(y=b.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;U!==void 0&&v.push(U)}yield yield ce(b)}}catch(b){u={error:b}}finally{try{!E&&!a&&(d=T.return)&&(yield ce(d.call(T)))}finally{if(u)throw u.error}}this.recordHistory(i,v)})}recordHistory(e,i,s){let a=[];i.length>0&&i.every(u=>u.role!==void 0)?a=i:a.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...z0(s)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Js extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Js.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vb(n){const e={},i=c(n,["file"]);return i!=null&&f(e,["file"],i),e}function _b(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Tb(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],mv(i)),e}function Eb(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}function Sb(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","file"],mv(i)),e}function Cb(n){const e={},i=c(n,["uris"]);return i!=null&&f(e,["uris"],i),e}function Ab(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function xb(n){const e={},i=c(n,["config"]);return i!=null&&Ab(i,e),e}function Ib(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["files"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["files"],u)}return e}function wb(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["files"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bb extends bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(wn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>i)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=xb(e);return u=$("files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=Ib(y),v=new RI;return Object.assign(v,g),v})}}async createInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=vb(e);return u=$("upload/v1beta/files",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=_b(y),v=new NI;return Object.assign(v,g),v})}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Sb(e);return u=$("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Tb(e);return u=$("files/{file}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=Eb(y),v=new MI;return Object.assign(v,g),v})}}async registerFilesInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Cb(e);return u=$("files:register",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=wb(y),v=new DI;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Na(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Rb(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>Jb(u))),f(e,["parts"],a)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function Nb(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function Mb(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Db(n){const e={},i=c(n,["description"]);i!=null&&f(e,["description"],i);const s=c(n,["name"]);s!=null&&f(e,["name"],s);const a=c(n,["parameters"]);a!=null&&f(e,["parameters"],a);const u=c(n,["parametersJsonSchema"]);u!=null&&f(e,["parametersJsonSchema"],u);const d=c(n,["response"]);d!=null&&f(e,["response"],d);const p=c(n,["responseJsonSchema"]);if(p!=null&&f(e,["responseJsonSchema"],p),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kb(n){const e={},i=c(n,["modelSelectionConfig"]);i!=null&&f(e,["modelConfig"],i);const s=c(n,["responseJsonSchema"]);s!=null&&f(e,["responseJsonSchema"],s);const a=c(n,["audioTimestamp"]);a!=null&&f(e,["audioTimestamp"],a);const u=c(n,["candidateCount"]);u!=null&&f(e,["candidateCount"],u);const d=c(n,["enableAffectiveDialog"]);d!=null&&f(e,["enableAffectiveDialog"],d);const p=c(n,["frequencyPenalty"]);p!=null&&f(e,["frequencyPenalty"],p);const y=c(n,["logprobs"]);y!=null&&f(e,["logprobs"],y);const g=c(n,["maxOutputTokens"]);g!=null&&f(e,["maxOutputTokens"],g);const v=c(n,["mediaResolution"]);v!=null&&f(e,["mediaResolution"],v);const E=c(n,["presencePenalty"]);E!=null&&f(e,["presencePenalty"],E);const T=c(n,["responseLogprobs"]);T!=null&&f(e,["responseLogprobs"],T);const A=c(n,["responseMimeType"]);A!=null&&f(e,["responseMimeType"],A);const b=c(n,["responseModalities"]);b!=null&&f(e,["responseModalities"],b);const U=c(n,["responseSchema"]);U!=null&&f(e,["responseSchema"],U);const D=c(n,["routingConfig"]);D!=null&&f(e,["routingConfig"],D);const B=c(n,["seed"]);B!=null&&f(e,["seed"],B);const F=c(n,["speechConfig"]);F!=null&&f(e,["speechConfig"],F);const z=c(n,["stopSequences"]);z!=null&&f(e,["stopSequences"],z);const J=c(n,["temperature"]);J!=null&&f(e,["temperature"],J);const H=c(n,["thinkingConfig"]);H!=null&&f(e,["thinkingConfig"],H);const ee=c(n,["topK"]);ee!=null&&f(e,["topK"],ee);const K=c(n,["topP"]);if(K!=null&&f(e,["topP"],K),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ub(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function Lb(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function Pb(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(n,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(E));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],Rb(rt(b)));const U=c(n,["tools"]);if(e!==void 0&&U!=null){let ee=Oo(U);Array.isArray(ee)&&(ee=ee.map(K=>Kb(Po(K)))),f(e,["setup","tools"],ee)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&f(e,["setup","sessionResumption"],Yb(D));const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const F=c(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const J=c(n,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const H=c(n,["proactivity"]);if(e!==void 0&&H!=null&&f(e,["setup","proactivity"],H),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function Ob(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],kb(s));const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(n,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(E));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],rt(b));const U=c(n,["tools"]);if(e!==void 0&&U!=null){let K=Oo(U);Array.isArray(K)&&(K=K.map(de=>Xb(Po(de)))),f(e,["setup","tools"],K)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&f(e,["setup","sessionResumption"],D);const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const F=c(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const J=c(n,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const H=c(n,["proactivity"]);e!==void 0&&H!=null&&f(e,["setup","proactivity"],H);const ee=c(n,["explicitVadSignal"]);return e!==void 0&&ee!=null&&f(e,["setup","explicitVadSignal"],ee),i}function Hb(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],Pb(a,i)),i}function Vb(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],Ob(a,i)),i}function Gb(n){const e={},i=c(n,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],i),e}function Bb(n){const e={},i=c(n,["weightedPrompts"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>a)),f(e,["weightedPrompts"],s)}return e}function qb(n){const e={},i=c(n,["media"]);if(i!=null){let g=cv(i);Array.isArray(g)&&(g=g.map(v=>Na(v))),f(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],Na(fv(s)));const a=c(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&f(e,["video"],Na(dv(u)));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const p=c(n,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function zb(n){const e={},i=c(n,["media"]);if(i!=null){let g=cv(i);Array.isArray(g)&&(g=g.map(v=>v)),f(e,["mediaChunks"],g)}const s=c(n,["audio"]);s!=null&&f(e,["audio"],fv(s));const a=c(n,["audioStreamEnd"]);a!=null&&f(e,["audioStreamEnd"],a);const u=c(n,["video"]);u!=null&&f(e,["video"],dv(u));const d=c(n,["text"]);d!=null&&f(e,["text"],d);const p=c(n,["activityStart"]);p!=null&&f(e,["activityStart"],p);const y=c(n,["activityEnd"]);return y!=null&&f(e,["activityEnd"],y),e}function Fb(n){const e={},i=c(n,["setupComplete"]);i!=null&&f(e,["setupComplete"],i);const s=c(n,["serverContent"]);s!=null&&f(e,["serverContent"],s);const a=c(n,["toolCall"]);a!=null&&f(e,["toolCall"],a);const u=c(n,["toolCallCancellation"]);u!=null&&f(e,["toolCallCancellation"],u);const d=c(n,["usageMetadata"]);d!=null&&f(e,["usageMetadata"],$b(d));const p=c(n,["goAway"]);p!=null&&f(e,["goAway"],p);const y=c(n,["sessionResumptionUpdate"]);y!=null&&f(e,["sessionResumptionUpdate"],y);const g=c(n,["voiceActivityDetectionSignal"]);g!=null&&f(e,["voiceActivityDetectionSignal"],g);const v=c(n,["voiceActivity"]);return v!=null&&f(e,["voiceActivity"],Qb(v)),e}function Jb(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],Nb(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],Mb(d));const p=c(n,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],Na(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function Yb(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kb(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],Ub(d));const p=c(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],Lb(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}function Xb(n){const e={},i=c(n,["retrieval"]);i!=null&&f(e,["retrieval"],i);const s=c(n,["computerUse"]);if(s!=null&&f(e,["computerUse"],s),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const a=c(n,["codeExecution"]);a!=null&&f(e,["codeExecution"],a);const u=c(n,["enterpriseWebSearch"]);u!=null&&f(e,["enterpriseWebSearch"],u);const d=c(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>Db(T))),f(e,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&f(e,["googleMaps"],p);const y=c(n,["googleSearch"]);y!=null&&f(e,["googleSearch"],y);const g=c(n,["googleSearchRetrieval"]);g!=null&&f(e,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&f(e,["urlContext"],v),e}function $b(n){const e={},i=c(n,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const s=c(n,["cachedContentTokenCount"]);s!=null&&f(e,["cachedContentTokenCount"],s);const a=c(n,["candidatesTokenCount"]);a!=null&&f(e,["responseTokenCount"],a);const u=c(n,["toolUsePromptTokenCount"]);u!=null&&f(e,["toolUsePromptTokenCount"],u);const d=c(n,["thoughtsTokenCount"]);d!=null&&f(e,["thoughtsTokenCount"],d);const p=c(n,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const y=c(n,["promptTokensDetails"]);if(y!=null){let A=y;Array.isArray(A)&&(A=A.map(b=>b)),f(e,["promptTokensDetails"],A)}const g=c(n,["cacheTokensDetails"]);if(g!=null){let A=g;Array.isArray(A)&&(A=A.map(b=>b)),f(e,["cacheTokensDetails"],A)}const v=c(n,["candidatesTokensDetails"]);if(v!=null){let A=v;Array.isArray(A)&&(A=A.map(b=>b)),f(e,["responseTokensDetails"],A)}const E=c(n,["toolUsePromptTokensDetails"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(b=>b)),f(e,["toolUsePromptTokensDetails"],A)}const T=c(n,["trafficType"]);return T!=null&&f(e,["trafficType"],T),e}function Qb(n){const e={},i=c(n,["type"]);return i!=null&&f(e,["voiceActivityType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Wb(n,e){const i={},s=c(n,["data"]);if(s!=null&&f(i,["data"],s),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function Zb(n,e){const i={},s=c(n,["content"]);s!=null&&f(i,["content"],s);const a=c(n,["citationMetadata"]);a!=null&&f(i,["citationMetadata"],jb(a));const u=c(n,["tokenCount"]);u!=null&&f(i,["tokenCount"],u);const d=c(n,["finishReason"]);d!=null&&f(i,["finishReason"],d);const p=c(n,["avgLogprobs"]);p!=null&&f(i,["avgLogprobs"],p);const y=c(n,["groundingMetadata"]);y!=null&&f(i,["groundingMetadata"],y);const g=c(n,["index"]);g!=null&&f(i,["index"],g);const v=c(n,["logprobsResult"]);v!=null&&f(i,["logprobsResult"],v);const E=c(n,["safetyRatings"]);if(E!=null){let A=E;Array.isArray(A)&&(A=A.map(b=>b)),f(i,["safetyRatings"],A)}const T=c(n,["urlContextMetadata"]);return T!=null&&f(i,["urlContextMetadata"],T),i}function jb(n,e){const i={},s=c(n,["citationSources"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(i,["citations"],a)}return i}function eR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let d=Gt(u);Array.isArray(d)&&(d=d.map(p=>p)),f(s,["contents"],d)}return s}function tR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(i,["tokensInfo"],u)}return i}function nR(n,e){const i={},s=c(n,["values"]);s!=null&&f(i,["values"],s);const a=c(n,["statistics"]);return a!=null&&f(i,["statistics"],iR(a)),i}function iR(n,e){const i={},s=c(n,["truncated"]);s!=null&&f(i,["truncated"],s);const a=c(n,["token_count"]);return a!=null&&f(i,["tokenCount"],a),i}function Qa(n,e){const i={},s=c(n,["parts"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>fN(d))),f(i,["parts"],u)}const a=c(n,["role"]);return a!=null&&f(i,["role"],a),i}function oR(n,e){const i={},s=c(n,["controlType"]);s!=null&&f(i,["controlType"],s);const a=c(n,["enableControlImageComputation"]);return a!=null&&f(i,["computeControl"],a),i}function sR(n,e){const i={};if(c(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return i}function rR(n,e,i){const s={},a=c(n,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],rt(a));const u=c(n,["tools"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>Iv(y))),f(e,["tools"],p)}const d=c(n,["generationConfig"]);return e!==void 0&&d!=null&&f(e,["generationConfig"],WR(d)),s}function aR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let p=Gt(u);Array.isArray(p)&&(p=p.map(y=>Qa(y))),f(s,["contents"],p)}const d=c(e,["config"]);return d!=null&&sR(d),s}function lR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let p=Gt(u);Array.isArray(p)&&(p=p.map(y=>y)),f(s,["contents"],p)}const d=c(e,["config"]);return d!=null&&rR(d,s),s}function uR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["totalTokens"]);a!=null&&f(i,["totalTokens"],a);const u=c(n,["cachedContentTokenCount"]);return u!=null&&f(i,["cachedContentTokenCount"],u),i}function cR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["totalTokens"]);return a!=null&&f(i,["totalTokens"],a),i}function dR(n,e,i){const s={},a=c(e,["model"]);return a!=null&&f(s,["_url","name"],xe(n,a)),s}function fR(n,e,i){const s={},a=c(e,["model"]);return a!=null&&f(s,["_url","name"],xe(n,a)),s}function hR(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function pR(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function mR(n,e,i){const s={},a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&f(e,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const p=c(n,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&f(e,["parameters","guidanceScale"],y);const g=c(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const E=c(n,["personGeneration"]);e!==void 0&&E!=null&&f(e,["parameters","personGeneration"],E);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const A=c(n,["includeRaiReason"]);e!==void 0&&A!=null&&f(e,["parameters","includeRaiReason"],A);const b=c(n,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const U=c(n,["outputMimeType"]);e!==void 0&&U!=null&&f(e,["parameters","outputOptions","mimeType"],U);const D=c(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","compressionQuality"],D);const B=c(n,["addWatermark"]);e!==void 0&&B!=null&&f(e,["parameters","addWatermark"],B);const F=c(n,["labels"]);e!==void 0&&F!=null&&f(e,["labels"],F);const z=c(n,["editMode"]);e!==void 0&&z!=null&&f(e,["parameters","editMode"],z);const J=c(n,["baseSteps"]);return e!==void 0&&J!=null&&f(e,["parameters","editConfig","baseSteps"],J),s}function gR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["prompt"]);u!=null&&f(s,["instances[0]","prompt"],u);const d=c(e,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(g=>vN(g))),f(s,["instances[0]","referenceImages"],y)}const p=c(e,["config"]);return p!=null&&mR(p,s),s}function yR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Wa(d))),f(i,["generatedImages"],u)}return i}function vR(n,e,i){const s={},a=c(n,["taskType"]);e!==void 0&&a!=null&&f(e,["requests[]","taskType"],a);const u=c(n,["title"]);e!==void 0&&u!=null&&f(e,["requests[]","title"],u);const d=c(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&f(e,["requests[]","outputDimensionality"],d),c(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return s}function _R(n,e,i){const s={},a=c(n,["taskType"]);e!==void 0&&a!=null&&f(e,["instances[]","task_type"],a);const u=c(n,["title"]);e!==void 0&&u!=null&&f(e,["instances[]","title"],u);const d=c(n,["outputDimensionality"]);e!==void 0&&d!=null&&f(e,["parameters","outputDimensionality"],d);const p=c(n,["mimeType"]);e!==void 0&&p!=null&&f(e,["instances[]","mimeType"],p);const y=c(n,["autoTruncate"]);return e!==void 0&&y!=null&&f(e,["parameters","autoTruncate"],y),s}function TR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let y=Rd(n,u);Array.isArray(y)&&(y=y.map(g=>g)),f(s,["requests[]","content"],y)}const d=c(e,["config"]);d!=null&&vR(d,s);const p=c(e,["model"]);return p!==void 0&&f(s,["requests[]","model"],xe(n,p)),s}function ER(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let p=Rd(n,u);Array.isArray(p)&&(p=p.map(y=>y)),f(s,["instances[]","content"],p)}const d=c(e,["config"]);return d!=null&&_R(d,s),s}function SR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),f(i,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(i,["metadata"],u),i}function CR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>nR(p))),f(i,["embeddings"],d)}const u=c(n,["metadata"]);return u!=null&&f(i,["metadata"],u),i}function AR(n,e){const i={},s=c(n,["endpoint"]);s!=null&&f(i,["name"],s);const a=c(n,["deployedModelId"]);return a!=null&&f(i,["deployedModelId"],a),i}function xR(n,e){const i={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["fileUri"]);s!=null&&f(i,["fileUri"],s);const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function IR(n,e){const i={},s=c(n,["id"]);s!=null&&f(i,["id"],s);const a=c(n,["args"]);a!=null&&f(i,["args"],a);const u=c(n,["name"]);if(u!=null&&f(i,["name"],u),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return i}function wR(n,e){const i={},s=c(n,["allowedFunctionNames"]);s!=null&&f(i,["allowedFunctionNames"],s);const a=c(n,["mode"]);if(a!=null&&f(i,["mode"],a),c(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return i}function bR(n,e){const i={},s=c(n,["description"]);s!=null&&f(i,["description"],s);const a=c(n,["name"]);a!=null&&f(i,["name"],a);const u=c(n,["parameters"]);u!=null&&f(i,["parameters"],u);const d=c(n,["parametersJsonSchema"]);d!=null&&f(i,["parametersJsonSchema"],d);const p=c(n,["response"]);p!=null&&f(i,["response"],p);const y=c(n,["responseJsonSchema"]);if(y!=null&&f(i,["responseJsonSchema"],y),c(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return i}function RR(n,e,i,s){const a={},u=c(e,["systemInstruction"]);i!==void 0&&u!=null&&f(i,["systemInstruction"],Qa(rt(u)));const d=c(e,["temperature"]);d!=null&&f(a,["temperature"],d);const p=c(e,["topP"]);p!=null&&f(a,["topP"],p);const y=c(e,["topK"]);y!=null&&f(a,["topK"],y);const g=c(e,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const v=c(e,["maxOutputTokens"]);v!=null&&f(a,["maxOutputTokens"],v);const E=c(e,["stopSequences"]);E!=null&&f(a,["stopSequences"],E);const T=c(e,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const A=c(e,["logprobs"]);A!=null&&f(a,["logprobs"],A);const b=c(e,["presencePenalty"]);b!=null&&f(a,["presencePenalty"],b);const U=c(e,["frequencyPenalty"]);U!=null&&f(a,["frequencyPenalty"],U);const D=c(e,["seed"]);D!=null&&f(a,["seed"],D);const B=c(e,["responseMimeType"]);B!=null&&f(a,["responseMimeType"],B);const F=c(e,["responseSchema"]);F!=null&&f(a,["responseSchema"],Nd(F));const z=c(e,["responseJsonSchema"]);if(z!=null&&f(a,["responseJsonSchema"],z),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=c(e,["safetySettings"]);if(i!==void 0&&J!=null){let Ne=J;Array.isArray(Ne)&&(Ne=Ne.map(Je=>_N(Je))),f(i,["safetySettings"],Ne)}const H=c(e,["tools"]);if(i!==void 0&&H!=null){let Ne=Oo(H);Array.isArray(Ne)&&(Ne=Ne.map(Je=>IN(Po(Je)))),f(i,["tools"],Ne)}const ee=c(e,["toolConfig"]);if(i!==void 0&&ee!=null&&f(i,["toolConfig"],xN(ee)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=c(e,["cachedContent"]);i!==void 0&&K!=null&&f(i,["cachedContent"],Rn(n,K));const de=c(e,["responseModalities"]);de!=null&&f(a,["responseModalities"],de);const Q=c(e,["mediaResolution"]);Q!=null&&f(a,["mediaResolution"],Q);const ue=c(e,["speechConfig"]);if(ue!=null&&f(a,["speechConfig"],Md(ue)),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Ee=c(e,["thinkingConfig"]);Ee!=null&&f(a,["thinkingConfig"],Ee);const Ie=c(e,["imageConfig"]);Ie!=null&&f(a,["imageConfig"],nN(Ie));const Ue=c(e,["enableEnhancedCivicAnswers"]);if(Ue!=null&&f(a,["enableEnhancedCivicAnswers"],Ue),c(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function NR(n,e,i,s){const a={},u=c(e,["systemInstruction"]);i!==void 0&&u!=null&&f(i,["systemInstruction"],rt(u));const d=c(e,["temperature"]);d!=null&&f(a,["temperature"],d);const p=c(e,["topP"]);p!=null&&f(a,["topP"],p);const y=c(e,["topK"]);y!=null&&f(a,["topK"],y);const g=c(e,["candidateCount"]);g!=null&&f(a,["candidateCount"],g);const v=c(e,["maxOutputTokens"]);v!=null&&f(a,["maxOutputTokens"],v);const E=c(e,["stopSequences"]);E!=null&&f(a,["stopSequences"],E);const T=c(e,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const A=c(e,["logprobs"]);A!=null&&f(a,["logprobs"],A);const b=c(e,["presencePenalty"]);b!=null&&f(a,["presencePenalty"],b);const U=c(e,["frequencyPenalty"]);U!=null&&f(a,["frequencyPenalty"],U);const D=c(e,["seed"]);D!=null&&f(a,["seed"],D);const B=c(e,["responseMimeType"]);B!=null&&f(a,["responseMimeType"],B);const F=c(e,["responseSchema"]);F!=null&&f(a,["responseSchema"],Nd(F));const z=c(e,["responseJsonSchema"]);z!=null&&f(a,["responseJsonSchema"],z);const J=c(e,["routingConfig"]);J!=null&&f(a,["routingConfig"],J);const H=c(e,["modelSelectionConfig"]);H!=null&&f(a,["modelConfig"],H);const ee=c(e,["safetySettings"]);if(i!==void 0&&ee!=null){let ne=ee;Array.isArray(ne)&&(ne=ne.map(Z=>Z)),f(i,["safetySettings"],ne)}const K=c(e,["tools"]);if(i!==void 0&&K!=null){let ne=Oo(K);Array.isArray(ne)&&(ne=ne.map(Z=>Iv(Po(Z)))),f(i,["tools"],ne)}const de=c(e,["toolConfig"]);i!==void 0&&de!=null&&f(i,["toolConfig"],de);const Q=c(e,["labels"]);i!==void 0&&Q!=null&&f(i,["labels"],Q);const ue=c(e,["cachedContent"]);i!==void 0&&ue!=null&&f(i,["cachedContent"],Rn(n,ue));const Ee=c(e,["responseModalities"]);Ee!=null&&f(a,["responseModalities"],Ee);const Ie=c(e,["mediaResolution"]);Ie!=null&&f(a,["mediaResolution"],Ie);const Ue=c(e,["speechConfig"]);Ue!=null&&f(a,["speechConfig"],Md(Ue));const Ne=c(e,["audioTimestamp"]);Ne!=null&&f(a,["audioTimestamp"],Ne);const Je=c(e,["thinkingConfig"]);Je!=null&&f(a,["thinkingConfig"],Je);const P=c(e,["imageConfig"]);if(P!=null&&f(a,["imageConfig"],iN(P)),c(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=c(e,["modelArmorConfig"]);return i!==void 0&&X!=null&&f(i,["modelArmorConfig"],X),a}function F0(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let p=Gt(u);Array.isArray(p)&&(p=p.map(y=>Qa(y))),f(s,["contents"],p)}const d=c(e,["config"]);return d!=null&&f(s,["generationConfig"],RR(n,d,s)),s}function J0(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["contents"]);if(u!=null){let p=Gt(u);Array.isArray(p)&&(p=p.map(y=>y)),f(s,["contents"],p)}const d=c(e,["config"]);return d!=null&&f(s,["generationConfig"],NR(n,d,s)),s}function Y0(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>Zb(v))),f(i,["candidates"],g)}const u=c(n,["modelVersion"]);u!=null&&f(i,["modelVersion"],u);const d=c(n,["promptFeedback"]);d!=null&&f(i,["promptFeedback"],d);const p=c(n,["responseId"]);p!=null&&f(i,["responseId"],p);const y=c(n,["usageMetadata"]);return y!=null&&f(i,["usageMetadata"],y),i}function K0(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["candidates"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(E=>E)),f(i,["candidates"],v)}const u=c(n,["createTime"]);u!=null&&f(i,["createTime"],u);const d=c(n,["modelVersion"]);d!=null&&f(i,["modelVersion"],d);const p=c(n,["promptFeedback"]);p!=null&&f(i,["promptFeedback"],p);const y=c(n,["responseId"]);y!=null&&f(i,["responseId"],y);const g=c(n,["usageMetadata"]);return g!=null&&f(i,["usageMetadata"],g),i}function MR(n,e,i){const s={};if(c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=c(n,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const u=c(n,["aspectRatio"]);e!==void 0&&u!=null&&f(e,["parameters","aspectRatio"],u);const d=c(n,["guidanceScale"]);if(e!==void 0&&d!=null&&f(e,["parameters","guidanceScale"],d),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=c(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&f(e,["parameters","safetySetting"],p);const y=c(n,["personGeneration"]);e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y);const g=c(n,["includeSafetyAttributes"]);e!==void 0&&g!=null&&f(e,["parameters","includeSafetyAttributes"],g);const v=c(n,["includeRaiReason"]);e!==void 0&&v!=null&&f(e,["parameters","includeRaiReason"],v);const E=c(n,["language"]);e!==void 0&&E!=null&&f(e,["parameters","language"],E);const T=c(n,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const A=c(n,["outputCompressionQuality"]);if(e!==void 0&&A!=null&&f(e,["parameters","outputOptions","compressionQuality"],A),c(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const b=c(n,["imageSize"]);if(e!==void 0&&b!=null&&f(e,["parameters","sampleImageSize"],b),c(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return s}function DR(n,e,i){const s={},a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(n,["negativePrompt"]);e!==void 0&&u!=null&&f(e,["parameters","negativePrompt"],u);const d=c(n,["numberOfImages"]);e!==void 0&&d!=null&&f(e,["parameters","sampleCount"],d);const p=c(n,["aspectRatio"]);e!==void 0&&p!=null&&f(e,["parameters","aspectRatio"],p);const y=c(n,["guidanceScale"]);e!==void 0&&y!=null&&f(e,["parameters","guidanceScale"],y);const g=c(n,["seed"]);e!==void 0&&g!=null&&f(e,["parameters","seed"],g);const v=c(n,["safetyFilterLevel"]);e!==void 0&&v!=null&&f(e,["parameters","safetySetting"],v);const E=c(n,["personGeneration"]);e!==void 0&&E!=null&&f(e,["parameters","personGeneration"],E);const T=c(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&f(e,["parameters","includeSafetyAttributes"],T);const A=c(n,["includeRaiReason"]);e!==void 0&&A!=null&&f(e,["parameters","includeRaiReason"],A);const b=c(n,["language"]);e!==void 0&&b!=null&&f(e,["parameters","language"],b);const U=c(n,["outputMimeType"]);e!==void 0&&U!=null&&f(e,["parameters","outputOptions","mimeType"],U);const D=c(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&f(e,["parameters","outputOptions","compressionQuality"],D);const B=c(n,["addWatermark"]);e!==void 0&&B!=null&&f(e,["parameters","addWatermark"],B);const F=c(n,["labels"]);e!==void 0&&F!=null&&f(e,["labels"],F);const z=c(n,["imageSize"]);e!==void 0&&z!=null&&f(e,["parameters","sampleImageSize"],z);const J=c(n,["enhancePrompt"]);return e!==void 0&&J!=null&&f(e,["parameters","enhancePrompt"],J),s}function kR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["prompt"]);u!=null&&f(s,["instances[0]","prompt"],u);const d=c(e,["config"]);return d!=null&&MR(d,s),s}function UR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["prompt"]);u!=null&&f(s,["instances[0]","prompt"],u);const d=c(e,["config"]);return d!=null&&DR(d,s),s}function LR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>KR(p))),f(i,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(i,["positivePromptSafetyAttributes"],Av(u)),i}function PR(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Wa(p))),f(i,["generatedImages"],d)}const u=c(n,["positivePromptSafetyAttributes"]);return u!=null&&f(i,["positivePromptSafetyAttributes"],xv(u)),i}function OR(n,e,i){const s={},a=c(n,["numberOfVideos"]);if(e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a),c(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=c(n,["durationSeconds"]);if(e!==void 0&&u!=null&&f(e,["parameters","durationSeconds"],u),c(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=c(n,["aspectRatio"]);e!==void 0&&d!=null&&f(e,["parameters","aspectRatio"],d);const p=c(n,["resolution"]);e!==void 0&&p!=null&&f(e,["parameters","resolution"],p);const y=c(n,["personGeneration"]);if(e!==void 0&&y!=null&&f(e,["parameters","personGeneration"],y),c(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=c(n,["negativePrompt"]);e!==void 0&&g!=null&&f(e,["parameters","negativePrompt"],g);const v=c(n,["enhancePrompt"]);if(e!==void 0&&v!=null&&f(e,["parameters","enhancePrompt"],v),c(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const E=c(n,["lastFrame"]);e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],Za(E));const T=c(n,["referenceImages"]);if(e!==void 0&&T!=null){let A=T;Array.isArray(A)&&(A=A.map(b=>VN(b))),f(e,["instances[0]","referenceImages"],A)}if(c(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(c(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return s}function HR(n,e,i){const s={},a=c(n,["numberOfVideos"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const u=c(n,["outputGcsUri"]);e!==void 0&&u!=null&&f(e,["parameters","storageUri"],u);const d=c(n,["fps"]);e!==void 0&&d!=null&&f(e,["parameters","fps"],d);const p=c(n,["durationSeconds"]);e!==void 0&&p!=null&&f(e,["parameters","durationSeconds"],p);const y=c(n,["seed"]);e!==void 0&&y!=null&&f(e,["parameters","seed"],y);const g=c(n,["aspectRatio"]);e!==void 0&&g!=null&&f(e,["parameters","aspectRatio"],g);const v=c(n,["resolution"]);e!==void 0&&v!=null&&f(e,["parameters","resolution"],v);const E=c(n,["personGeneration"]);e!==void 0&&E!=null&&f(e,["parameters","personGeneration"],E);const T=c(n,["pubsubTopic"]);e!==void 0&&T!=null&&f(e,["parameters","pubsubTopic"],T);const A=c(n,["negativePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","negativePrompt"],A);const b=c(n,["enhancePrompt"]);e!==void 0&&b!=null&&f(e,["parameters","enhancePrompt"],b);const U=c(n,["generateAudio"]);e!==void 0&&U!=null&&f(e,["parameters","generateAudio"],U);const D=c(n,["lastFrame"]);e!==void 0&&D!=null&&f(e,["instances[0]","lastFrame"],Qt(D));const B=c(n,["referenceImages"]);if(e!==void 0&&B!=null){let J=B;Array.isArray(J)&&(J=J.map(H=>GN(H))),f(e,["instances[0]","referenceImages"],J)}const F=c(n,["mask"]);e!==void 0&&F!=null&&f(e,["instances[0]","mask"],HN(F));const z=c(n,["compressionQuality"]);return e!==void 0&&z!=null&&f(e,["parameters","compressionQuality"],z),s}function VR(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const a=c(n,["metadata"]);a!=null&&f(i,["metadata"],a);const u=c(n,["done"]);u!=null&&f(i,["done"],u);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const p=c(n,["response","generateVideoResponse"]);return p!=null&&f(i,["response"],zR(p)),i}function GR(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const a=c(n,["metadata"]);a!=null&&f(i,["metadata"],a);const u=c(n,["done"]);u!=null&&f(i,["done"],u);const d=c(n,["error"]);d!=null&&f(i,["error"],d);const p=c(n,["response"]);return p!=null&&f(i,["response"],FR(p)),i}function BR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["prompt"]);u!=null&&f(s,["instances[0]","prompt"],u);const d=c(e,["image"]);d!=null&&f(s,["instances[0]","image"],Za(d));const p=c(e,["video"]);p!=null&&f(s,["instances[0]","video"],wv(p));const y=c(e,["source"]);y!=null&&JR(y,s);const g=c(e,["config"]);return g!=null&&OR(g,s),s}function qR(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["prompt"]);u!=null&&f(s,["instances[0]","prompt"],u);const d=c(e,["image"]);d!=null&&f(s,["instances[0]","image"],Qt(d));const p=c(e,["video"]);p!=null&&f(s,["instances[0]","video"],bv(p));const y=c(e,["source"]);y!=null&&YR(y,s);const g=c(e,["config"]);return g!=null&&HR(g,s),s}function zR(n,e){const i={},s=c(n,["generatedSamples"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>$R(p))),f(i,["generatedVideos"],d)}const a=c(n,["raiMediaFilteredCount"]);a!=null&&f(i,["raiMediaFilteredCount"],a);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(i,["raiMediaFilteredReasons"],u),i}function FR(n,e){const i={},s=c(n,["videos"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(p=>QR(p))),f(i,["generatedVideos"],d)}const a=c(n,["raiMediaFilteredCount"]);a!=null&&f(i,["raiMediaFilteredCount"],a);const u=c(n,["raiMediaFilteredReasons"]);return u!=null&&f(i,["raiMediaFilteredReasons"],u),i}function JR(n,e,i){const s={},a=c(n,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const u=c(n,["image"]);e!==void 0&&u!=null&&f(e,["instances[0]","image"],Za(u));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],wv(d)),s}function YR(n,e,i){const s={},a=c(n,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const u=c(n,["image"]);e!==void 0&&u!=null&&f(e,["instances[0]","image"],Qt(u));const d=c(n,["video"]);return e!==void 0&&d!=null&&f(e,["instances[0]","video"],bv(d)),s}function KR(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["image"],oN(s));const a=c(n,["raiFilteredReason"]);a!=null&&f(i,["raiFilteredReason"],a);const u=c(n,["_self"]);return u!=null&&f(i,["safetyAttributes"],Av(u)),i}function Wa(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["image"],Cv(s));const a=c(n,["raiFilteredReason"]);a!=null&&f(i,["raiFilteredReason"],a);const u=c(n,["_self"]);u!=null&&f(i,["safetyAttributes"],xv(u));const d=c(n,["prompt"]);return d!=null&&f(i,["enhancedPrompt"],d),i}function XR(n,e){const i={},s=c(n,["_self"]);s!=null&&f(i,["mask"],Cv(s));const a=c(n,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(i,["labels"],u)}return i}function $R(n,e){const i={},s=c(n,["video"]);return s!=null&&f(i,["video"],PN(s)),i}function QR(n,e){const i={},s=c(n,["_self"]);return s!=null&&f(i,["video"],ON(s)),i}function WR(n,e){const i={},s=c(n,["modelSelectionConfig"]);s!=null&&f(i,["modelConfig"],s);const a=c(n,["responseJsonSchema"]);a!=null&&f(i,["responseJsonSchema"],a);const u=c(n,["audioTimestamp"]);u!=null&&f(i,["audioTimestamp"],u);const d=c(n,["candidateCount"]);d!=null&&f(i,["candidateCount"],d);const p=c(n,["enableAffectiveDialog"]);p!=null&&f(i,["enableAffectiveDialog"],p);const y=c(n,["frequencyPenalty"]);y!=null&&f(i,["frequencyPenalty"],y);const g=c(n,["logprobs"]);g!=null&&f(i,["logprobs"],g);const v=c(n,["maxOutputTokens"]);v!=null&&f(i,["maxOutputTokens"],v);const E=c(n,["mediaResolution"]);E!=null&&f(i,["mediaResolution"],E);const T=c(n,["presencePenalty"]);T!=null&&f(i,["presencePenalty"],T);const A=c(n,["responseLogprobs"]);A!=null&&f(i,["responseLogprobs"],A);const b=c(n,["responseMimeType"]);b!=null&&f(i,["responseMimeType"],b);const U=c(n,["responseModalities"]);U!=null&&f(i,["responseModalities"],U);const D=c(n,["responseSchema"]);D!=null&&f(i,["responseSchema"],D);const B=c(n,["routingConfig"]);B!=null&&f(i,["routingConfig"],B);const F=c(n,["seed"]);F!=null&&f(i,["seed"],F);const z=c(n,["speechConfig"]);z!=null&&f(i,["speechConfig"],z);const J=c(n,["stopSequences"]);J!=null&&f(i,["stopSequences"],J);const H=c(n,["temperature"]);H!=null&&f(i,["temperature"],H);const ee=c(n,["thinkingConfig"]);ee!=null&&f(i,["thinkingConfig"],ee);const K=c(n,["topK"]);K!=null&&f(i,["topK"],K);const de=c(n,["topP"]);if(de!=null&&f(i,["topP"],de),c(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function ZR(n,e,i){const s={},a=c(e,["model"]);return a!=null&&f(s,["_url","name"],xe(n,a)),s}function jR(n,e,i){const s={},a=c(e,["model"]);return a!=null&&f(s,["_url","name"],xe(n,a)),s}function eN(n,e){const i={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const s=c(n,["enableWidget"]);return s!=null&&f(i,["enableWidget"],s),i}function tN(n,e){const i={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const s=c(n,["timeRangeFilter"]);return s!=null&&f(i,["timeRangeFilter"],s),i}function nN(n,e){const i={},s=c(n,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const a=c(n,["imageSize"]);if(a!=null&&f(i,["imageSize"],a),c(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(c(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(c(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return i}function iN(n,e){const i={},s=c(n,["aspectRatio"]);s!=null&&f(i,["aspectRatio"],s);const a=c(n,["imageSize"]);a!=null&&f(i,["imageSize"],a);const u=c(n,["personGeneration"]);u!=null&&f(i,["personGeneration"],u);const d=c(n,["outputMimeType"]);d!=null&&f(i,["imageOutputOptions","mimeType"],d);const p=c(n,["outputCompressionQuality"]);return p!=null&&f(i,["imageOutputOptions","compressionQuality"],p),i}function oN(n,e){const i={},s=c(n,["bytesBase64Encoded"]);s!=null&&f(i,["imageBytes"],fi(s));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function Cv(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const a=c(n,["bytesBase64Encoded"]);a!=null&&f(i,["imageBytes"],fi(a));const u=c(n,["mimeType"]);return u!=null&&f(i,["mimeType"],u),i}function Za(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const s=c(n,["imageBytes"]);s!=null&&f(i,["bytesBase64Encoded"],fi(s));const a=c(n,["mimeType"]);return a!=null&&f(i,["mimeType"],a),i}function Qt(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["gcsUri"],s);const a=c(n,["imageBytes"]);a!=null&&f(i,["bytesBase64Encoded"],fi(a));const u=c(n,["mimeType"]);return u!=null&&f(i,["mimeType"],u),i}function sN(n,e,i,s){const a={},u=c(e,["pageSize"]);i!==void 0&&u!=null&&f(i,["_query","pageSize"],u);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const p=c(e,["filter"]);i!==void 0&&p!=null&&f(i,["_query","filter"],p);const y=c(e,["queryBase"]);return i!==void 0&&y!=null&&f(i,["_url","models_url"],gv(n,y)),a}function rN(n,e,i,s){const a={},u=c(e,["pageSize"]);i!==void 0&&u!=null&&f(i,["_query","pageSize"],u);const d=c(e,["pageToken"]);i!==void 0&&d!=null&&f(i,["_query","pageToken"],d);const p=c(e,["filter"]);i!==void 0&&p!=null&&f(i,["_query","filter"],p);const y=c(e,["queryBase"]);return i!==void 0&&y!=null&&f(i,["_url","models_url"],gv(n,y)),a}function aN(n,e,i){const s={},a=c(e,["config"]);return a!=null&&sN(n,a,s),s}function lN(n,e,i){const s={},a=c(e,["config"]);return a!=null&&rN(n,a,s),s}function uN(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(n,["_self"]);if(u!=null){let d=yv(u);Array.isArray(d)&&(d=d.map(p=>td(p))),f(i,["models"],d)}return i}function cN(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(n,["_self"]);if(u!=null){let d=yv(u);Array.isArray(d)&&(d=d.map(p=>nd(p))),f(i,["models"],d)}return i}function dN(n,e){const i={},s=c(n,["maskMode"]);s!=null&&f(i,["maskMode"],s);const a=c(n,["segmentationClasses"]);a!=null&&f(i,["maskClasses"],a);const u=c(n,["maskDilation"]);return u!=null&&f(i,["dilation"],u),i}function td(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const a=c(n,["displayName"]);a!=null&&f(i,["displayName"],a);const u=c(n,["description"]);u!=null&&f(i,["description"],u);const d=c(n,["version"]);d!=null&&f(i,["version"],d);const p=c(n,["_self"]);p!=null&&f(i,["tunedModelInfo"],wN(p));const y=c(n,["inputTokenLimit"]);y!=null&&f(i,["inputTokenLimit"],y);const g=c(n,["outputTokenLimit"]);g!=null&&f(i,["outputTokenLimit"],g);const v=c(n,["supportedGenerationMethods"]);v!=null&&f(i,["supportedActions"],v);const E=c(n,["temperature"]);E!=null&&f(i,["temperature"],E);const T=c(n,["maxTemperature"]);T!=null&&f(i,["maxTemperature"],T);const A=c(n,["topP"]);A!=null&&f(i,["topP"],A);const b=c(n,["topK"]);b!=null&&f(i,["topK"],b);const U=c(n,["thinking"]);return U!=null&&f(i,["thinking"],U),i}function nd(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["name"],s);const a=c(n,["displayName"]);a!=null&&f(i,["displayName"],a);const u=c(n,["description"]);u!=null&&f(i,["description"],u);const d=c(n,["versionId"]);d!=null&&f(i,["version"],d);const p=c(n,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(A=>AR(A))),f(i,["endpoints"],T)}const y=c(n,["labels"]);y!=null&&f(i,["labels"],y);const g=c(n,["_self"]);g!=null&&f(i,["tunedModelInfo"],bN(g));const v=c(n,["defaultCheckpointId"]);v!=null&&f(i,["defaultCheckpointId"],v);const E=c(n,["checkpoints"]);if(E!=null){let T=E;Array.isArray(T)&&(T=T.map(A=>A)),f(i,["checkpoints"],T)}return i}function fN(n,e){const i={},s=c(n,["mediaResolution"]);s!=null&&f(i,["mediaResolution"],s);const a=c(n,["codeExecutionResult"]);a!=null&&f(i,["codeExecutionResult"],a);const u=c(n,["executableCode"]);u!=null&&f(i,["executableCode"],u);const d=c(n,["fileData"]);d!=null&&f(i,["fileData"],xR(d));const p=c(n,["functionCall"]);p!=null&&f(i,["functionCall"],IR(p));const y=c(n,["functionResponse"]);y!=null&&f(i,["functionResponse"],y);const g=c(n,["inlineData"]);g!=null&&f(i,["inlineData"],Wb(g));const v=c(n,["text"]);v!=null&&f(i,["text"],v);const E=c(n,["thought"]);E!=null&&f(i,["thought"],E);const T=c(n,["thoughtSignature"]);T!=null&&f(i,["thoughtSignature"],T);const A=c(n,["videoMetadata"]);return A!=null&&f(i,["videoMetadata"],A),i}function hN(n,e){const i={},s=c(n,["productImage"]);return s!=null&&f(i,["image"],Qt(s)),i}function pN(n,e,i){const s={},a=c(n,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const u=c(n,["baseSteps"]);e!==void 0&&u!=null&&f(e,["parameters","baseSteps"],u);const d=c(n,["outputGcsUri"]);e!==void 0&&d!=null&&f(e,["parameters","storageUri"],d);const p=c(n,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const y=c(n,["safetyFilterLevel"]);e!==void 0&&y!=null&&f(e,["parameters","safetySetting"],y);const g=c(n,["personGeneration"]);e!==void 0&&g!=null&&f(e,["parameters","personGeneration"],g);const v=c(n,["addWatermark"]);e!==void 0&&v!=null&&f(e,["parameters","addWatermark"],v);const E=c(n,["outputMimeType"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","mimeType"],E);const T=c(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","compressionQuality"],T);const A=c(n,["enhancePrompt"]);e!==void 0&&A!=null&&f(e,["parameters","enhancePrompt"],A);const b=c(n,["labels"]);return e!==void 0&&b!=null&&f(e,["labels"],b),s}function mN(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["source"]);u!=null&&yN(u,s);const d=c(e,["config"]);return d!=null&&pN(d,s),s}function gN(n,e){const i={},s=c(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>Wa(u))),f(i,["generatedImages"],a)}return i}function yN(n,e,i){const s={},a=c(n,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const u=c(n,["personImage"]);e!==void 0&&u!=null&&f(e,["instances[0]","personImage","image"],Qt(u));const d=c(n,["productImages"]);if(e!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(y=>hN(y))),f(e,["instances[0]","productImages"],p)}return s}function vN(n,e){const i={},s=c(n,["referenceImage"]);s!=null&&f(i,["referenceImage"],Qt(s));const a=c(n,["referenceId"]);a!=null&&f(i,["referenceId"],a);const u=c(n,["referenceType"]);u!=null&&f(i,["referenceType"],u);const d=c(n,["maskImageConfig"]);d!=null&&f(i,["maskImageConfig"],dN(d));const p=c(n,["controlImageConfig"]);p!=null&&f(i,["controlImageConfig"],oR(p));const y=c(n,["styleImageConfig"]);y!=null&&f(i,["styleImageConfig"],y);const g=c(n,["subjectImageConfig"]);return g!=null&&f(i,["subjectImageConfig"],g),i}function Av(n,e){const i={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const a=c(n,["safetyAttributes","scores"]);a!=null&&f(i,["scores"],a);const u=c(n,["contentType"]);return u!=null&&f(i,["contentType"],u),i}function xv(n,e){const i={},s=c(n,["safetyAttributes","categories"]);s!=null&&f(i,["categories"],s);const a=c(n,["safetyAttributes","scores"]);a!=null&&f(i,["scores"],a);const u=c(n,["contentType"]);return u!=null&&f(i,["contentType"],u),i}function _N(n,e){const i={},s=c(n,["category"]);if(s!=null&&f(i,["category"],s),c(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(n,["threshold"]);return a!=null&&f(i,["threshold"],a),i}function TN(n,e){const i={},s=c(n,["image"]);return s!=null&&f(i,["image"],Qt(s)),i}function EN(n,e,i){const s={},a=c(n,["mode"]);e!==void 0&&a!=null&&f(e,["parameters","mode"],a);const u=c(n,["maxPredictions"]);e!==void 0&&u!=null&&f(e,["parameters","maxPredictions"],u);const d=c(n,["confidenceThreshold"]);e!==void 0&&d!=null&&f(e,["parameters","confidenceThreshold"],d);const p=c(n,["maskDilation"]);e!==void 0&&p!=null&&f(e,["parameters","maskDilation"],p);const y=c(n,["binaryColorThreshold"]);e!==void 0&&y!=null&&f(e,["parameters","binaryColorThreshold"],y);const g=c(n,["labels"]);return e!==void 0&&g!=null&&f(e,["labels"],g),s}function SN(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["source"]);u!=null&&AN(u,s);const d=c(e,["config"]);return d!=null&&EN(d,s),s}function CN(n,e){const i={},s=c(n,["predictions"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>XR(u))),f(i,["generatedMasks"],a)}return i}function AN(n,e,i){const s={},a=c(n,["prompt"]);e!==void 0&&a!=null&&f(e,["instances[0]","prompt"],a);const u=c(n,["image"]);e!==void 0&&u!=null&&f(e,["instances[0]","image"],Qt(u));const d=c(n,["scribbleImage"]);return e!==void 0&&d!=null&&f(e,["instances[0]","scribble"],TN(d)),s}function xN(n,e){const i={},s=c(n,["retrievalConfig"]);s!=null&&f(i,["retrievalConfig"],s);const a=c(n,["functionCallingConfig"]);return a!=null&&f(i,["functionCallingConfig"],wR(a)),i}function IN(n,e){const i={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(n,["computerUse"]);s!=null&&f(i,["computerUse"],s);const a=c(n,["fileSearch"]);a!=null&&f(i,["fileSearch"],a);const u=c(n,["codeExecution"]);if(u!=null&&f(i,["codeExecution"],u),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=c(n,["functionDeclarations"]);if(d!=null){let E=d;Array.isArray(E)&&(E=E.map(T=>T)),f(i,["functionDeclarations"],E)}const p=c(n,["googleMaps"]);p!=null&&f(i,["googleMaps"],eN(p));const y=c(n,["googleSearch"]);y!=null&&f(i,["googleSearch"],tN(y));const g=c(n,["googleSearchRetrieval"]);g!=null&&f(i,["googleSearchRetrieval"],g);const v=c(n,["urlContext"]);return v!=null&&f(i,["urlContext"],v),i}function Iv(n,e){const i={},s=c(n,["retrieval"]);s!=null&&f(i,["retrieval"],s);const a=c(n,["computerUse"]);if(a!=null&&f(i,["computerUse"],a),c(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const u=c(n,["codeExecution"]);u!=null&&f(i,["codeExecution"],u);const d=c(n,["enterpriseWebSearch"]);d!=null&&f(i,["enterpriseWebSearch"],d);const p=c(n,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(A=>bR(A))),f(i,["functionDeclarations"],T)}const y=c(n,["googleMaps"]);y!=null&&f(i,["googleMaps"],y);const g=c(n,["googleSearch"]);g!=null&&f(i,["googleSearch"],g);const v=c(n,["googleSearchRetrieval"]);v!=null&&f(i,["googleSearchRetrieval"],v);const E=c(n,["urlContext"]);return E!=null&&f(i,["urlContext"],E),i}function wN(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(n,["createTime"]);a!=null&&f(i,["createTime"],a);const u=c(n,["updateTime"]);return u!=null&&f(i,["updateTime"],u),i}function bN(n,e){const i={},s=c(n,["labels","google-vertex-llm-tuning-base-model-id"]);s!=null&&f(i,["baseModel"],s);const a=c(n,["createTime"]);a!=null&&f(i,["createTime"],a);const u=c(n,["updateTime"]);return u!=null&&f(i,["updateTime"],u),i}function RN(n,e,i){const s={},a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(n,["description"]);e!==void 0&&u!=null&&f(e,["description"],u);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),s}function NN(n,e,i){const s={},a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(n,["description"]);e!==void 0&&u!=null&&f(e,["description"],u);const d=c(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&f(e,["defaultCheckpointId"],d),s}function MN(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","name"],xe(n,a));const u=c(e,["config"]);return u!=null&&RN(u,s),s}function DN(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["config"]);return u!=null&&NN(u,s),s}function kN(n,e,i){const s={},a=c(n,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const u=c(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&f(e,["parameters","safetySetting"],u);const d=c(n,["personGeneration"]);e!==void 0&&d!=null&&f(e,["parameters","personGeneration"],d);const p=c(n,["includeRaiReason"]);e!==void 0&&p!=null&&f(e,["parameters","includeRaiReason"],p);const y=c(n,["outputMimeType"]);e!==void 0&&y!=null&&f(e,["parameters","outputOptions","mimeType"],y);const g=c(n,["outputCompressionQuality"]);e!==void 0&&g!=null&&f(e,["parameters","outputOptions","compressionQuality"],g);const v=c(n,["enhanceInputImage"]);e!==void 0&&v!=null&&f(e,["parameters","upscaleConfig","enhanceInputImage"],v);const E=c(n,["imagePreservationFactor"]);e!==void 0&&E!=null&&f(e,["parameters","upscaleConfig","imagePreservationFactor"],E);const T=c(n,["labels"]);e!==void 0&&T!=null&&f(e,["labels"],T);const A=c(n,["numberOfImages"]);e!==void 0&&A!=null&&f(e,["parameters","sampleCount"],A);const b=c(n,["mode"]);return e!==void 0&&b!=null&&f(e,["parameters","mode"],b),s}function UN(n,e,i){const s={},a=c(e,["model"]);a!=null&&f(s,["_url","model"],xe(n,a));const u=c(e,["image"]);u!=null&&f(s,["instances[0]","image"],Qt(u));const d=c(e,["upscaleFactor"]);d!=null&&f(s,["parameters","upscaleConfig","upscaleFactor"],d);const p=c(e,["config"]);return p!=null&&kN(p,s),s}function LN(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Wa(d))),f(i,["generatedImages"],u)}return i}function PN(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["uri"],s);const a=c(n,["encodedVideo"]);a!=null&&f(i,["videoBytes"],fi(a));const u=c(n,["encoding"]);return u!=null&&f(i,["mimeType"],u),i}function ON(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["uri"],s);const a=c(n,["bytesBase64Encoded"]);a!=null&&f(i,["videoBytes"],fi(a));const u=c(n,["mimeType"]);return u!=null&&f(i,["mimeType"],u),i}function HN(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["_self"],Qt(s));const a=c(n,["maskMode"]);return a!=null&&f(i,["maskMode"],a),i}function VN(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["image"],Za(s));const a=c(n,["referenceType"]);return a!=null&&f(i,["referenceType"],a),i}function GN(n,e){const i={},s=c(n,["image"]);s!=null&&f(i,["image"],Qt(s));const a=c(n,["referenceType"]);return a!=null&&f(i,["referenceType"],a),i}function wv(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["uri"],s);const a=c(n,["videoBytes"]);a!=null&&f(i,["encodedVideo"],fi(a));const u=c(n,["mimeType"]);return u!=null&&f(i,["encoding"],u),i}function bv(n,e){const i={},s=c(n,["uri"]);s!=null&&f(i,["gcsUri"],s);const a=c(n,["videoBytes"]);a!=null&&f(i,["bytesBase64Encoded"],fi(a));const u=c(n,["mimeType"]);return u!=null&&f(i,["mimeType"],u),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BN(n,e){const i={},s=c(n,["displayName"]);return e!==void 0&&s!=null&&f(e,["displayName"],s),i}function qN(n){const e={},i=c(n,["config"]);return i!=null&&BN(i,e),e}function zN(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function FN(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&zN(s,e),e}function JN(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function YN(n,e){const i={},s=c(n,["customMetadata"]);if(e!==void 0&&s!=null){let u=s;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["customMetadata"],u)}const a=c(n,["chunkingConfig"]);return e!==void 0&&a!=null&&f(e,["chunkingConfig"],a),i}function KN(n){const e={},i=c(n,["name"]);i!=null&&f(e,["name"],i);const s=c(n,["metadata"]);s!=null&&f(e,["metadata"],s);const a=c(n,["done"]);a!=null&&f(e,["done"],a);const u=c(n,["error"]);u!=null&&f(e,["error"],u);const d=c(n,["response"]);return d!=null&&f(e,["response"],$N(d)),e}function XN(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(n,["fileName"]);s!=null&&f(e,["fileName"],s);const a=c(n,["config"]);return a!=null&&YN(a,e),e}function $N(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["parent"]);s!=null&&f(e,["parent"],s);const a=c(n,["documentName"]);return a!=null&&f(e,["documentName"],a),e}function QN(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function WN(n){const e={},i=c(n,["config"]);return i!=null&&QN(i,e),e}function ZN(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["fileSearchStores"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["fileSearchStores"],u)}return e}function Rv(n,e){const i={},s=c(n,["mimeType"]);e!==void 0&&s!=null&&f(e,["mimeType"],s);const a=c(n,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const u=c(n,["customMetadata"]);if(e!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(y=>y)),f(e,["customMetadata"],p)}const d=c(n,["chunkingConfig"]);return e!==void 0&&d!=null&&f(e,["chunkingConfig"],d),i}function jN(n){const e={},i=c(n,["fileSearchStoreName"]);i!=null&&f(e,["_url","file_search_store_name"],i);const s=c(n,["config"]);return s!=null&&Rv(s,e),e}function e1(n){const e={},i=c(n,["sdkHttpResponse"]);return i!=null&&f(e,["sdkHttpResponse"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t1="Content-Type",n1="X-Server-Timeout",i1="User-Agent",id="x-goog-api-client",o1="1.39.0",s1=`google-genai-sdk/${o1}`,r1="v1beta1",a1="v1beta";class l1{constructor(e){var i,s,a;this.clientOptions=Object.assign({},e),this.customBaseUrl=(i=e.httpOptions)===null||i===void 0?void 0:i.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const u={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const p=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!p?(u.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?u.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(u.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),u.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:r1}else{if(!this.clientOptions.apiKey)throw new Js({message:"API key must be set when using the Gemini API.",status:403});u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:a1,u.baseUrl="https://generativelanguage.googleapis.com/"}u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,s){const a=[this.getRequestUrlInternal(i)];return s&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e,i){return!(i.baseUrl&&i.baseUrlResourceScope===Wc.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);if(e.queryParams)for(const[d,p]of Object.entries(e.queryParams))a.searchParams.append(d,String(p));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.unaryApiCall(a,u,e.httpMethod)}patchHttpOptions(e,i){const s=JSON.parse(JSON.stringify(e));for(const[a,u]of Object.entries(i))typeof u=="object"?s[a]=Object.assign(Object.assign({},s[a]),u):u!==void 0&&(s[a]=u);return s}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e,i),a=this.constructUrl(e.path,i,s);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,i,a.toString(),e.abortSignal),this.streamApiCall(a,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,s,a){if(i&&i.timeout||a){const u=new AbortController,d=u.signal;if(i.timeout&&(i==null?void 0:i.timeout)>0){const p=setTimeout(()=>u.abort(),i.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{u.abort()}),e.signal=d}return i&&i.extraBody!==null&&u1(e,i.extraBody),e.headers=await this.getHeadersInternal(i,s),e}async unaryApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await X0(a),new Zc(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,i,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:s})).then(async a=>(await X0(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Kt(this,arguments,function*(){var s;const a=(s=e==null?void 0:e.body)===null||s===void 0?void 0:s.getReader(),u=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let d="";const p="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield ce(a.read());if(g){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=u.decode(v,{stream:!0});try{const b=JSON.parse(E);if("error"in b){const U=JSON.parse(JSON.stringify(b.error)),D=U.status,B=U.code,F=`got status: ${D}. ${JSON.stringify(b)}`;if(B>=400&&B<600)throw new Js({message:F,status:B})}}catch(b){if(b.name==="ApiError")throw b}d+=E;let T=-1,A=0;for(;;){T=-1,A=0;for(const D of y){const B=d.indexOf(D);B!==-1&&(T===-1||B<T)&&(T=B,A=D.length)}if(T===-1)break;const b=d.substring(0,T);d=d.substring(T+A);const U=b.trim();if(U.startsWith(p)){const D=U.substring(p.length).trim();try{const B=new Response(D,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ce(new Zc(B))}catch(B){throw new Error(`exception parsing stream chunk ${D}. ${B}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},i=s1+" "+this.clientOptions.userAgentExtra;return e[i1]=i,e[id]=i,e[t1]="application/json",e}async getHeadersInternal(e,i){const s=new Headers;if(e&&e.headers){for(const[a,u]of Object.entries(e.headers))s.append(a,u);e.timeout&&e.timeout>0&&s.append(n1,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,i),s}getFileName(e){var i;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(i=s.split(/[/\\]/).pop())!==null&&i!==void 0?i:""),s}async uploadFile(e,i){var s;const a={};i!=null&&(a.mimeType=i.mimeType,a.name=i.name,a.displayName=i.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const u=this.clientOptions.uploader,d=await u.stat(e);a.sizeBytes=String(d.size);const p=(s=i==null?void 0:i.mimeType)!==null&&s!==void 0?s:d.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const y={file:a},g=this.getFileName(e),v=$("upload/v1beta/files",y._url),E=await this.fetchUploadUrl(v,a.sizeBytes,a.mimeType,g,y,i==null?void 0:i.httpOptions);return u.upload(e,E,this)}async uploadFileToFileSearchStore(e,i,s){var a;const u=this.clientOptions.uploader,d=await u.stat(i),p=String(d.size),y=(a=s==null?void 0:s.mimeType)!==null&&a!==void 0?a:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(i),E={};s!=null&&Rv(s,E);const T=await this.fetchUploadUrl(g,p,y,v,E,s==null?void 0:s.httpOptions);return u.uploadToFileSearchStore(i,T,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i,s,a,u,d){var p;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i}`,"X-Goog-Upload-Header-Content-Type":`${s}`},a?{"X-Goog-Upload-File-Name":a}:{})};const g=await this.request({path:e,body:JSON.stringify(u),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(p=g==null?void 0:g.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function X0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const i=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const a=JSON.stringify(s);throw i>=400&&i<600?new Js({message:a,status:i}):new Error(a)}}function u1(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof n.body=="string"&&n.body.length>0)try{const u=JSON.parse(n.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))i=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,d){const p=Object.assign({},u);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const g=d[y],v=p[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[y]=s(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[y]=g)}return p}const a=s(i,e);n.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c1="mcp_used/unknown";let d1=!1;function Nv(n){for(const e of n)if(f1(e)||typeof e=="object"&&"inputSchema"in e)return!0;return d1}function Mv(n){var e;const i=(e=n[id])!==null&&e!==void 0?e:"";n[id]=(i+` ${c1}`).trimStart()}function f1(n){return n!==null&&typeof n=="object"&&n instanceof kd}function h1(n){return Kt(this,arguments,function*(i,s=100){let a,u=0;for(;u<s;){const d=yield ce(i.listTools({cursor:a}));for(const p of d.tools)yield yield ce(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class kd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new kd(e,i)}async initialize(){var e,i,s,a;if(this.mcpTools.length>0)return;const u={},d=[];for(const v of this.mcpClients)try{for(var p=!0,y=(i=void 0,Xt(h1(v))),g;g=await y.next(),e=g.done,!e;p=!0){a=g.value,p=!1;const E=a;d.push(E);const T=E.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(E){i={error:E}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}this.mcpTools=d,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),qI(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const d=await a.callTool({name:s.name,arguments:s.args},void 0,u);i.push({functionResponse:{name:s.name,response:d.isError?{error:d}:d}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function p1(n,e,i){const s=new UI;let a;i.data instanceof Blob?a=JSON.parse(await i.data.text()):a=JSON.parse(i.data),Object.assign(s,a),e(s)}class m1{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s}async connect(e){var i,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),d=v1(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${a}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(z=>{g=z}),E=e.callbacks,T=function(){g({})},A=this.apiClient,b={onopen:T,onmessage:z=>{p1(A,E.onmessage,z)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(z){},onclose:(s=E==null?void 0:E.onclose)!==null&&s!==void 0?s:function(z){}},U=this.webSocketFactory.create(y,y1(d),b);U.connect(),await v;const F={setup:{model:xe(this.apiClient,e.model)}};return U.send(JSON.stringify(F)),new g1(U,this.apiClient)}}class g1{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=Bb(e);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=Gb(e);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const i={playbackControl:e};this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(xo.PLAY)}pause(){this.sendPlaybackControl(xo.PAUSE)}stop(){this.sendPlaybackControl(xo.STOP)}resetContext(){this.sendPlaybackControl(xo.RESET_CONTEXT)}close(){this.conn.close()}}function y1(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function v1(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _1="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function T1(n,e,i){const s=new kI;let a;i.data instanceof Blob?a=await i.data.text():i.data instanceof ArrayBuffer?a=new TextDecoder().decode(i.data):a=i.data;const u=JSON.parse(a);if(n.isVertexAI()){const d=Fb(u);Object.assign(s,d)}else Object.assign(s,u);e(s)}class E1{constructor(e,i,s){this.apiClient=e,this.auth=i,this.webSocketFactory=s,this.music=new m1(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,s,a,u,d,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Nv(e.config.tools)&&Mv(E);const T=x1(E);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),ue=this.apiClient.getLocation(),Ee=this.apiClient.getApiKey(),Ie=!!Q&&!!ue||!!Ee;this.apiClient.getCustomBaseUrl()&&!Ie?v=y:(v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T,v))}else{const Q=this.apiClient.getApiKey();let ue="BidiGenerateContent",Ee="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ue="BidiGenerateContentConstrained",Ee="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ue}?${Ee}=${Q}`}let A=()=>{};const b=new Promise(Q=>{A=Q}),U=e.callbacks,D=function(){var Q;(Q=U==null?void 0:U.onopen)===null||Q===void 0||Q.call(U),A({})},B=this.apiClient,F={onopen:D,onmessage:Q=>{T1(B,U.onmessage,Q)},onerror:(i=U==null?void 0:U.onerror)!==null&&i!==void 0?i:function(Q){},onclose:(s=U==null?void 0:U.onclose)!==null&&s!==void 0?s:function(Q){}},z=this.webSocketFactory.create(v,A1(T),F);z.connect(),await b;let J=xe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Q=this.apiClient.getProject(),ue=this.apiClient.getLocation();Q&&ue&&(J=`projects/${Q}/locations/${ue}/`+J)}let H={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Va.AUDIO]}:e.config.responseModalities=[Va.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(p=(d=e.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[],K=[];for(const Q of ee)if(this.isCallableTool(Q)){const ue=Q;K.push(await ue.tool())}else K.push(Q);K.length>0&&(e.config.tools=K);const de={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?H=Vb(this.apiClient,de):H=Hb(this.apiClient,de),delete H.config,z.send(JSON.stringify(H)),new C1(z,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const S1={turnComplete:!0};class C1{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let s=[];try{s=Gt(i.turns),e.isVertexAI()||(s=s.map(a=>Qa(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:s,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let s=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?s=i.functionResponses:s=[i.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(_1)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},S1),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:zb(e)}:i={realtimeInput:qb(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function A1(n){const e={};return n.forEach((i,s)=>{e[s]=i}),e}function x1(n){const e=new Headers;for(const[i,s]of Object.entries(n))e.append(i,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $0=10;function Q0(n){var e,i,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const d of(i=n==null?void 0:n.tools)!==null&&i!==void 0?i:[])if(Do(d)){a=!0;break}if(!a)return!0;const u=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function Do(n){return"callTool"in n&&typeof n.callTool=="function"}function I1(n){var e,i,s;return(s=(i=(e=n.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(a=>Do(a)))!==null&&s!==void 0?s:!1}function W0(n){var e;const i=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,a)=>{if(Do(s))return;const u=s;u.functionDeclarations&&u.functionDeclarations.length>0&&i.push(a)}),i}function Z0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w1 extends bn{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var s,a,u,d,p;const y=await this.processParamsMaybeAddMcpUsage(i);if(this.maybeMoveToResponseJsonSchem(i),!I1(i)||Q0(i.config))return await this.generateContentInternal(y);const g=W0(i);if(g.length>0){const U=g.map(D=>`tools[${D}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${U}.`)}let v,E;const T=Gt(y.contents),A=(u=(a=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:$0;let b=0;for(;b<A&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const U=v.candidates[0].content,D=[];for(const B of(p=(d=i.config)===null||d===void 0?void 0:d.tools)!==null&&p!==void 0?p:[])if(Do(B)){const z=await B.callTool(v.functionCalls);D.push(...z)}b++,E={role:"user",parts:D},y.contents=Gt(y.contents),y.contents.push(U),y.contents.push(E),Z0(y.config)&&(T.push(U),T.push(E))}return Z0(y.config)&&(v.automaticFunctionCallingHistory=T),v},this.generateContentStream=async i=>{var s,a,u,d,p;if(this.maybeMoveToResponseJsonSchem(i),Q0(i.config)){const E=await this.processParamsMaybeAddMcpUsage(i);return await this.generateContentStreamInternal(E)}const y=W0(i);if(y.length>0){const E=y.map(T=>`tools[${T}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(u=(a=(s=i==null?void 0:i.config)===null||s===void 0?void 0:s.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||u===void 0?void 0:u.streamFunctionCallArguments,v=(p=(d=i==null?void 0:i.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(s=>{var a;let u;const d=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((a=y==null?void 0:y.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?u=y==null?void 0:y.safetyAttributes:d.push(y);let p;return u?p={generatedImages:d,positivePromptSafetyAttributes:u,sdkHttpResponse:s.sdkHttpResponse}:p={generatedImages:d,sdkHttpResponse:s.sdkHttpResponse},p}),this.list=async i=>{var s;const d={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((s=d.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Oi(wn.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(d),d)},this.editImage=async i=>{const s={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(s.referenceImages=i.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async i=>{let s={numberOfImages:1,mode:"upscale"};i.config&&(s=Object.assign(Object.assign({},s),i.config));const a={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:s};return await this.upscaleImageInternal(a)},this.generateVideos=async i=>{var s,a,u,d,p,y;if((i.prompt||i.image||i.video)&&i.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=i.video)===null||s===void 0)&&s.uri&&(!((a=i.video)===null||a===void 0)&&a.videoBytes)?i.video={uri:i.video.uri,mimeType:i.video.mimeType}:!((d=(u=i.source)===null||u===void 0?void 0:u.video)===null||d===void 0)&&d.uri&&(!((y=(p=i.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(i.source.video={uri:i.source.video.uri,mimeType:i.source.video.mimeType})),await this.generateVideosInternal(i)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var i,s,a;const u=(i=e.config)===null||i===void 0?void 0:i.tools;if(!u)return e;const d=await Promise.all(u.map(async y=>Do(y)?await y.tool():y)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:d})};if(p.config.tools=d,e.config&&e.config.tools&&Nv(e.config.tools)){const y=(a=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&a!==void 0?a:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),Mv(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var i,s,a;const u=new Map;for(const d of(s=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&s!==void 0?s:[])if(Do(d)){const p=d,y=await p.tool();for(const g of(a=y.functionDeclarations)!==null&&a!==void 0?a:[]){if(!g.name)throw new Error("Function declaration name is required.");if(u.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);u.set(g.name,p)}}return u}async processAfcStream(e){var i,s,a;const u=(a=(s=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&a!==void 0?a:$0;let d=!1,p=0;const y=await this.initAfcToolsMap(e);return(function(g,v,E){return Kt(this,arguments,function*(){for(var T,A,b,U,D,B;p<u;){d&&(p++,d=!1);const H=yield ce(g.processParamsMaybeAddMcpUsage(E)),ee=yield ce(g.generateContentStreamInternal(H)),K=[],de=[];try{for(var F=!0,z=(A=void 0,Xt(ee)),J;J=yield ce(z.next()),T=J.done,!T;F=!0){U=J.value,F=!1;const Q=U;if(yield yield ce(Q),Q.candidates&&(!((D=Q.candidates[0])===null||D===void 0)&&D.content)){de.push(Q.candidates[0].content);for(const ue of(B=Q.candidates[0].content.parts)!==null&&B!==void 0?B:[])if(p<u&&ue.functionCall){if(!ue.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ue.functionCall.name)){const Ee=yield ce(v.get(ue.functionCall.name).callTool([ue.functionCall]));K.push(...Ee)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ue.functionCall.name}`)}}}}catch(Q){A={error:Q}}finally{try{!F&&!T&&(b=z.return)&&(yield ce(b.call(z)))}finally{if(A)throw A.error}}if(K.length>0){d=!0;const Q=new Us;Q.candidates=[{content:{role:"user",parts:K}}],yield yield ce(Q);const ue=[];ue.push(...de),ue.push({role:"user",parts:K});const Ee=Gt(E.contents).concat(ue);E.contents=Ee}else break}})})(this,y,e)}async generateContentInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=J0(this.apiClient,e);return p=$("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=K0(v),T=new Us;return Object.assign(T,E),T})}else{const g=F0(this.apiClient,e);return p=$("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=Y0(v),T=new Us;return Object.assign(T,E),T})}}async generateContentStreamInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=J0(this.apiClient,e);return p=$("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),d.then(function(E){return Kt(this,arguments,function*(){var T,A,b,U;try{for(var D=!0,B=Xt(E),F;F=yield ce(B.next()),T=F.done,!T;D=!0){U=F.value,D=!1;const z=U,J=K0(yield ce(z.json()),e);J.sdkHttpResponse={headers:z.headers};const H=new Us;Object.assign(H,J),yield yield ce(H)}}catch(z){A={error:z}}finally{try{!D&&!T&&(b=B.return)&&(yield ce(b.call(B)))}finally{if(A)throw A.error}}})})}else{const g=F0(this.apiClient,e);return p=$("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),d.then(function(E){return Kt(this,arguments,function*(){var T,A,b,U;try{for(var D=!0,B=Xt(E),F;F=yield ce(B.next()),T=F.done,!T;D=!0){U=F.value,D=!1;const z=U,J=Y0(yield ce(z.json()),e);J.sdkHttpResponse={headers:z.headers};const H=new Us;Object.assign(H,J),yield yield ce(H)}}catch(z){A={error:z}}finally{try{!D&&!T&&(b=B.return)&&(yield ce(b.call(B)))}finally{if(A)throw A.error}}})})}}async embedContent(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=ER(this.apiClient,e);return p=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=CR(v),T=new w0;return Object.assign(T,E),T})}else{const g=TR(this.apiClient,e);return p=$("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=SR(v),T=new w0;return Object.assign(T,E),T})}}async generateImagesInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=UR(this.apiClient,e);return p=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=PR(v),T=new b0;return Object.assign(T,E),T})}else{const g=kR(this.apiClient,e);return p=$("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=LR(v),T=new b0;return Object.assign(T,E),T})}}async editImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=gR(this.apiClient,e);return u=$("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=yR(y),v=new EI;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=UN(this.apiClient,e);return u=$("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=LN(y),v=new SI;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=mN(this.apiClient,e);return u=$("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=gN(y),v=new CI;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=SN(this.apiClient,e);return u=$("{model}:predict",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=CN(y),v=new AI;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=jR(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>nd(v))}else{const g=ZR(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>td(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=lN(this.apiClient,e);return p=$("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=cN(v),T=new R0;return Object.assign(T,E),T})}else{const g=aN(this.apiClient,e);return p=$("{models_url}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=uN(v),T=new R0;return Object.assign(T,E),T})}}async update(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=DN(this.apiClient,e);return p=$("{model}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>nd(v))}else{const g=MN(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>td(v))}}async delete(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=fR(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=pR(v),T=new N0;return Object.assign(T,E),T})}else{const g=dR(this.apiClient,e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=hR(v),T=new N0;return Object.assign(T,E),T})}}async countTokens(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=lR(this.apiClient,e);return p=$("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=cR(v),T=new M0;return Object.assign(T,E),T})}else{const g=aR(this.apiClient,e);return p=$("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=uR(v),T=new M0;return Object.assign(T,E),T})}}async computeTokens(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=eR(this.apiClient,e);return u=$("{model}:computeTokens",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>{const g=tR(y),v=new xI;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=qR(this.apiClient,e);return p=$("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d.then(v=>{const E=GR(v),T=new Ga;return Object.assign(T,E),T})}else{const g=BR(this.apiClient,e);return p=$("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d.then(v=>{const E=VR(v),T=new Ga;return Object.assign(T,E),T})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b1 extends bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const i=e.operation,s=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=i.name.split("/operations/")[0];let u;s&&"httpOptions"in s&&(u=s.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:a,config:{httpOptions:u}});return i._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:i.name,config:s});return i._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=mI(e);return p=$("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),d}else{const g=pI(e);return p=$("{operationName}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=aI(e);return u=$("{resourceName}:fetchPredictOperation",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function R1(n){const e={},i=c(n,["data"]);if(i!=null&&f(e,["data"],i),c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function N1(n){const e={},i=c(n,["parts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>V1(u))),f(e,["parts"],a)}const s=c(n,["role"]);return s!=null&&f(e,["role"],s),e}function M1(n,e,i){const s={},a=c(e,["expireTime"]);i!==void 0&&a!=null&&f(i,["expireTime"],a);const u=c(e,["newSessionExpireTime"]);i!==void 0&&u!=null&&f(i,["newSessionExpireTime"],u);const d=c(e,["uses"]);i!==void 0&&d!=null&&f(i,["uses"],d);const p=c(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&f(i,["bidiGenerateContentSetup"],H1(n,p));const y=c(e,["lockAdditionalFields"]);return i!==void 0&&y!=null&&f(i,["fieldMask"],y),s}function D1(n,e){const i={},s=c(e,["config"]);return s!=null&&f(i,["config"],M1(n,s,i)),i}function k1(n){const e={};if(c(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=c(n,["fileUri"]);i!=null&&f(e,["fileUri"],i);const s=c(n,["mimeType"]);return s!=null&&f(e,["mimeType"],s),e}function U1(n){const e={},i=c(n,["id"]);i!=null&&f(e,["id"],i);const s=c(n,["args"]);s!=null&&f(e,["args"],s);const a=c(n,["name"]);if(a!=null&&f(e,["name"],a),c(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(c(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function L1(n){const e={};if(c(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const i=c(n,["enableWidget"]);return i!=null&&f(e,["enableWidget"],i),e}function P1(n){const e={};if(c(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(c(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const i=c(n,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],i),e}function O1(n,e){const i={},s=c(n,["generationConfig"]);e!==void 0&&s!=null&&f(e,["setup","generationConfig"],s);const a=c(n,["responseModalities"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig","responseModalities"],a);const u=c(n,["temperature"]);e!==void 0&&u!=null&&f(e,["setup","generationConfig","temperature"],u);const d=c(n,["topP"]);e!==void 0&&d!=null&&f(e,["setup","generationConfig","topP"],d);const p=c(n,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const y=c(n,["maxOutputTokens"]);e!==void 0&&y!=null&&f(e,["setup","generationConfig","maxOutputTokens"],y);const g=c(n,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=c(n,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const E=c(n,["speechConfig"]);e!==void 0&&E!=null&&f(e,["setup","generationConfig","speechConfig"],Dd(E));const T=c(n,["thinkingConfig"]);e!==void 0&&T!=null&&f(e,["setup","generationConfig","thinkingConfig"],T);const A=c(n,["enableAffectiveDialog"]);e!==void 0&&A!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],A);const b=c(n,["systemInstruction"]);e!==void 0&&b!=null&&f(e,["setup","systemInstruction"],N1(rt(b)));const U=c(n,["tools"]);if(e!==void 0&&U!=null){let ee=Oo(U);Array.isArray(ee)&&(ee=ee.map(K=>B1(Po(K)))),f(e,["setup","tools"],ee)}const D=c(n,["sessionResumption"]);e!==void 0&&D!=null&&f(e,["setup","sessionResumption"],G1(D));const B=c(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&f(e,["setup","inputAudioTranscription"],B);const F=c(n,["outputAudioTranscription"]);e!==void 0&&F!=null&&f(e,["setup","outputAudioTranscription"],F);const z=c(n,["realtimeInputConfig"]);e!==void 0&&z!=null&&f(e,["setup","realtimeInputConfig"],z);const J=c(n,["contextWindowCompression"]);e!==void 0&&J!=null&&f(e,["setup","contextWindowCompression"],J);const H=c(n,["proactivity"]);if(e!==void 0&&H!=null&&f(e,["setup","proactivity"],H),c(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return i}function H1(n,e){const i={},s=c(e,["model"]);s!=null&&f(i,["setup","model"],xe(n,s));const a=c(e,["config"]);return a!=null&&f(i,["config"],O1(a,i)),i}function V1(n){const e={},i=c(n,["mediaResolution"]);i!=null&&f(e,["mediaResolution"],i);const s=c(n,["codeExecutionResult"]);s!=null&&f(e,["codeExecutionResult"],s);const a=c(n,["executableCode"]);a!=null&&f(e,["executableCode"],a);const u=c(n,["fileData"]);u!=null&&f(e,["fileData"],k1(u));const d=c(n,["functionCall"]);d!=null&&f(e,["functionCall"],U1(d));const p=c(n,["functionResponse"]);p!=null&&f(e,["functionResponse"],p);const y=c(n,["inlineData"]);y!=null&&f(e,["inlineData"],R1(y));const g=c(n,["text"]);g!=null&&f(e,["text"],g);const v=c(n,["thought"]);v!=null&&f(e,["thought"],v);const E=c(n,["thoughtSignature"]);E!=null&&f(e,["thoughtSignature"],E);const T=c(n,["videoMetadata"]);return T!=null&&f(e,["videoMetadata"],T),e}function G1(n){const e={},i=c(n,["handle"]);if(i!=null&&f(e,["handle"],i),c(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function B1(n){const e={};if(c(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=c(n,["computerUse"]);i!=null&&f(e,["computerUse"],i);const s=c(n,["fileSearch"]);s!=null&&f(e,["fileSearch"],s);const a=c(n,["codeExecution"]);if(a!=null&&f(e,["codeExecution"],a),c(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=c(n,["functionDeclarations"]);if(u!=null){let v=u;Array.isArray(v)&&(v=v.map(E=>E)),f(e,["functionDeclarations"],v)}const d=c(n,["googleMaps"]);d!=null&&f(e,["googleMaps"],L1(d));const p=c(n,["googleSearch"]);p!=null&&f(e,["googleSearch"],P1(p));const y=c(n,["googleSearchRetrieval"]);y!=null&&f(e,["googleSearchRetrieval"],y);const g=c(n,["urlContext"]);return g!=null&&f(e,["urlContext"],g),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function q1(n){const e=[];for(const i in n)if(Object.prototype.hasOwnProperty.call(n,i)){const s=n[i];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const a=Object.keys(s).map(u=>`${i}.${u}`);e.push(...a)}else e.push(i)}return e.join(",")}function z1(n,e){let i=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(n.bidiGenerateContentSetup=u,i=u):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const a=n.fieldMask;if(i){const u=q1(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?n.fieldMask=u:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(g=>d.includes(g)?`generationConfig.${g}`:g));const y=[];u&&y.push(u),p.length>0&&y.push(...p),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?n.fieldMask=a.join(","):delete n.fieldMask;return n}class F1 extends bn{constructor(e){super(),this.apiClient=e}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=D1(this.apiClient,e);u=$("auth_tokens",p._url),d=p._query,delete p.config,delete p._url,delete p._query;const y=z1(p,e.config);return a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(g=>g.json()),a.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J1(n,e){const i={},s=c(n,["force"]);return e!==void 0&&s!=null&&f(e,["_query","force"],s),i}function Y1(n){const e={},i=c(n,["name"]);i!=null&&f(e,["_url","name"],i);const s=c(n,["config"]);return s!=null&&J1(s,e),e}function K1(n){const e={},i=c(n,["name"]);return i!=null&&f(e,["_url","name"],i),e}function X1(n,e){const i={},s=c(n,["pageSize"]);e!==void 0&&s!=null&&f(e,["_query","pageSize"],s);const a=c(n,["pageToken"]);return e!==void 0&&a!=null&&f(e,["_query","pageToken"],a),i}function $1(n){const e={},i=c(n,["parent"]);i!=null&&f(e,["_url","parent"],i);const s=c(n,["config"]);return s!=null&&X1(s,e),e}function Q1(n){const e={},i=c(n,["sdkHttpResponse"]);i!=null&&f(e,["sdkHttpResponse"],i);const s=c(n,["nextPageToken"]);s!=null&&f(e,["nextPageToken"],s);const a=c(n,["documents"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),f(e,["documents"],u)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1 extends bn{constructor(e){super(),this.apiClient=e,this.list=async i=>new Oi(wn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:i.parent,config:s.config}),await this.listInternal(i),i)}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=K1(e);return u=$("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Y1(e);a=$("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=$1(e);return u=$("{parent}/documents",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=Q1(y),v=new II;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z1 extends bn{constructor(e,i=new W1(e)){super(),this.apiClient=e,this.documents=i,this.list=async(s={})=>new Oi(wn.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=qN(e);return u=$("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async get(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=JN(e);return u=$("{name}",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>y)}}async delete(e){var i,s;let a="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=FN(e);a=$("{name}",d._url),u=d._query,delete d._url,delete d._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=WN(e);return u=$("fileSearchStores",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=ZN(y),v=new wI;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=jN(e);return u=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=e1(y),v=new bI;return Object.assign(v,g),v})}}async importFile(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=XN(e);return u=$("{file_search_store_name}:importFile",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),a.then(y=>{const g=KN(y),v=new wd;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dv=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Dv=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),i=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,s=>(+s^i()&15>>+s/4).toString(16))};const j1=()=>Dv();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function od(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const sd=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bt extends Error{}class ft extends Bt{constructor(e,i,s,a){super(`${ft.makeMessage(e,i,s)}`),this.status=e,this.headers=a,this.error=i}static makeMessage(e,i,s){const a=i!=null&&i.message?typeof i.message=="string"?i.message:JSON.stringify(i.message):i?JSON.stringify(i):s;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,i,s,a){if(!e||!a)return new ja({message:s,cause:sd(i)});const u=i;return e===400?new Uv(e,u,s,a):e===401?new Lv(e,u,s,a):e===403?new Pv(e,u,s,a):e===404?new Ov(e,u,s,a):e===409?new Hv(e,u,s,a):e===422?new Vv(e,u,s,a):e===429?new Gv(e,u,s,a):e>=500?new Bv(e,u,s,a):new ft(e,u,s,a)}}class rd extends ft{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class ja extends ft{constructor({message:e,cause:i}){super(void 0,void 0,e||"Connection error.",void 0),i&&(this.cause=i)}}class kv extends ja{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Uv extends ft{}class Lv extends ft{}class Pv extends ft{}class Ov extends ft{}class Hv extends ft{}class Vv extends ft{}class Gv extends ft{}class Bv extends ft{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const eM=/^[a-z][a-z0-9+.-]*:/i,tM=n=>eM.test(n);let ad=n=>(ad=Array.isArray,ad(n));const nM=ad;let iM=nM;const j0=iM;function oM(n){if(!n)return!0;for(const e in n)return!1;return!0}function sM(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const rM=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Bt(`${n} must be an integer`);if(e<0)throw new Bt(`${n} must be a positive integer`);return e},aM=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lM=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Co="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uM(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const cM=()=>{var n,e,i,s,a;const u=uM();if(u==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":ty(Deno.build.os),"X-Stainless-Arch":ey(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(u==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":ty((i=globalThis.process.platform)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Arch":ey((s=globalThis.process.arch)!==null&&s!==void 0?s:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const d=dM();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Co,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function dM(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:i}of n){const s=i.exec(navigator.userAgent);if(s){const a=s[1]||0,u=s[2]||0,d=s[3]||0;return{browser:e,version:`${a}.${u}.${d}`}}}return null}const ey=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",ty=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let _a;const fM=()=>_a??(_a=cM());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hM(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function qv(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function pM(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return qv({start(){},async pull(i){const{done:s,value:a}=await e.next();s?i.close():i.enqueue(a)},async cancel(){var i;await((i=e.return)===null||i===void 0?void 0:i.call(e))}})}function zv(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const i=await e.read();return i!=null&&i.done&&e.releaseLock(),i}catch(i){throw e.releaseLock(),i}},async return(){const i=e.cancel();return e.releaseLock(),await i,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function mM(n){var e,i;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((i=(e=n[Symbol.asyncIterator]()).return)===null||i===void 0?void 0:i.call(e));return}const s=n.getReader(),a=s.cancel();s.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gM=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fv=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,i=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(i?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function kc(n,e,i){return Fv(),new File(n,e??"unknown_file",i)}function yM(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const vM=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jv=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",_M=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Jv(n),TM=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function EM(n,e,i){if(Fv(),n=await n,_M(n))return n instanceof File?n:kc([await n.arrayBuffer()],n.name);if(TM(n)){const a=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),kc(await ld(a),e,i)}const s=await ld(n);if(e||(e=yM(n)),!(i!=null&&i.type)){const a=s.find(u=>typeof u=="object"&&"type"in u&&u.type);typeof a=="string"&&(i=Object.assign(Object.assign({},i),{type:a}))}return kc(s,e,i)}async function ld(n){var e,i,s,a,u;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(Jv(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(vM(n))try{for(var p=!0,y=Xt(n),g;g=await y.next(),e=g.done,!e;p=!0){a=g.value,p=!1;const v=a;d.push(...await ld(v))}}catch(v){i={error:v}}finally{try{!p&&!e&&(s=y.return)&&await s.call(y)}finally{if(i)throw i.error}}else{const v=(u=n==null?void 0:n.constructor)===null||u===void 0?void 0:u.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${SM(n)}`)}return d}function SM(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(i=>`"${i}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yv{constructor(e){this._client=e}}Yv._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kv(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const ny=Object.freeze(Object.create(null)),CM=(n=Kv)=>(function(i,...s){if(i.length===1)return i[0];let a=!1;const u=[],d=i.reduce((v,E,T)=>{var A,b,U;/[?#]/.test(E)&&(a=!0);const D=s[T];let B=(a?encodeURIComponent:n)(""+D);return T!==s.length&&(D==null||typeof D=="object"&&D.toString===((U=Object.getPrototypeOf((b=Object.getPrototypeOf((A=D.hasOwnProperty)!==null&&A!==void 0?A:ny))!==null&&b!==void 0?b:ny))===null||U===void 0?void 0:U.toString))&&(B=D+"",u.push({start:v.length+E.length,length:B.length,error:`Value of type ${Object.prototype.toString.call(D).slice(8,-1)} is not a valid path parameter`})),v+E+(T===s.length?"":B)},""),p=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(p))!==null;)u.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(u.sort((v,E)=>v.start-E.start),u.length>0){let v=0;const E=u.reduce((T,A)=>{const b=" ".repeat(A.start-v),U="^".repeat(A.length);return v=A.start+A.length,T+b+U},"");throw new Bt(`Path parameters result in path with invalid segments:
${u.map(T=>T.error).join(`
`)}
${d}
${E}`)}return d}),Ta=CM(Kv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xv extends Yv{create(e,i){var s;const{api_version:a=this._client.apiVersion}=e,u=qa(e,["api_version"]);if("model"in u&&"agent_config"in u)throw new Bt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in u&&"generation_config"in u)throw new Bt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ta`/${a}/interactions`,Object.assign(Object.assign({body:u},i),{stream:(s=e.stream)!==null&&s!==void 0?s:!1}))}delete(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.delete(Ta`/${a}/interactions/${e}`,s)}cancel(e,i={},s){const{api_version:a=this._client.apiVersion}=i??{};return this._client.post(Ta`/${a}/interactions/${e}/cancel`,s)}get(e,i={},s){var a;const u=i??{},{api_version:d=this._client.apiVersion}=u,p=qa(u,["api_version"]);return this._client.get(Ta`/${d}/interactions/${e}`,Object.assign(Object.assign({query:p},s),{stream:(a=i==null?void 0:i.stream)!==null&&a!==void 0?a:!1}))}}Xv._key=Object.freeze(["interactions"]);class $v extends Xv{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AM(n){let e=0;for(const a of n)e+=a.length;const i=new Uint8Array(e);let s=0;for(const a of n)i.set(a,s),s+=a.length;return i}let Ea;function Ud(n){let e;return(Ea??(e=new globalThis.TextEncoder,Ea=e.encode.bind(e)))(n)}let Sa;function iy(n){let e;return(Sa??(e=new globalThis.TextDecoder,Sa=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class el{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const i=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Ud(e):e;this.buffer=AM([this.buffer,i]);const s=[];let a;for(;(a=xM(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){s.push(iy(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const u=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,d=iy(this.buffer.subarray(0,u));s.push(d),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return s}flush(){return this.buffer.length?this.decode(`
`):[]}}el.NEWLINE_CHARS=new Set([`
`,"\r"]);el.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function xM(n,e){for(let a=e??0;a<n.length;a++){if(n[a]===10)return{preceding:a,index:a+1,carriage:!1};if(n[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function IM(n){for(let s=0;s<n.length-1;s++){if(n[s]===10&&n[s+1]===10||n[s]===13&&n[s+1]===13)return s+2;if(n[s]===13&&n[s+1]===10&&s+3<n.length&&n[s+2]===13&&n[s+3]===10)return s+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const za={off:0,error:200,warn:300,info:400,debug:500},oy=(n,e,i)=>{if(n){if(sM(za,n))return n;ut(i).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(za))}`)}};function Hs(){}function Ca(n,e,i){return!e||za[n]>za[i]?Hs:e[n].bind(e)}const wM={error:Hs,warn:Hs,info:Hs,debug:Hs};let sy=new WeakMap;function ut(n){var e;const i=n.logger,s=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!i)return wM;const a=sy.get(i);if(a&&a[0]===s)return a[1];const u={error:Ca("error",i,s),warn:Ca("warn",i,s),info:Ca("info",i,s),debug:Ca("debug",i,s)};return sy.set(i,[s,u]),u}const ki=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,i])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":i]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Io{constructor(e,i,s){this.iterator=e,this.controller=i,this.client=s}static fromSSEResponse(e,i,s){let a=!1;const u=s?ut(s):console;function d(){return Kt(this,arguments,function*(){var y,g,v,E;if(a)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var A=!0,b=Xt(bM(e,i)),U;U=yield ce(b.next()),y=U.done,!y;A=!0){E=U.value,A=!1;const D=E;if(!T)if(D.data.startsWith("[DONE]")){T=!0;continue}else try{yield yield ce(JSON.parse(D.data))}catch(B){throw u.error("Could not parse message into JSON:",D.data),u.error("From chunk:",D.raw),B}}}catch(D){g={error:D}}finally{try{!A&&!y&&(v=b.return)&&(yield ce(v.call(b)))}finally{if(g)throw g.error}}T=!0}catch(D){if(od(D))return yield ce(void 0);throw D}finally{T||i.abort()}})}return new Io(d,i,s)}static fromReadableStream(e,i,s){let a=!1;function u(){return Kt(this,arguments,function*(){var y,g,v,E;const T=new el,A=zv(e);try{for(var b=!0,U=Xt(A),D;D=yield ce(U.next()),y=D.done,!y;b=!0){E=D.value,b=!1;const B=E;for(const F of T.decode(B))yield yield ce(F)}}catch(B){g={error:B}}finally{try{!b&&!y&&(v=U.return)&&(yield ce(v.call(U)))}finally{if(g)throw g.error}}for(const B of T.flush())yield yield ce(B)})}function d(){return Kt(this,arguments,function*(){var y,g,v,E;if(a)throw new Bt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let T=!1;try{try{for(var A=!0,b=Xt(u()),U;U=yield ce(b.next()),y=U.done,!y;A=!0){E=U.value,A=!1;const D=E;T||D&&(yield yield ce(JSON.parse(D)))}}catch(D){g={error:D}}finally{try{!A&&!y&&(v=b.return)&&(yield ce(v.call(b)))}finally{if(g)throw g.error}}T=!0}catch(D){if(od(D))return yield ce(void 0);throw D}finally{T||i.abort()}})}return new Io(d,i,s)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],i=[],s=this.iterator(),a=u=>({next:()=>{if(u.length===0){const d=s.next();e.push(d),i.push(d)}return u.shift()}});return[new Io(()=>a(e),this.controller,this.client),new Io(()=>a(i),this.controller,this.client)]}toReadableStream(){const e=this;let i;return qv({async start(){i=e[Symbol.asyncIterator]()},async pull(s){try{const{value:a,done:u}=await i.next();if(u)return s.close();const d=Ud(JSON.stringify(a)+`
`);s.enqueue(d)}catch(a){s.error(a)}},async cancel(){var s;await((s=i.return)===null||s===void 0?void 0:s.call(i))}})}}function bM(n,e){return Kt(this,arguments,function*(){var s,a,u,d;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Bt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Bt("Attempted to iterate over a response with no body");const p=new NM,y=new el,g=zv(n.body);try{for(var v=!0,E=Xt(RM(g)),T;T=yield ce(E.next()),s=T.done,!s;v=!0){d=T.value,v=!1;const A=d;for(const b of y.decode(A)){const U=p.decode(b);U&&(yield yield ce(U))}}}catch(A){a={error:A}}finally{try{!v&&!s&&(u=E.return)&&(yield ce(u.call(E)))}finally{if(a)throw a.error}}for(const A of y.flush()){const b=p.decode(A);b&&(yield yield ce(b))}})}function RM(n){return Kt(this,arguments,function*(){var i,s,a,u;let d=new Uint8Array;try{for(var p=!0,y=Xt(n),g;g=yield ce(y.next()),i=g.done,!i;p=!0){u=g.value,p=!1;const v=u;if(v==null)continue;const E=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Ud(v):v;let T=new Uint8Array(d.length+E.length);T.set(d),T.set(E,d.length),d=T;let A;for(;(A=IM(d))!==-1;)yield yield ce(d.slice(0,A)),d=d.slice(A)}}catch(v){s={error:v}}finally{try{!p&&!i&&(a=y.return)&&(yield ce(a.call(y)))}finally{if(s)throw s.error}}d.length>0&&(yield yield ce(d))})}class NM{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const u={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],u}if(this.chunks.push(e),e.startsWith(":"))return null;let[i,s,a]=MM(e,":");return a.startsWith(" ")&&(a=a.substring(1)),i==="event"?this.event=a:i==="data"&&this.data.push(a),null}}function MM(n,e){const i=n.indexOf(e);return i!==-1?[n.substring(0,i),e,n.substring(i+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function DM(n,e){const{response:i,requestLogID:s,retryOfRequestLogID:a,startTime:u}=e,d=await(async()=>{var p;if(e.options.stream)return ut(n).debug("response",i.status,i.url,i.headers,i.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(i,e.controller,n):Io.fromSSEResponse(i,e.controller,n);if(i.status===204)return null;if(e.options.__binaryResponse)return i;const y=i.headers.get("content-type"),g=(p=y==null?void 0:y.split(";")[0])===null||p===void 0?void 0:p.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await i.json():await i.text()})();return ut(n).debug(`[${s}] response parsed`,ki({retryOfRequestLogID:a,url:i.url,status:i.status,body:d,durationMs:Date.now()-u})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ld extends Promise{constructor(e,i,s=DM){super(a=>{a(null)}),this.responsePromise=i,this.parseResponse=s,this.client=e}_thenUnwrap(e){return new Ld(this.client,this.responsePromise,async(i,s)=>e(await this.parseResponse(i,s),s))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,i]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:i}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,i){return this.parse().then(e,i)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qv=Symbol("brand.privateNullableHeaders");function*kM(n){if(!n)return;if(Qv in n){const{values:s,nulls:a}=n;yield*s.entries();for(const u of a)yield[u,null];return}let e=!1,i;n instanceof Headers?i=n.entries():j0(n)?i=n:(e=!0,i=Object.entries(n??{}));for(let s of i){const a=s[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const u=j0(s[1])?s[1]:[s[1]];let d=!1;for(const p of u)p!==void 0&&(e&&!d&&(d=!0,yield[a,null]),yield[a,p])}}const Ls=n=>{const e=new Headers,i=new Set;for(const s of n){const a=new Set;for(const[u,d]of kM(s)){const p=u.toLowerCase();a.has(p)||(e.delete(u),a.add(p)),d===null?(e.delete(u),i.add(p)):(e.append(u,d),i.delete(p))}}return{[Qv]:!0,values:e,nulls:i}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Uc=n=>{var e,i,s,a,u,d;if(typeof globalThis.process<"u")return(s=(i=(e=tI)===null||e===void 0?void 0:e[n])===null||i===void 0?void 0:i.trim())!==null&&s!==void 0?s:void 0;if(typeof globalThis.Deno<"u")return(d=(u=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||u===void 0?void 0:u.call(a,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wv;class tl{constructor(e){var i,s,a,u,d,p,y,{baseURL:g=Uc("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(i=Uc("GEMINI_API_KEY"))!==null&&i!==void 0?i:null,apiVersion:E="v1beta"}=e,T=qa(e,["baseURL","apiKey","apiVersion"]);const A=Object.assign(Object.assign({apiKey:v,apiVersion:E},T),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=A.baseURL,this.timeout=(s=A.timeout)!==null&&s!==void 0?s:tl.DEFAULT_TIMEOUT,this.logger=(a=A.logger)!==null&&a!==void 0?a:console;const b="warn";this.logLevel=b,this.logLevel=(d=(u=oy(A.logLevel,"ClientOptions.logLevel",this))!==null&&u!==void 0?u:oy(Uc("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:b,this.fetchOptions=A.fetchOptions,this.maxRetries=(p=A.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(y=A.fetch)!==null&&y!==void 0?y:hM(),this.encoder=gM,this._options=A,this.apiKey=v,this.apiVersion=E,this.clientAdapter=A.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:i}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!i.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const i=Ls([e.headers]);if(!(i.values.has("authorization")||i.values.has("x-goog-api-key"))){if(this.apiKey)return Ls([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Ls([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([i,s])=>typeof s<"u").map(([i,s])=>{if(typeof s=="string"||typeof s=="number"||typeof s=="boolean")return`${encodeURIComponent(i)}=${encodeURIComponent(s)}`;if(s===null)return`${encodeURIComponent(i)}=`;throw new Bt(`Cannot stringify type ${typeof s}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Co}`}defaultIdempotencyKey(){return`stainless-node-retry-${j1()}`}makeStatusError(e,i,s,a){return ft.generate(e,i,s,a)}buildURL(e,i,s){const a=!this.baseURLOverridden()&&s||this.baseURL,u=tM(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),d=this.defaultQuery();return oM(d)||(i=Object.assign(Object.assign({},d),i)),typeof i=="object"&&i&&!Array.isArray(i)&&(u.search=this.stringifyQuery(i)),u.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const i=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${i}`}}async prepareRequest(e,{url:i,options:s}){}get(e,i){return this.methodRequest("get",e,i)}post(e,i){return this.methodRequest("post",e,i)}patch(e,i){return this.methodRequest("patch",e,i)}put(e,i){return this.methodRequest("put",e,i)}delete(e,i){return this.methodRequest("delete",e,i)}methodRequest(e,i,s){return this.request(Promise.resolve(s).then(a=>Object.assign({method:e,path:i},a)))}request(e,i=null){return new Ld(this,this.makeRequest(e,i,void 0))}async makeRequest(e,i,s){var a,u,d;const p=await e,y=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;i==null&&(i=y),await this.prepareOptions(p);const{req:g,url:v,timeout:E}=await this.buildRequest(p,{retryCount:y-i});await this.prepareRequest(g,{url:v,options:p});const T="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),A=s===void 0?"":`, retryOf: ${s}`,b=Date.now();if(ut(this).debug(`[${T}] sending request`,ki({retryOfRequestLogID:s,method:p.method,url:v,options:p,headers:g.headers})),!((u=p.signal)===null||u===void 0)&&u.aborted)throw new rd;const U=new AbortController,D=await this.fetchWithTimeout(v,g,E,U).catch(sd),B=Date.now();if(D instanceof globalThis.Error){const z=`retrying, ${i} attempts remaining`;if(!((d=p.signal)===null||d===void 0)&&d.aborted)throw new rd;const J=od(D)||/timed? ?out/i.test(String(D)+("cause"in D?String(D.cause):""));if(i)return ut(this).info(`[${T}] connection ${J?"timed out":"failed"} - ${z}`),ut(this).debug(`[${T}] connection ${J?"timed out":"failed"} (${z})`,ki({retryOfRequestLogID:s,url:v,durationMs:B-b,message:D.message})),this.retryRequest(p,i,s??T);throw ut(this).info(`[${T}] connection ${J?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${T}] connection ${J?"timed out":"failed"} (error; no more retries left)`,ki({retryOfRequestLogID:s,url:v,durationMs:B-b,message:D.message})),J?new kv:new ja({cause:D})}const F=`[${T}${A}] ${g.method} ${v} ${D.ok?"succeeded":"failed"} with status ${D.status} in ${B-b}ms`;if(!D.ok){const z=await this.shouldRetry(D);if(i&&z){const Q=`retrying, ${i} attempts remaining`;return await mM(D.body),ut(this).info(`${F} - ${Q}`),ut(this).debug(`[${T}] response error (${Q})`,ki({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:B-b})),this.retryRequest(p,i,s??T,D.headers)}const J=z?"error; no more retries left":"error; not retryable";ut(this).info(`${F} - ${J}`);const H=await D.text().catch(Q=>sd(Q).message),ee=aM(H),K=ee?void 0:H;throw ut(this).debug(`[${T}] response error (${J})`,ki({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,message:K,durationMs:Date.now()-b})),this.makeStatusError(D.status,ee,K,D.headers)}return ut(this).info(F),ut(this).debug(`[${T}] response start`,ki({retryOfRequestLogID:s,url:D.url,status:D.status,headers:D.headers,durationMs:B-b})),{response:D,options:p,controller:U,requestLogID:T,retryOfRequestLogID:s,startTime:b}}async fetchWithTimeout(e,i,s,a){const u=i||{},{signal:d,method:p}=u,y=qa(u,["signal","method"]);d&&d.addEventListener("abort",()=>a.abort());const g=setTimeout(()=>a.abort(),s),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,E=Object.assign(Object.assign(Object.assign({signal:a.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);p&&(E.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(g)}}async shouldRetry(e){const i=e.headers.get("x-should-retry");return i==="true"?!0:i==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,i,s,a){var u;let d;const p=a==null?void 0:a.get("retry-after-ms");if(p){const g=parseFloat(p);Number.isNaN(g)||(d=g)}const y=a==null?void 0:a.get("retry-after");if(y&&!d){const g=parseFloat(y);Number.isNaN(g)?d=Date.parse(y)-Date.now():d=g*1e3}if(!(d&&0<=d&&d<60*1e3)){const g=(u=e.maxRetries)!==null&&u!==void 0?u:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(i,g)}return await lM(d),this.makeRequest(e,i-1,s)}calculateDefaultRetryTimeoutMillis(e,i){const u=i-e,d=Math.min(.5*Math.pow(2,u),8),p=1-Math.random()*.25;return d*p*1e3}async buildRequest(e,{retryCount:i=0}={}){var s,a,u;const d=Object.assign({},e),{method:p,path:y,query:g,defaultBaseURL:v}=d,E=this.buildURL(y,g,v);"timeout"in d&&rM("timeout",d.timeout),d.timeout=(s=d.timeout)!==null&&s!==void 0?s:this.timeout;const{bodyHeaders:T,body:A}=this.buildBody({options:d}),b=await this.buildHeaders({options:e,method:p,bodyHeaders:T,retryCount:i});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:b},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&A instanceof globalThis.ReadableStream&&{duplex:"half"}),A&&{body:A}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(u=d.fetchOptions)!==null&&u!==void 0?u:{}),url:E,timeout:d.timeout}}async buildHeaders({options:e,method:i,bodyHeaders:s,retryCount:a}){let u={};this.idempotencyHeader&&i!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),u[this.idempotencyHeader]=e.idempotencyKey);const d=await this.authHeaders(e);let p=Ls([u,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),fM()),this._options.defaultHeaders,s,e.headers,d]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:i}}){if(!e)return{bodyHeaders:void 0,body:void 0};const s=Ls([i]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&s.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:pM(e)}:this.encoder({body:e,headers:s})}}tl.DEFAULT_TIMEOUT=6e4;class je extends tl{constructor(){super(...arguments),this.interactions=new $v(this)}}Wv=je;je.GeminiNextGenAPIClient=Wv;je.GeminiNextGenAPIClientError=Bt;je.APIError=ft;je.APIConnectionError=ja;je.APIConnectionTimeoutError=kv;je.APIUserAbortError=rd;je.NotFoundError=Ov;je.ConflictError=Hv;je.RateLimitError=Gv;je.BadRequestError=Uv;je.AuthenticationError=Lv;je.InternalServerError=Bv;je.PermissionDeniedError=Pv;je.UnprocessableEntityError=Vv;je.toFile=EM;je.Interactions=$v;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UM(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function LM(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function PM(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function OM(n,e){const i={},s=c(n,["sdkHttpResponse"]);return s!=null&&f(i,["sdkHttpResponse"],s),i}function HM(n,e,i){const s={};if(c(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=c(n,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),c(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=c(n,["epochCount"]);e!==void 0&&u!=null&&f(e,["tuningTask","hyperparameters","epochCount"],u);const d=c(n,["learningRateMultiplier"]);if(d!=null&&f(s,["tuningTask","hyperparameters","learningRateMultiplier"],d),c(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(c(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(c(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(c(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const p=c(n,["batchSize"]);e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","batchSize"],p);const y=c(n,["learningRate"]);if(e!==void 0&&y!=null&&f(e,["tuningTask","hyperparameters","learningRate"],y),c(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(c(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(c(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(c(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(c(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(c(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return s}function VM(n,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const H=c(n,["validationDataset"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec"],Lc(H))}else if(a==="PREFERENCE_TUNING"){const H=c(n,["validationDataset"]);e!==void 0&&H!=null&&f(e,["preferenceOptimizationSpec"],Lc(H))}else if(a==="DISTILLATION"){const H=c(n,["validationDataset"]);e!==void 0&&H!=null&&f(e,["distillationSpec"],Lc(H))}const u=c(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&f(e,["tunedModelDisplayName"],u);const d=c(n,["description"]);e!==void 0&&d!=null&&f(e,["description"],d);let p=c(i,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const H=c(n,["epochCount"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],H)}else if(p==="PREFERENCE_TUNING"){const H=c(n,["epochCount"]);e!==void 0&&H!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],H)}else if(p==="DISTILLATION"){const H=c(n,["epochCount"]);e!==void 0&&H!=null&&f(e,["distillationSpec","hyperParameters","epochCount"],H)}let y=c(i,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const H=c(n,["learningRateMultiplier"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],H)}else if(y==="PREFERENCE_TUNING"){const H=c(n,["learningRateMultiplier"]);e!==void 0&&H!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],H)}else if(y==="DISTILLATION"){const H=c(n,["learningRateMultiplier"]);e!==void 0&&H!=null&&f(e,["distillationSpec","hyperParameters","learningRateMultiplier"],H)}let g=c(i,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const H=c(n,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],H)}else if(g==="PREFERENCE_TUNING"){const H=c(n,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&f(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],H)}else if(g==="DISTILLATION"){const H=c(n,["exportLastCheckpointOnly"]);e!==void 0&&H!=null&&f(e,["distillationSpec","exportLastCheckpointOnly"],H)}let v=c(i,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const H=c(n,["adapterSize"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],H)}else if(v==="PREFERENCE_TUNING"){const H=c(n,["adapterSize"]);e!==void 0&&H!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],H)}else if(v==="DISTILLATION"){const H=c(n,["adapterSize"]);e!==void 0&&H!=null&&f(e,["distillationSpec","hyperParameters","adapterSize"],H)}let E=c(i,["config","method"]);if(E===void 0&&(E="SUPERVISED_FINE_TUNING"),E==="SUPERVISED_FINE_TUNING"){const H=c(n,["tuningMode"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","tuningMode"],H)}const T=c(n,["customBaseModel"]);e!==void 0&&T!=null&&f(e,["customBaseModel"],T);let A=c(i,["config","method"]);if(A===void 0&&(A="SUPERVISED_FINE_TUNING"),A==="SUPERVISED_FINE_TUNING"){const H=c(n,["batchSize"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","hyperParameters","batchSize"],H)}let b=c(i,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const H=c(n,["learningRate"]);e!==void 0&&H!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRate"],H)}const U=c(n,["labels"]);e!==void 0&&U!=null&&f(e,["labels"],U);const D=c(n,["beta"]);e!==void 0&&D!=null&&f(e,["preferenceOptimizationSpec","hyperParameters","beta"],D);const B=c(n,["baseTeacherModel"]);e!==void 0&&B!=null&&f(e,["distillationSpec","baseTeacherModel"],B);const F=c(n,["tunedTeacherModelSource"]);e!==void 0&&F!=null&&f(e,["distillationSpec","tunedTeacherModelSource"],F);const z=c(n,["sftLossWeightMultiplier"]);e!==void 0&&z!=null&&f(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],z);const J=c(n,["outputUri"]);return e!==void 0&&J!=null&&f(e,["outputUri"],J),s}function GM(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&WM(u);const d=c(n,["config"]);return d!=null&&HM(d,i),i}function BM(n,e){const i={},s=c(n,["baseModel"]);s!=null&&f(i,["baseModel"],s);const a=c(n,["preTunedModel"]);a!=null&&f(i,["preTunedModel"],a);const u=c(n,["trainingDataset"]);u!=null&&ZM(u,i,e);const d=c(n,["config"]);return d!=null&&VM(d,i,e),i}function qM(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function zM(n,e){const i={},s=c(n,["name"]);return s!=null&&f(i,["_url","name"],s),i}function FM(n,e,i){const s={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function JM(n,e,i){const s={},a=c(n,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const u=c(n,["pageToken"]);e!==void 0&&u!=null&&f(e,["_query","pageToken"],u);const d=c(n,["filter"]);return e!==void 0&&d!=null&&f(e,["_query","filter"],d),s}function YM(n,e){const i={},s=c(n,["config"]);return s!=null&&FM(s,i),i}function KM(n,e){const i={},s=c(n,["config"]);return s!=null&&JM(s,i),i}function XM(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Zv(p))),f(i,["tuningJobs"],d)}return i}function $M(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const u=c(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>ud(p))),f(i,["tuningJobs"],d)}return i}function QM(n,e){const i={},s=c(n,["name"]);s!=null&&f(i,["model"],s);const a=c(n,["name"]);return a!=null&&f(i,["endpoint"],a),i}function WM(n,e){const i={};if(c(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(c(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=c(n,["examples"]);if(s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>u)),f(i,["examples","examples"],a)}return i}function ZM(n,e,i){const s={};let a=c(i,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(a==="PREFERENCE_TUNING"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(a==="DISTILLATION"){const d=c(n,["gcsUri"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}let u=c(i,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(u==="PREFERENCE_TUNING"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(u==="DISTILLATION"){const d=c(n,["vertexDatasetResource"]);e!==void 0&&d!=null&&f(e,["distillationSpec","promptDatasetUri"],d)}if(c(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Zv(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["name"]);a!=null&&f(i,["name"],a);const u=c(n,["state"]);u!=null&&f(i,["state"],pv(u));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(n,["tuningTask","startTime"]);p!=null&&f(i,["startTime"],p);const y=c(n,["tuningTask","completeTime"]);y!=null&&f(i,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(i,["updateTime"],g);const v=c(n,["description"]);v!=null&&f(i,["description"],v);const E=c(n,["baseModel"]);E!=null&&f(i,["baseModel"],E);const T=c(n,["_self"]);return T!=null&&f(i,["tunedModel"],QM(T)),i}function ud(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["name"]);a!=null&&f(i,["name"],a);const u=c(n,["state"]);u!=null&&f(i,["state"],pv(u));const d=c(n,["createTime"]);d!=null&&f(i,["createTime"],d);const p=c(n,["startTime"]);p!=null&&f(i,["startTime"],p);const y=c(n,["endTime"]);y!=null&&f(i,["endTime"],y);const g=c(n,["updateTime"]);g!=null&&f(i,["updateTime"],g);const v=c(n,["error"]);v!=null&&f(i,["error"],v);const E=c(n,["description"]);E!=null&&f(i,["description"],E);const T=c(n,["baseModel"]);T!=null&&f(i,["baseModel"],T);const A=c(n,["tunedModel"]);A!=null&&f(i,["tunedModel"],A);const b=c(n,["preTunedModel"]);b!=null&&f(i,["preTunedModel"],b);const U=c(n,["supervisedTuningSpec"]);U!=null&&f(i,["supervisedTuningSpec"],U);const D=c(n,["preferenceOptimizationSpec"]);D!=null&&f(i,["preferenceOptimizationSpec"],D);const B=c(n,["distillationSpec"]);B!=null&&f(i,["distillationSpec"],B);const F=c(n,["tuningDataStats"]);F!=null&&f(i,["tuningDataStats"],F);const z=c(n,["encryptionSpec"]);z!=null&&f(i,["encryptionSpec"],z);const J=c(n,["partnerModelTuningSpec"]);J!=null&&f(i,["partnerModelTuningSpec"],J);const H=c(n,["customBaseModel"]);H!=null&&f(i,["customBaseModel"],H);const ee=c(n,["experiment"]);ee!=null&&f(i,["experiment"],ee);const K=c(n,["labels"]);K!=null&&f(i,["labels"],K);const de=c(n,["outputUri"]);de!=null&&f(i,["outputUri"],de);const Q=c(n,["pipelineJob"]);Q!=null&&f(i,["pipelineJob"],Q);const ue=c(n,["serviceAccount"]);ue!=null&&f(i,["serviceAccount"],ue);const Ee=c(n,["tunedModelDisplayName"]);Ee!=null&&f(i,["tunedModelDisplayName"],Ee);const Ie=c(n,["veoTuningSpec"]);return Ie!=null&&f(i,["veoTuningSpec"],Ie),i}function jM(n,e){const i={},s=c(n,["sdkHttpResponse"]);s!=null&&f(i,["sdkHttpResponse"],s);const a=c(n,["name"]);a!=null&&f(i,["name"],a);const u=c(n,["metadata"]);u!=null&&f(i,["metadata"],u);const d=c(n,["done"]);d!=null&&f(i,["done"],d);const p=c(n,["error"]);return p!=null&&f(i,["error"],p),i}function Lc(n,e){const i={},s=c(n,["gcsUri"]);s!=null&&f(i,["validationDatasetUri"],s);const a=c(n,["vertexDatasetResource"]);return a!=null&&f(i,["validationDatasetUri"],a),i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eD extends bn{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new Oi(wn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(i),i),this.get=async i=>await this.getInternal(i),this.tune=async i=>{var s;if(this.apiClient.isVertexAI())if(i.baseModel.startsWith("projects/")){const a={tunedModelName:i.baseModel};!((s=i.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(a.checkpointId=i.config.preTunedModelCheckpointId);const u=Object.assign(Object.assign({},i),{preTunedModel:a});return u.baseModel=void 0,await this.tuneInternal(u)}else{const a=Object.assign({},i);return await this.tuneInternal(a)}else{const a=Object.assign({},i),u=await this.tuneMldevInternal(a);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Qc.JOB_STATE_QUEUED}}}}async getInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=zM(e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>ud(v))}else{const g=qM(e);return p=$("{name}",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>Zv(v))}}async listInternal(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=KM(e);return p=$("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=$M(v),T=new D0;return Object.assign(T,E),T})}else{const g=YM(e);return p=$("tunedModels",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=XM(v),T=new D0;return Object.assign(T,E),T})}}async cancel(e){var i,s,a,u;let d,p="",y={};if(this.apiClient.isVertexAI()){const g=LM(e);return p=$("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=OM(v),T=new k0;return Object.assign(T,E),T})}else{const g=UM(e);return p=$("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,d=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json().then(E=>{const T=E;return T.sdkHttpResponse={headers:v.headers},T})),d.then(v=>{const E=PM(v),T=new k0;return Object.assign(T,E),T})}}async tuneInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI()){const p=BM(e,e);return u=$("tuningJobs",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>ud(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,s;let a,u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=GM(e);return u=$("tunedModels",p._url),d=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),a.then(y=>jM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tD{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const nD=1024*1024*8,iD=3,oD=1e3,sD=2,Fa="x-goog-upload-status";async function rD(n,e,i){var s;const a=await jv(n,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return u.file}async function aD(n,e,i){var s;const a=await jv(n,e,i),u=await(a==null?void 0:a.json());if(((s=a==null?void 0:a.headers)===null||s===void 0?void 0:s[Fa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=lv(u),p=new bd;return Object.assign(p,d),p}async function jv(n,e,i){var s,a;let u=0,d=0,p=new Zc(new Response),y="upload";for(u=n.size;d<u;){const g=Math.min(nD,u-d),v=n.slice(d,d+g);d+g>=u&&(y+=", finalize");let E=0,T=oD;for(;E<iD&&(p=await i.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(g)}}}),!(!((s=p==null?void 0:p.headers)===null||s===void 0)&&s[Fa]));)E++,await uD(T),T=T*sD;if(d+=g,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Fa])!=="active")break;if(u<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function lD(n){return{size:n.size,type:n.type}}function uD(n){return new Promise(e=>setTimeout(e,n))}class cD{async upload(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await rD(e,i,s)}async uploadToFileSearchStore(e,i,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aD(e,i,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lD(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dD{create(e,i,s){return new fD(e,i,s)}}class fD{constructor(e,i,s){this.url=e,this.headers=i,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ry="x-goog-api-key";class hD{constructor(e){this.apiKey=e}async addAuthHeaders(e,i){if(e.get(ry)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ry,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const pD="gl-node/";class mD{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const i=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=i.interactions,this._interactions}constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const s=sI(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new hD(this.apiKey);this.apiClient=new l1({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:pD+"web",uploader:new cD,downloader:new tD}),this.models=new w1(this.apiClient),this.live=new E1(this.apiClient,a,new dD),this.batches=new Lw(this.apiClient),this.chats=new gb(this.models,this.apiClient),this.caches=new hb(this.apiClient),this.files=new bb(this.apiClient),this.operations=new b1(this.apiClient),this.authTokens=new F1(this.apiClient),this.tunings=new eD(this.apiClient),this.fileSearchStores=new Z1(this.apiClient)}}const gD=async n=>({inlineData:{data:await new Promise(s=>{const a=new FileReader;a.onloadend=()=>{typeof a.result=="string"?s(a.result.split(",")[1]):s("")},a.readAsDataURL(n)}),mimeType:n.type}}),yD=async n=>{try{const e="AIzaSyBjlRZzyG-1uY-rcF-bK-ECbpMpNZzvXIw",i=new mD({apiKey:e}),s=await gD(n),d=(await i.models.generateContent({model:"gemini-1.5-flash",contents:{parts:[{text:`
      You are an expert audio analyst specializing in detecting AI-generated speech. 
      Analyze the provided audio file and determine if it is human or AI-generated.
      
      Look for:
      1. Spectral artifacts or metallic reverberations common in early TTS models.
      2. Perfect prosody or unnatural pauses (too consistent or absent).
      3. Consistent background noise floors that don't fluctuate naturally.
      4. Subtle glitches at phoneme boundaries.
      
      Classify as 'AI', 'Human', or 'Uncertain'.
      Identify the primary language being spoken.
      Provide 3-5 specific reasoning bullet points about pitch, prosody, pauses, or artifacts.
      
      Response must be in the specified JSON format.
    `},s]},config:{responseMimeType:"application/json",responseSchema:{type:ct.OBJECT,properties:{label:{type:ct.STRING,enum:["AI","Human","Uncertain"],description:"The classification label."},confidence:{type:ct.NUMBER,description:"Confidence score (0.0 to 1.0)."},explanation:{type:ct.STRING,description:"Summary of the finding."},reasoningPoints:{type:ct.ARRAY,items:{type:ct.STRING},description:"Specific acoustic clues discovered."},detectedLanguage:{type:ct.STRING,description:"Primary language detected."}},required:["label","confidence","explanation","reasoningPoints"]}}})).text;if(!d)throw new Error("No analysis text returned from the model.");return JSON.parse(d.trim())}catch(e){throw console.error("Gemini error:",e),new Error("Analysis failed. Please ensure the file is a clear audio recording under 30s.")}},vD=({user:n,isGuest:e,onLogout:i,onExitGuest:s,theme:a,onToggleTheme:u})=>{const{t:d}=$a(),[p,y]=ae.useState(!1),[g,v]=ae.useState(null),[E,T]=ae.useState([]),[A,b]=ae.useState(null),[U,D]=ae.useState(null),B=ae.useCallback(async J=>{y(!0),b(null),v(null),D(J);try{const H=await yD(J);v(H);const ee={id:Math.random().toString(36).substr(2,9),fileName:J.name,timestamp:Date.now(),result:H};T(K=>[ee,...K])}catch(H){b(H.message||"Analysis failed. Please try again."),console.error(H)}finally{y(!1)}},[]),F=ae.useCallback(J=>{T(H=>H.filter(ee=>ee.id!==J))},[]),z=()=>{v(null),b(null),D(null)};return S.jsx("div",{className:"min-h-screen bg-slate-100 dark:bg-slate-950 font-sans flex flex-col items-center p-4 sm:p-6 lg:p-8 animate-fade-in transition-colors duration-300",children:S.jsxs("div",{className:"w-full max-w-7xl mx-auto flex flex-col min-h-full",children:[S.jsx(Qx,{user:n,isGuest:e,onLogout:i,onExitGuest:s,theme:a,onToggleTheme:u}),S.jsxs("main",{className:"mt-12 flex-grow",children:[S.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[S.jsx("div",{className:"lg:col-span-8 bg-white dark:bg-slate-900 rounded-3xl p-6 sm:p-10 shadow-xl border border-slate-200 dark:border-slate-800 transition-all duration-300",children:g?S.jsx(Zx,{result:g,fileName:(U==null?void 0:U.name)||"",onReset:z}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{className:"mb-8 text-center",children:[S.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-white uppercase tracking-tight",children:d("detectTitle")}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm font-medium mt-1",children:d("detectSubtitle")})]}),S.jsx(Wx,{onAnalyze:B,isLoading:p,error:A,isGuest:e,onExitGuest:s})]})}),S.jsx("div",{className:"lg:col-span-4 h-full",children:S.jsx(jx,{history:E,onDelete:F,isGuest:e,onExitGuest:s})})]}),S.jsx("div",{className:"mt-12 mb-12",children:S.jsx(eI,{})})]})]})})},Aa=({icon:n,title:e,children:i,delay:s})=>S.jsxs("div",{className:"bg-white dark:bg-slate-900/50 rounded-2xl p-6 border border-slate-200 dark:border-slate-800 transition-all duration-300 transform hover:-translate-y-2 hover:shadow-2xl hover:border-sky-500/30","data-aos":"fade-up","data-aos-delay":s,children:[S.jsx("div",{className:"w-12 h-12 bg-sky-100 dark:bg-sky-900/30 rounded-lg flex items-center justify-center mb-4 text-sky-600 dark:text-sky-400",children:n}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-slate-100 mb-2",children:e}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm leading-relaxed",children:i})]}),Pc=({icon:n,title:e,number:i,children:s,animation:a})=>S.jsxs("div",{className:"relative pl-16","data-aos":a,children:[S.jsx("div",{className:"absolute left-0 top-0 w-12 h-12 bg-slate-200/80 dark:bg-slate-800 rounded-xl flex items-center justify-center font-black text-2xl text-sky-600 dark:text-sky-400",children:i}),S.jsx("h3",{className:"text-xl font-bold text-slate-800 dark:text-white mb-2",children:e}),S.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:s})]}),_D=({onStart:n,onGuestLogin:e,theme:i,onToggleTheme:s})=>{const{t:a}=$a(),u=(d,p)=>{d.preventDefault();const y=document.getElementById(p);if(y){const v=document.body.getBoundingClientRect().top,A=y.getBoundingClientRect().top-v-80;window.scrollTo({top:A,behavior:"smooth"}),window.history.pushState(null,"",`#${p}`)}};return S.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950 text-slate-900 dark:text-slate-100 selection:bg-sky-500/30 transition-colors duration-300 overflow-x-hidden",children:[S.jsxs("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-0",children:[S.jsx("div",{className:"absolute top-[-20%] left-[-15%] w-[70%] h-[70%] bg-sky-600/5 dark:bg-sky-600/10 rounded-full blur-[150px] opacity-60 animate-pulse",style:{animationDuration:"8s"}}),S.jsx("div",{className:"absolute bottom-[-20%] right-[-20%] w-[60%] h-[60%] bg-indigo-600/5 dark:bg-indigo-600/10 rounded-full blur-[150px] opacity-60 animate-pulse",style:{animationDuration:"10s"}})]}),S.jsx("header",{className:"fixed top-0 left-0 right-0 z-[100] bg-white/80 dark:bg-slate-950/80 backdrop-blur-lg border-b border-slate-200/50 dark:border-slate-800/50 transition-colors",children:S.jsxs("nav",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[S.jsxs("a",{href:"#",className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-sky-500 to-blue-700 rounded-lg flex items-center justify-center shadow-lg shadow-sky-500/20",children:S.jsx(Sd,{className:"w-5 h-5 text-white"})}),S.jsx("span",{className:"text-lg font-black tracking-tighter bg-clip-text text-transparent bg-gradient-to-r from-slate-900 to-slate-500 dark:from-white dark:to-slate-500",children:"VOICEVERIFY"})]}),S.jsxs("div",{className:"hidden md:flex items-center gap-10 text-sm font-bold text-slate-500 dark:text-slate-400",children:[S.jsx("a",{href:"#features",onClick:d=>u(d,"features"),className:"hover:text-sky-600 dark:hover:text-white transition-all transform hover:-translate-y-0.5",children:a("navFeatures")}),S.jsx("a",{href:"#technology",onClick:d=>u(d,"technology"),className:"hover:text-sky-600 dark:hover:text-white transition-all transform hover:-translate-y-0.5",children:a("navTechnology")}),S.jsx("a",{href:"#privacy",onClick:d=>u(d,"privacy"),className:"hover:text-sky-600 dark:hover:text-white transition-all transform hover:-translate-y-0.5",children:a("navPrivacy")})]}),S.jsxs("div",{className:"flex items-center gap-3",children:[S.jsx(av,{}),S.jsx(xd,{theme:i,onToggle:s}),S.jsx("button",{onClick:()=>n("login"),className:"hidden sm:block px-5 py-2 text-slate-600 dark:text-slate-300 hover:text-sky-600 dark:hover:text-white font-bold text-sm transition-all",children:a("btnLogIn")}),S.jsx("button",{onClick:()=>n("signup"),className:"px-6 py-2.5 rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-950 hover:bg-slate-800 dark:hover:bg-slate-200 transition-all font-black text-sm shadow-xl dark:shadow-white/5 transform hover:scale-105",children:a("btnSignUp")})]})]})}),S.jsxs("main",{className:"relative z-10",children:[S.jsx("section",{className:"max-w-7xl mx-auto px-6 pt-48 pb-40 text-center",children:S.jsxs("div",{"data-aos":"fade-up",children:[S.jsxs("h1",{className:"text-5xl md:text-7xl lg:text-8xl font-black tracking-tight leading-[0.9] mb-8 text-slate-900 dark:text-white",children:[a("heroTitle1")," ",S.jsx("br",{}),S.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-sky-600 via-blue-600 to-indigo-700 dark:from-sky-400 dark:via-blue-500 dark:to-indigo-600",children:a("heroTitle2")})]}),S.jsx("p",{className:"text-lg md:text-xl text-slate-600 dark:text-slate-400 max-w-3xl mx-auto mb-12 leading-relaxed","data-aos":"fade-up","data-aos-delay":"200",children:a("heroSubtitle")}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-5","data-aos":"fade-up","data-aos-delay":"400",children:[S.jsx("button",{onClick:()=>n("signup"),className:"w-full sm:w-auto px-10 py-4 bg-sky-600 hover:bg-sky-500 rounded-xl text-white font-black text-lg shadow-2xl shadow-sky-600/30 transition-all hover:scale-[1.03] active:scale-[0.98]",children:a("btnStartAnalysis")}),S.jsx("button",{onClick:e,className:"w-full sm:w-auto px-10 py-4 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl text-slate-700 dark:text-slate-200 font-bold text-lg hover:bg-slate-50 dark:hover:bg-slate-800 transition-all hover:scale-[1.03] active:scale-[0.98]",children:a("btnTryGuest")})]})]})}),S.jsx("section",{id:"features",className:"py-24 bg-slate-50 dark:bg-slate-900/50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[S.jsxs("div",{className:"text-center","data-aos":"fade-up",children:[S.jsx("h2",{className:"text-base font-bold text-sky-600 dark:text-sky-400 uppercase tracking-widest",children:a("featuresTitle")}),S.jsx("p",{className:"mt-4 text-4xl md:text-5xl font-black text-slate-800 dark:text-white max-w-3xl mx-auto",children:a("featuresSubtitle")})]}),S.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8 mt-16",children:[S.jsx(Aa,{title:a("feature1Title"),icon:S.jsx(Ad,{className:"w-6 h-6"}),delay:0,children:a("feature1Desc")}),S.jsx(Aa,{title:a("feature2Title"),icon:S.jsx(bg,{className:"w-6 h-6"}),delay:100,children:a("feature2Desc")}),S.jsx(Aa,{title:a("feature3Title"),icon:S.jsx(sv,{className:"w-6 h-6"}),delay:200,children:a("feature3Desc")}),S.jsx(Aa,{title:a("feature4Title"),icon:S.jsx(Jx,{className:"w-6 h-6"}),delay:300,children:a("feature4Desc")})]})]})}),S.jsx("section",{id:"how-it-works",className:"py-24",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[S.jsxs("div",{"data-aos":"fade-up",children:[S.jsx("h2",{className:"text-base font-bold text-sky-600 dark:text-sky-400 uppercase tracking-widest",children:a("howItWorksTitle")}),S.jsx("p",{className:"mt-4 text-4xl md:text-5xl font-black text-slate-800 dark:text-white",children:a("howItWorksSubtitle")})]}),S.jsxs("div",{className:"mt-16 space-y-12 text-left",children:[S.jsx(Pc,{number:"1",title:a("step1Title"),icon:S.jsx(Kc,{className:"w-8 h-8"}),animation:"fade-right",children:a("step1Desc")}),S.jsx(Pc,{number:"2",title:a("step2Title"),icon:S.jsx(bg,{className:"w-8 h-8"}),animation:"fade-left",children:a("step2Desc")}),S.jsx(Pc,{number:"3",title:a("step3Title"),icon:S.jsx(Fx,{className:"w-8 h-8"}),animation:"fade-right",children:a("step3Desc")})]})]})}),S.jsx("section",{id:"technology",className:"py-24 bg-slate-50 dark:bg-slate-900/50",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[S.jsxs("div",{"data-aos":"fade-up",children:[S.jsx("h2",{className:"text-base font-bold text-sky-600 dark:text-sky-400 uppercase tracking-widest",children:a("techTitle")}),S.jsx("p",{className:"mt-4 text-4xl md:text-5xl font-black text-slate-800 dark:text-white max-w-3xl mx-auto",children:a("techSubtitle")})]}),S.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mt-16 text-left",children:[S.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-xl","data-aos":"fade-up","data-aos-delay":"0",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("techCard1Title")}),S.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:a("techCard1Desc")})]}),S.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-xl","data-aos":"fade-up","data-aos-delay":"100",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("techCard2Title")}),S.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:a("techCard2Desc")})]}),S.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800/50 rounded-2xl border border-slate-200 dark:border-slate-700 transition-all duration-300 hover:shadow-xl","data-aos":"fade-up","data-aos-delay":"200",children:[S.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white",children:a("techCard3Title")}),S.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:a("techCard3Desc")})]})]})]})}),S.jsx("section",{id:"privacy",className:"py-24",children:S.jsxs("div",{className:"max-w-4xl mx-auto px-6 flex flex-col md:flex-row items-center gap-12",children:[S.jsx("div",{className:"flex-shrink-0","data-aos":"zoom-in",children:S.jsx("div",{className:"w-40 h-40 bg-gradient-to-br from-green-400 to-emerald-600 rounded-3xl flex items-center justify-center shadow-2xl shadow-emerald-500/30",children:S.jsx(va,{className:"w-20 h-20 text-white"})})}),S.jsxs("div",{"data-aos":"fade-left",children:[S.jsx("h2",{className:"text-base font-bold text-green-600 dark:text-green-400 uppercase tracking-widest",children:a("privacyTitle")}),S.jsx("p",{className:"mt-4 text-4xl font-black text-slate-800 dark:text-white",children:a("privacySubtitle")}),S.jsx("p",{className:"mt-6 text-slate-600 dark:text-slate-400",children:a("privacyDesc")}),S.jsxs("ul",{className:"mt-6 space-y-2 text-sm text-slate-500 dark:text-slate-400",children:[S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx(va,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),a("privacyPoint1")]}),S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx(va,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),a("privacyPoint2")]}),S.jsxs("li",{className:"flex items-start gap-3",children:[S.jsx(va,{className:"w-4 h-4 text-green-500 mt-1 flex-shrink-0"}),a("privacyPoint3")]})]})]})]})})]}),S.jsx("footer",{className:"relative z-10 py-24 bg-slate-900 dark:bg-slate-950 text-white",children:S.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[S.jsx("h2",{className:"text-3xl md:text-4xl font-black","data-aos":"fade-up",children:a("ctaTitle")}),S.jsx("p",{className:"max-w-xl mx-auto mt-4 text-slate-400","data-aos":"fade-up","data-aos-delay":"100",children:a("ctaSubtitle")}),S.jsx("div",{className:"mt-10","data-aos":"fade-up","data-aos-delay":"200",children:S.jsx("button",{onClick:()=>n("signup"),className:"px-10 py-4 bg-white hover:bg-slate-200 rounded-xl text-slate-950 font-black text-lg shadow-2xl shadow-white/10 transition-all hover:scale-[1.03] active:scale-[0.98]",children:a("btnSignUp")})}),S.jsxs("div",{className:"mt-24 border-t border-slate-800 pt-12",children:[S.jsx("p",{className:"text-slate-500 text-sm mb-6 uppercase tracking-[0.2em] font-black",children:a("footerTagline")}),S.jsx("div",{className:"text-[10px] text-slate-600 font-black uppercase tracking-[0.4em]",children:a("footerCopyright")})]})]})})]})},TD=({isFirebaseConfigured:n,isGeminiConfigured:e})=>S.jsx("div",{className:"min-h-screen bg-slate-900 flex flex-col justify-center items-center p-4 sm:p-6 lg:p-8 animate-fade-in",children:S.jsx("div",{className:"w-full max-w-3xl bg-slate-800/50 rounded-2xl p-8 shadow-2xl border border-amber-500/50",children:S.jsxs("div",{className:"flex items-start gap-4",children:[S.jsx(Cd,{className:"w-10 h-10 text-amber-400 flex-shrink-0 mt-1"}),S.jsxs("div",{children:[S.jsx("h1",{className:"text-2xl font-bold text-amber-400",children:"Action Required: Project Configuration"}),S.jsx("p",{className:"mt-3 text-slate-300",children:"Before you can use this application, you need to provide your API keys for Firebase."}),S.jsx("p",{className:"mt-2 text-slate-400",children:"Please open the following file in your code editor:"}),S.jsx("div",{className:"my-4 p-3 bg-slate-900 rounded-md font-mono text-sky-400 text-center",children:"config.ts"}),S.jsx("div",{className:"space-y-5 border-t border-slate-700 pt-4",children:!n&&S.jsxs("div",{className:"animate-fade-in-short",children:[S.jsx("h3",{className:"font-semibold text-lg text-slate-200",children:"1. Firebase Setup (Incomplete)"}),S.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:["Update the `firebaseConfig` object with the values from your Firebase project settings.",S.jsx("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-sky-400 hover:underline ml-2 font-semibold",children:"Find your Firebase keys "})]})]})}),S.jsx("p",{className:"mt-6 text-sm text-slate-500",children:"After saving your changes to `config.ts`, please refresh this page."})]})]})})}),ED=300*1e3,SD=()=>{const[n,e]=ae.useState(null),[i,s]=ae.useState(!1),[a,u]=ae.useState(!0),[d,p]=ae.useState("light"),[y,g]=ae.useState(!1),[v,E]=ae.useState("login"),T=ae.useRef(null);ae.useEffect(()=>{const z=localStorage.getItem("theme"),J=z||"light";p(J),J==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[]);const A=()=>{const z=d==="light"?"dark":"light";p(z),localStorage.setItem("theme",z),z==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")};ae.useEffect(()=>{const z=TA(Ha,J=>{e(J),u(!1),J&&(g(!0),s(!1))});return()=>z()},[]),ae.useEffect(()=>(i?T.current=setTimeout(()=>{D(),alert("Guest session expired. Please sign in to continue using VoiceVerify.")},ED):T.current&&clearTimeout(T.current),()=>{T.current&&clearTimeout(T.current)}),[i]);const b=async()=>{await Ha.signOut(),s(!1),g(!1)},U=()=>{s(!0),g(!0)},D=()=>{s(!1),g(!1),T.current&&clearTimeout(T.current)},B=(z="login")=>{E(z),g(!0)},F=()=>{g(!1)};return!Ag||!xg?S.jsx(TD,{isFirebaseConfigured:Ag,isGeminiConfigured:xg}):a?S.jsx("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 flex items-center justify-center",children:S.jsx(Ed,{})}):n||i?S.jsx(vD,{user:n,isGuest:i,onLogout:b,onExitGuest:D,theme:d,onToggleTheme:A}):y?S.jsx(Kx,{onGuestLogin:U,initialMode:v,onBack:F,theme:d,onToggleTheme:A}):S.jsx(_D,{onStart:B,onGuestLogin:U,theme:d,onToggleTheme:A})},CD=()=>S.jsx($x,{children:S.jsx(SD,{})}),e_=document.getElementById("root");if(!e_)throw new Error("Could not find root element to mount to");const AD=LE.createRoot(e_);AD.render(S.jsx(wE.StrictMode,{children:S.jsx(CD,{})}));
